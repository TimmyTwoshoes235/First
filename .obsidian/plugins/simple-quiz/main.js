/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var ns=Object.defineProperty;var Sl=Object.getOwnPropertyDescriptor;var Ml=Object.getOwnPropertyNames;var kl=Object.prototype.hasOwnProperty;var Dl=(T,y,d)=>y in T?ns(T,y,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[y]=d;var Tl=(T,y)=>()=>(y||T((y={exports:{}}).exports,y),y.exports),Pl=(T,y)=>{for(var d in y)ns(T,d,{get:y[d],enumerable:!0})},El=(T,y,d,m)=>{if(y&&typeof y=="object"||typeof y=="function")for(let x of Ml(y))!kl.call(T,x)&&x!==d&&ns(T,x,{get:()=>y[x],enumerable:!(m=Sl(y,x))||m.enumerable});return T};var Il=T=>El(ns({},"__esModule",{value:!0}),T);var F=(T,y,d)=>(Dl(T,typeof y!="symbol"?y+"":y,d),d);var Ur=Tl((on,rn)=>{(function(T,y){typeof on=="object"&&typeof rn!="undefined"?rn.exports=y():typeof define=="function"&&define.amd?define(y):(T=typeof globalThis!="undefined"?globalThis:T||self).Chart=y()})(on,function(){var de,ue,ge,es,fe,pe,zt,me,Ae,ss,is;"use strict";var T=Object.freeze({__proto__:null,get Colors(){return cl},get Decimation(){return dl},get Filler(){return bl},get Legend(){return xl},get SubTitle(){return vl},get Title(){return yl},get Tooltip(){return Cl}});function y(){}let d=(()=>{let e=0;return()=>e++})();function m(e){return e==null}function x(e){if(Array.isArray&&Array.isArray(e))return!0;let V=Object.prototype.toString.call(e);return V.slice(0,7)==="[object"&&V.slice(-6)==="Array]"}function C(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function S(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function D(e,V){return S(e)?e:V}function k(e,V){return e===void 0?V:e}let U=(e,V)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/V,q=(e,V)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*V:+e;function L(e,V,t){if(e&&typeof e.call=="function")return e.apply(t,V)}function R(e,V,t,s){let i,n,o;if(x(e))if(n=e.length,s)for(i=n-1;i>=0;i--)V.call(t,e[i],i);else for(i=0;i<n;i++)V.call(t,e[i],i);else if(C(e))for(o=Object.keys(e),n=o.length,i=0;i<n;i++)V.call(t,e[o[i]],o[i])}function G(e,V){let t,s,i,n;if(!e||!V||e.length!==V.length)return!1;for(t=0,s=e.length;t<s;++t)if(i=e[t],n=V[t],i.datasetIndex!==n.datasetIndex||i.index!==n.index)return!1;return!0}function X(e){if(x(e))return e.map(X);if(C(e)){let V=Object.create(null),t=Object.keys(e),s=t.length,i=0;for(;i<s;++i)V[t[i]]=X(e[t[i]]);return V}return e}function J(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function oV(e,V,t,s){if(!J(e))return;let i=V[e],n=t[e];C(i)&&C(n)?tV(i,n,s):V[e]=X(n)}function tV(e,V,t){let s=x(V)?V:[V],i=s.length;if(!C(e))return e;let n=(t=t||{}).merger||oV,o;for(let r=0;r<i;++r){if(o=s[r],!C(o))continue;let a=Object.keys(o);for(let l=0,c=a.length;l<c;++l)n(a[l],e,o,t)}return e}function yV(e,V){return tV(e,V,{merger:HV})}function HV(e,V,t){if(!J(e))return;let s=V[e],i=t[e];C(s)&&C(i)?yV(s,i):Object.prototype.hasOwnProperty.call(V,e)||(V[e]=X(i))}let MV={"":e=>e,x:e=>e.x,y:e=>e.y};function lV(e){let V=e.split("."),t=[],s="";for(let i of V)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function rV(e,V){return(MV[V]||(MV[V]=function(s){let i=lV(s);return n=>{for(let o of i){if(o==="")break;n=n&&n[o]}return n}}(V)))(e)}function vV(e){return e.charAt(0).toUpperCase()+e.slice(1)}let kV=e=>e!==void 0,pV=e=>typeof e=="function",XV=(e,V)=>{if(e.size!==V.size)return!1;for(let t of e)if(!V.has(t))return!1;return!0};function ve(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}let K=Math.PI,VV=2*K,Z=VV+K,UV=Number.POSITIVE_INFINITY,pt=K/180,eV=K/2,wV=K/4,mt=2*K/3,RV=Math.log10,mV=Math.sign;function Tt(e,V,t){return Math.abs(e-V)<t}function Ns(e){let V=Math.round(e);e=Tt(e,V,e/1e3)?V:e;let t=Math.pow(10,Math.floor(RV(e))),s=e/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function ln(e){let V=[],t=Math.sqrt(e),s;for(s=1;s<t;s++)e%s==0&&(V.push(s),V.push(e/s));return t===(0|t)&&V.push(t),V.sort((i,n)=>i-n).pop(),V}function At(e){return!isNaN(parseFloat(e))&&isFinite(e)}function hn(e,V){let t=Math.round(e);return t-V<=e&&t+V>=e}function Qs(e,V,t){let s,i,n;for(s=0,i=e.length;s<i;s++)n=e[s][t],isNaN(n)||(V.min=Math.min(V.min,n),V.max=Math.max(V.max,n))}function DV(e){return e*(K/180)}function we(e){return e*(180/K)}function Hs(e){if(!S(e))return;let V=1,t=0;for(;Math.round(e*V)/V!==e;)V*=10,t++;return t}function Us(e,V){let t=V.x-e.x,s=V.y-e.y,i=Math.sqrt(t*t+s*s),n=Math.atan2(s,t);return n<-.5*K&&(n+=VV),{angle:n,distance:i}}function _e(e,V){return Math.sqrt(Math.pow(V.x-e.x,2)+Math.pow(V.y-e.y,2))}function cn(e,V){return(e-V+Z)%VV-K}function AV(e){return(e%VV+VV)%VV}function Pt(e,V,t,s){let i=AV(e),n=AV(V),o=AV(t),r=AV(n-i),a=AV(o-i),l=AV(i-n),c=AV(i-o);return i===n||i===o||s&&n===o||r>a&&l<c}function hV(e,V,t){return Math.max(V,Math.min(t,e))}function dn(e){return hV(e,-32768,32767)}function jV(e,V,t,s=1e-6){return e>=Math.min(V,t)-s&&e<=Math.max(V,t)+s}function Ce(e,V,t){t=t||(o=>e[o]<V);let s,i=e.length-1,n=0;for(;i-n>1;)s=n+i>>1,t(s)?n=s:i=s;return{lo:n,hi:i}}let qV=(e,V,t,s)=>Ce(e,t,s?i=>{let n=e[i][V];return n<t||n===t&&e[i+1][V]===t}:i=>e[i][V]<t),un=(e,V,t)=>Ce(e,t,s=>e[s][V]>=t);function gn(e,V,t){let s=0,i=e.length;for(;s<i&&e[s]<V;)s++;for(;i>s&&e[i-1]>t;)i--;return s>0||i<e.length?e.slice(s,i):e}let fn=["push","pop","shift","splice","unshift"];function pn(e,V){e._chartjs?e._chartjs.listeners.push(V):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[V]}}),fn.forEach(t=>{let s="_onData"+vV(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...n){let o=i.apply(this,n);return e._chartjs.listeners.forEach(r=>{typeof r[s]=="function"&&r[s](...n)}),o}})}))}function js(e,V){let t=e._chartjs;if(!t)return;let s=t.listeners,i=s.indexOf(V);i!==-1&&s.splice(i,1),s.length>0||(fn.forEach(n=>{delete e[n]}),delete e._chartjs)}function qs(e){let V=new Set(e);return V.size===e.length?e:Array.from(V)}let Ws=typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame;function Gs(e,V){let t=[],s=!1;return function(...i){t=i,s||(s=!0,Ws.call(window,()=>{s=!1,e.apply(V,t)}))}}function mn(e,V){let t;return function(...s){return V?(clearTimeout(t),t=setTimeout(e,V,s)):e.apply(this,s),V}}let Se=e=>e==="start"?"left":e==="end"?"right":"center",dV=(e,V,t)=>e==="start"?V:e==="end"?t:(V+t)/2,An=(e,V,t,s)=>e===(s?"left":"right")?t:e==="center"?(V+t)/2:V;function Ys(e,V,t){let s=V.length,i=0,n=s;if(e._sorted){let{iScale:o,_parsed:r}=e,a=o.axis,{min:l,max:c,minDefined:h,maxDefined:u}=o.getUserBounds();h&&(i=hV(Math.min(qV(r,a,l).lo,t?s:qV(V,a,o.getPixelForValue(l)).lo),0,s-1)),n=u?hV(Math.max(qV(r,o.axis,c,!0).hi+1,t?0:qV(V,a,o.getPixelForValue(c),!0).hi+1),i,s)-i:s-i}return{start:i,count:n}}function Js(e){let{xScale:V,yScale:t,_scaleRanges:s}=e,i={xmin:V.min,xmax:V.max,ymin:t.min,ymax:t.max};if(!s)return e._scaleRanges=i,!0;let n=s.xmin!==V.min||s.xmax!==V.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),n}class Wr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(V,t,s,i){let n=t.listeners[i],o=t.duration;n.forEach(r=>r({chart:V,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ws.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(V=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;let n=s.items,o,r=n.length-1,a=!1;for(;r>=0;--r)o=n[r],o._active?(o._total>s.duration&&(s.duration=o._total),o.tick(V),a=!0):(n[r]=n[n.length-1],n.pop());a&&(i.draw(),this._notify(i,s,V,"progress")),n.length||(s.running=!1,this._notify(i,s,V,"complete"),s.initial=!1),t+=n.length}),this._lastDate=V,t===0&&(this._running=!1)}_getAnims(V){let t=this._charts,s=t.get(V);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(V,s)),s}listen(V,t,s){this._getAnims(V).listeners[t].push(s)}add(V,t){t&&t.length&&this._getAnims(V).items.push(...t)}has(V){return this._getAnims(V).items.length>0}start(V){let t=this._charts.get(V);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(V){if(!this._running)return!1;let t=this._charts.get(V);return!!(t&&t.running&&t.items.length)}stop(V){let t=this._charts.get(V);if(!t||!t.items.length)return;let s=t.items,i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(V,t,Date.now(),"complete")}remove(V){return this._charts.delete(V)}}var WV=new Wr;function qt(e){return e+.5|0}let et=(e,V,t)=>Math.max(Math.min(e,t),V);function Wt(e){return et(qt(2.55*e),0,255)}function st(e){return et(qt(255*e),0,255)}function ZV(e){return et(qt(e/2.55)/100,0,1)}function bn(e){return et(qt(100*e),0,100)}let TV={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xs=[..."0123456789ABCDEF"],Gr=e=>Xs[15&e],Yr=e=>Xs[(240&e)>>4]+Xs[15&e],Me=e=>(240&e)>>4==(15&e);function Jr(e){var V=(t=>Me(t.r)&&Me(t.g)&&Me(t.b)&&Me(t.a))(e)?Gr:Yr;return e?"#"+V(e.r)+V(e.g)+V(e.b)+((t,s)=>t<255?s(t):"")(e.a,V):void 0}let Xr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xn(e,V,t){let s=V*Math.min(t,1-t),i=(n,o=(n+e/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Zr(e,V,t){let s=(i,n=(i+e/60)%6)=>t-t*V*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function $r(e,V,t){let s=xn(e,1,.5),i;for(V+t>1&&(i=1/(V+t),V*=i,t*=i),i=0;i<3;i++)s[i]*=1-V-t,s[i]+=V;return s}function Zs(e){let V=e.r/255,t=e.g/255,s=e.b/255,i=Math.max(V,t,s),n=Math.min(V,t,s),o=(i+n)/2,r,a,l;return i!==n&&(l=i-n,a=o>.5?l/(2-i-n):l/(i+n),r=function(c,h,u,g,p){return c===p?(h-u)/g+(h<u?6:0):h===p?(u-c)/g+2:(c-h)/g+4}(V,t,s,l,i),r=60*r+.5),[0|r,a||0,o]}function $s(e,V,t,s){return(Array.isArray(V)?e(V[0],V[1],V[2]):e(V,t,s)).map(st)}function Ks(e,V,t){return $s(xn,e,V,t)}function yn(e){return(e%360+360)%360}function Kr(e){let V=Xr.exec(e),t,s=255;if(!V)return;V[5]!==t&&(s=V[6]?Wt(+V[5]):st(+V[5]));let i=yn(+V[2]),n=+V[3]/100,o=+V[4]/100;return t=V[1]==="hwb"?function(r,a,l){return $s($r,r,a,l)}(i,n,o):V[1]==="hsv"?function(r,a,l){return $s(Zr,r,a,l)}(i,n,o):Ks(i,n,o),{r:t[0],g:t[1],b:t[2],a:s}}let vn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},ke;function Va(e){ke||(ke=function(){let t={},s=Object.keys(wn),i=Object.keys(vn),n,o,r,a,l;for(n=0;n<s.length;n++){for(a=l=s[n],o=0;o<i.length;o++)r=i[o],l=l.replace(r,vn[r]);r=parseInt(wn[a],16),t[l]=[r>>16&255,r>>8&255,255&r]}return t}(),ke.transparent=[0,0,0,0]);let V=ke[e.toLowerCase()];return V&&{r:V[0],g:V[1],b:V[2],a:V.length===4?V[3]:255}}let ta=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Vi=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Et=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function De(e,V,t){if(e){let s=Zs(e);s[V]=Math.max(0,Math.min(s[V]+s[V]*t,V===0?360:1)),s=Ks(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function _n(e,V){return e&&Object.assign(V||{},e)}function Cn(e){var V={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(V={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(V.a=st(e[3]))):(V=_n(e,{r:0,g:0,b:0,a:1})).a=st(V.a),V}function ea(e){return e.charAt(0)==="r"?function(V){let t=ta.exec(V),s,i,n,o=255;if(t){if(t[7]!==s){let r=+t[7];o=t[8]?Wt(r):et(255*r,0,255)}return s=+t[1],i=+t[3],n=+t[5],s=255&(t[2]?Wt(s):et(s,0,255)),i=255&(t[4]?Wt(i):et(i,0,255)),n=255&(t[6]?Wt(n):et(n,0,255)),{r:s,g:i,b:n,a:o}}}(e):Kr(e)}class Gt{constructor(V){if(V instanceof Gt)return V;let t=typeof V,s;var i,n,o;t==="object"?s=Cn(V):t==="string"&&(o=(i=V).length,i[0]==="#"&&(o===4||o===5?n={r:255&17*TV[i[1]],g:255&17*TV[i[2]],b:255&17*TV[i[3]],a:o===5?17*TV[i[4]]:255}:o!==7&&o!==9||(n={r:TV[i[1]]<<4|TV[i[2]],g:TV[i[3]]<<4|TV[i[4]],b:TV[i[5]]<<4|TV[i[6]],a:o===9?TV[i[7]]<<4|TV[i[8]]:255})),s=n||Va(V)||ea(V)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var V=_n(this._rgb);return V&&(V.a=ZV(V.a)),V}set rgb(V){this._rgb=Cn(V)}rgbString(){return this._valid?(V=this._rgb)&&(V.a<255?`rgba(${V.r}, ${V.g}, ${V.b}, ${ZV(V.a)})`:`rgb(${V.r}, ${V.g}, ${V.b})`):void 0;var V}hexString(){return this._valid?Jr(this._rgb):void 0}hslString(){return this._valid?function(V){if(!V)return;let t=Zs(V),s=t[0],i=bn(t[1]),n=bn(t[2]);return V.a<255?`hsla(${s}, ${i}%, ${n}%, ${ZV(V.a)})`:`hsl(${s}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(V,t){if(V){let s=this.rgb,i=V.rgb,n,o=t===n?.5:t,r=2*o-1,a=s.a-i.a,l=((r*a==-1?r:(r+a)/(1+r*a))+1)/2;n=1-l,s.r=255&l*s.r+n*i.r+.5,s.g=255&l*s.g+n*i.g+.5,s.b=255&l*s.b+n*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(V,t){return V&&(this._rgb=function(s,i,n){let o=Et(ZV(s.r)),r=Et(ZV(s.g)),a=Et(ZV(s.b));return{r:st(Vi(o+n*(Et(ZV(i.r))-o))),g:st(Vi(r+n*(Et(ZV(i.g))-r))),b:st(Vi(a+n*(Et(ZV(i.b))-a))),a:s.a+n*(i.a-s.a)}}(this._rgb,V._rgb,t)),this}clone(){return new Gt(this.rgb)}alpha(V){return this._rgb.a=st(V),this}clearer(V){return this._rgb.a*=1-V,this}greyscale(){let V=this._rgb,t=qt(.3*V.r+.59*V.g+.11*V.b);return V.r=V.g=V.b=t,this}opaquer(V){return this._rgb.a*=1+V,this}negate(){let V=this._rgb;return V.r=255-V.r,V.g=255-V.g,V.b=255-V.b,this}lighten(V){return De(this._rgb,2,V),this}darken(V){return De(this._rgb,2,-V),this}saturate(V){return De(this._rgb,1,V),this}desaturate(V){return De(this._rgb,1,-V),this}rotate(V){return function(t,s){var i=Zs(t);i[0]=yn(i[0]+s),i=Ks(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,V),this}}function Te(e){if(e&&typeof e=="object"){let V=e.toString();return V==="[object CanvasPattern]"||V==="[object CanvasGradient]"}return!1}function ti(e){return Te(e)?e:new Gt(e)}function Pe(e){return Te(e)?e:new Gt(e).saturate(.5).darken(.1).hexString()}let sa=["x","y","borderWidth","radius","tension"],ia=["color","borderColor","backgroundColor"],Sn=new Map;function It(e,V,t){return function(s,i){i=i||{};let n=s+JSON.stringify(i),o=Sn.get(n);return o||(o=new Intl.NumberFormat(s,i),Sn.set(n,o)),o}(V,t).format(e)}let Mn={values:e=>x(e)?e:""+e,numeric(e,V,t){if(e===0)return"0";let s=this.chart.options.locale,i,n=e;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),n=function(c,h){let u=h.length>3?h[2].value-h[1].value:h[1].value-h[0].value;return Math.abs(u)>=1&&c!==Math.floor(c)&&(u=c-Math.floor(c)),u}(e,t)}let o=RV(Math.abs(n)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),a={notation:i,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(a,this.options.ticks.format),It(e,s,a)},logarithmic(e,V,t){if(e===0)return"0";let s=t[V].significand||e/Math.pow(10,Math.floor(RV(e)));return[1,2,3,5,10,15].includes(s)||V>.8*t.length?Mn.numeric.call(this,e,V,t):""}};var Yt={formatters:Mn};let bt=Object.create(null),ei=Object.create(null);function Jt(e,V){if(!V)return e;let t=V.split(".");for(let s=0,i=t.length;s<i;++s){let n=t[s];e=e[n]||(e[n]=Object.create(null))}return e}function si(e,V,t){return typeof V=="string"?tV(Jt(e,V),t):tV(Jt(e,""),V)}class na{constructor(V,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Pe(i.backgroundColor),this.hoverBorderColor=(s,i)=>Pe(i.borderColor),this.hoverColor=(s,i)=>Pe(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(V),this.apply(t)}set(V,t){return si(this,V,t)}get(V){return Jt(this,V)}describe(V,t){return si(ei,V,t)}override(V,t){return si(bt,V,t)}route(V,t,s,i){let n=Jt(this,V),o=Jt(this,s),r="_"+t;Object.defineProperties(n,{[r]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){let a=this[r],l=o[i];return C(a)?Object.assign({},l,a):k(a,l)},set(a){this[r]=a}}})}apply(V){V.forEach(t=>t(this))}}var nV=new na({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:V=>V!=="onProgress"&&V!=="onComplete"&&V!=="fn"}),e.set("animations",{colors:{type:"color",properties:ia},numbers:{type:"number",properties:sa}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:V=>0|V}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(V,t)=>t.lineWidth,tickColor:(V,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:V=>!V.startsWith("before")&&!V.startsWith("after")&&V!=="callback"&&V!=="parser",_indexable:V=>V!=="borderDash"&&V!=="tickBorderDash"&&V!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:V=>V!=="backdropPadding"&&V!=="callback",_indexable:V=>V!=="backdropPadding"})}]);function Ee(){return typeof window!="undefined"&&typeof document!="undefined"}function Ie(e){let V=e.parentNode;return V&&V.toString()==="[object ShadowRoot]"&&(V=V.host),V}function Fe(e,V,t){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*V.parentNode[t])):s=e,s}let Re=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function kn(e,V){return Re(e).getPropertyValue(V)}let oa=["top","right","bottom","left"];function xt(e,V,t){let s={};t=t?"-"+t:"";for(let i=0;i<4;i++){let n=oa[i];s[n]=parseFloat(e[V+"-"+n+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}let ra=(e,V,t)=>(e>0||V>0)&&(!t||!t.shadowRoot);function it(e,V){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:s}=V,i=Re(t),n=i.boxSizing==="border-box",o=xt(i,"padding"),r=xt(i,"border","width"),{x:a,y:l,box:c}=function(f,A){let b=f.touches,v=b&&b.length?b[0]:f,{offsetX:_,offsetY:w}=v,M,P,E=!1;if(ra(_,w,f.target))M=_,P=w;else{let I=A.getBoundingClientRect();M=v.clientX-I.left,P=v.clientY-I.top,E=!0}return{x:M,y:P,box:E}}(e,t),h=o.left+(c&&r.left),u=o.top+(c&&r.top),{width:g,height:p}=V;return n&&(g-=o.width+r.width,p-=o.height+r.height),{x:Math.round((a-h)/g*t.width/s),y:Math.round((l-u)/p*t.height/s)}}let Le=e=>Math.round(10*e)/10;function Dn(e,V,t,s){let i=Re(e),n=xt(i,"margin"),o=Fe(i.maxWidth,e,"clientWidth")||UV,r=Fe(i.maxHeight,e,"clientHeight")||UV,a=function(h,u,g){let p,f;if(u===void 0||g===void 0){let A=h&&Ie(h);if(A){let b=A.getBoundingClientRect(),v=Re(A),_=xt(v,"border","width"),w=xt(v,"padding");u=b.width-w.width-_.width,g=b.height-w.height-_.height,p=Fe(v.maxWidth,A,"clientWidth"),f=Fe(v.maxHeight,A,"clientHeight")}else u=h.clientWidth,g=h.clientHeight}return{width:u,height:g,maxWidth:p||UV,maxHeight:f||UV}}(e,V,t),{width:l,height:c}=a;if(i.boxSizing==="content-box"){let h=xt(i,"border","width"),u=xt(i,"padding");l-=u.width+h.width,c-=u.height+h.height}return l=Math.max(0,l-n.width),c=Math.max(0,s?l/s:c-n.height),l=Le(Math.min(l,o,a.maxWidth)),c=Le(Math.min(c,r,a.maxHeight)),l&&!c&&(c=Le(l/2)),(V!==void 0||t!==void 0)&&s&&a.height&&c>a.height&&(c=a.height,l=Le(Math.floor(c*s))),{width:l,height:c}}function ii(e,V,t){let s=V||1,i=Math.floor(e.height*s),n=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let o=e.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||o.height!==i||o.width!==n)&&(e.currentDevicePixelRatio=s,o.height=i,o.width=n,e.ctx.setTransform(s,0,0,s,0,0),!0)}let Tn=function(){let e=!1;try{let V={get passive(){return e=!0,!1}};Ee()&&(window.addEventListener("test",null,V),window.removeEventListener("test",null,V))}catch(V){}return e}();function ni(e,V){let t=kn(e,V),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Pn(e){return!e||m(e.size)||m(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Xt(e,V,t,s,i){let n=V[i];return n||(n=V[i]=e.measureText(i).width,t.push(i)),n>s&&(s=n),s}function En(e,V,t,s){let i=(s=s||{}).data=s.data||{},n=s.garbageCollect=s.garbageCollect||[];s.font!==V&&(i=s.data={},n=s.garbageCollect=[],s.font=V),e.save(),e.font=V;let o=0,r=t.length,a,l,c,h,u;for(a=0;a<r;a++)if(h=t[a],h==null||x(h)){if(x(h))for(l=0,c=h.length;l<c;l++)u=h[l],u==null||x(u)||(o=Xt(e,i,n,o,u))}else o=Xt(e,i,n,o,h);e.restore();let g=n.length/2;if(g>t.length){for(a=0;a<g;a++)delete i[n[a]];n.splice(0,g)}return o}function nt(e,V,t){let s=e.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((V-i)*s)/s+i}function oi(e,V){(V||e)&&((V=V||e.getContext("2d")).save(),V.resetTransform(),V.clearRect(0,0,e.width,e.height),V.restore())}function Oe(e,V,t,s){ri(e,V,t,s,null)}function ri(e,V,t,s,i){let n,o,r,a,l,c,h,u,g=V.pointStyle,p=V.rotation,f=V.radius,A=(p||0)*pt;if(g&&typeof g=="object"&&(n=g.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"))return e.save(),e.translate(t,s),e.rotate(A),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),g){default:i?e.ellipse(t,s,i/2,f,0,0,VV):e.arc(t,s,f,0,VV),e.closePath();break;case"triangle":c=i?i/2:f,e.moveTo(t+Math.sin(A)*c,s-Math.cos(A)*f),A+=mt,e.lineTo(t+Math.sin(A)*c,s-Math.cos(A)*f),A+=mt,e.lineTo(t+Math.sin(A)*c,s-Math.cos(A)*f),e.closePath();break;case"rectRounded":l=.516*f,a=f-l,o=Math.cos(A+wV)*a,h=Math.cos(A+wV)*(i?i/2-l:a),r=Math.sin(A+wV)*a,u=Math.sin(A+wV)*(i?i/2-l:a),e.arc(t-h,s-r,l,A-K,A-eV),e.arc(t+u,s-o,l,A-eV,A),e.arc(t+h,s+r,l,A,A+eV),e.arc(t-u,s+o,l,A+eV,A+K),e.closePath();break;case"rect":if(!p){a=Math.SQRT1_2*f,c=i?i/2:a,e.rect(t-c,s-a,2*c,2*a);break}A+=wV;case"rectRot":h=Math.cos(A)*(i?i/2:f),o=Math.cos(A)*f,r=Math.sin(A)*f,u=Math.sin(A)*(i?i/2:f),e.moveTo(t-h,s-r),e.lineTo(t+u,s-o),e.lineTo(t+h,s+r),e.lineTo(t-u,s+o),e.closePath();break;case"crossRot":A+=wV;case"cross":h=Math.cos(A)*(i?i/2:f),o=Math.cos(A)*f,r=Math.sin(A)*f,u=Math.sin(A)*(i?i/2:f),e.moveTo(t-h,s-r),e.lineTo(t+h,s+r),e.moveTo(t+u,s-o),e.lineTo(t-u,s+o);break;case"star":h=Math.cos(A)*(i?i/2:f),o=Math.cos(A)*f,r=Math.sin(A)*f,u=Math.sin(A)*(i?i/2:f),e.moveTo(t-h,s-r),e.lineTo(t+h,s+r),e.moveTo(t+u,s-o),e.lineTo(t-u,s+o),A+=wV,h=Math.cos(A)*(i?i/2:f),o=Math.cos(A)*f,r=Math.sin(A)*f,u=Math.sin(A)*(i?i/2:f),e.moveTo(t-h,s-r),e.lineTo(t+h,s+r),e.moveTo(t+u,s-o),e.lineTo(t-u,s+o);break;case"line":o=i?i/2:Math.cos(A)*f,r=Math.sin(A)*f,e.moveTo(t-o,s-r),e.lineTo(t+o,s+r);break;case"dash":e.moveTo(t,s),e.lineTo(t+Math.cos(A)*(i?i/2:f),s+Math.sin(A)*f);break;case!1:e.closePath()}e.fill(),V.borderWidth>0&&e.stroke()}}function GV(e,V,t){return t=t||.5,!V||e&&e.x>V.left-t&&e.x<V.right+t&&e.y>V.top-t&&e.y<V.bottom+t}function Zt(e,V){e.save(),e.beginPath(),e.rect(V.left,V.top,V.right-V.left,V.bottom-V.top),e.clip()}function $t(e){e.restore()}function In(e,V,t,s,i){if(!V)return e.lineTo(t.x,t.y);if(i==="middle"){let n=(V.x+t.x)/2;e.lineTo(n,V.y),e.lineTo(n,t.y)}else i==="after"!=!!s?e.lineTo(V.x,t.y):e.lineTo(t.x,V.y);e.lineTo(t.x,t.y)}function Fn(e,V,t,s){if(!V)return e.lineTo(t.x,t.y);e.bezierCurveTo(s?V.cp1x:V.cp2x,s?V.cp1y:V.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function aa(e,V,t,s,i){if(i.strikethrough||i.underline){let n=e.measureText(s),o=V-n.actualBoundingBoxLeft,r=V+n.actualBoundingBoxRight,a=t-n.actualBoundingBoxAscent,l=t+n.actualBoundingBoxDescent,c=i.strikethrough?(a+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,c),e.lineTo(r,c),e.stroke()}}function la(e,V){let t=e.fillStyle;e.fillStyle=V.color,e.fillRect(V.left,V.top,V.width,V.height),e.fillStyle=t}function ot(e,V,t,s,i,n={}){let o=x(V)?V:[V],r=n.strokeWidth>0&&n.strokeColor!=="",a,l;for(e.save(),e.font=i.string,function(c,h){h.translation&&c.translate(h.translation[0],h.translation[1]),m(h.rotation)||c.rotate(h.rotation),h.color&&(c.fillStyle=h.color),h.textAlign&&(c.textAlign=h.textAlign),h.textBaseline&&(c.textBaseline=h.textBaseline)}(e,n),a=0;a<o.length;++a)l=o[a],n.backdrop&&la(e,n.backdrop),r&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),m(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(l,t,s,n.maxWidth)),e.fillText(l,t,s,n.maxWidth),aa(e,t,s,l,n),s+=Number(i.lineHeight);e.restore()}function Ft(e,V){let{x:t,y:s,w:i,h:n,radius:o}=V;e.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*K,K,!0),e.lineTo(t,s+n-o.bottomLeft),e.arc(t+o.bottomLeft,s+n-o.bottomLeft,o.bottomLeft,K,eV,!0),e.lineTo(t+i-o.bottomRight,s+n),e.arc(t+i-o.bottomRight,s+n-o.bottomRight,o.bottomRight,eV,0,!0),e.lineTo(t+i,s+o.topRight),e.arc(t+i-o.topRight,s+o.topRight,o.topRight,0,-eV,!0),e.lineTo(t+o.topLeft,s)}function Be(e,V=[""],t,s,i=()=>e[0]){let n=t||e;s===void 0&&(s=Bn("_fallback",e));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:i,override:r=>Be([r,...e],V,n,s)};return new Proxy(o,{deleteProperty:(r,a)=>(delete r[a],delete r._keys,delete e[0][a],!0),get:(r,a)=>Rn(r,a,()=>function(l,c,h,u){let g;for(let p of c)if(g=Bn(ha(p,l),h),g!==void 0)return li(l,g)?hi(h,u,l,g):g}(a,V,e,r)),getOwnPropertyDescriptor:(r,a)=>Reflect.getOwnPropertyDescriptor(r._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(r,a)=>zn(r).includes(a),ownKeys:r=>zn(r),set(r,a,l){let c=r._storage||(r._storage=i());return r[a]=c[a]=l,delete r._keys,!0}})}function yt(e,V,t,s){let i={_cacheable:!1,_proxy:e,_context:V,_subProxy:t,_stack:new Set,_descriptors:ai(e,s),setContext:n=>yt(e,n,t,s),override:n=>yt(e.override(n),V,t,s)};return new Proxy(i,{deleteProperty:(n,o)=>(delete n[o],delete e[o],!0),get:(n,o,r)=>Rn(n,o,()=>function(a,l,c){let{_proxy:h,_context:u,_subProxy:g,_descriptors:p}=a,f=h[l];return pV(f)&&p.isScriptable(l)&&(f=function(A,b,v,_){let{_proxy:w,_context:M,_subProxy:P,_stack:E}=v;if(E.has(A))throw new Error("Recursion detected: "+Array.from(E).join("->")+"->"+A);E.add(A);let I=b(M,P||_);return E.delete(A),li(A,I)&&(I=hi(w._scopes,w,A,I)),I}(l,f,a,c)),x(f)&&f.length&&(f=function(A,b,v,_){let{_proxy:w,_context:M,_subProxy:P,_descriptors:E}=v;if(M.index!==void 0&&_(A))return b[M.index%b.length];if(C(b[0])){let I=b,z=w._scopes.filter(O=>O!==I);b=[];for(let O of I){let j=hi(z,w,A,O);b.push(yt(j,M,P&&P[A],E))}}return b}(l,f,a,p.isIndexable)),li(l,f)&&(f=yt(f,u,g&&g[l],p)),f}(n,o,r)),getOwnPropertyDescriptor:(n,o)=>n._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(n,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(n,o,r)=>(e[o]=r,delete n[o],!0)})}function ai(e,V={scriptable:!0,indexable:!0}){let{_scriptable:t=V.scriptable,_indexable:s=V.indexable,_allKeys:i=V.allKeys}=e;return{allKeys:i,scriptable:t,indexable:s,isScriptable:pV(t)?t:()=>t,isIndexable:pV(s)?s:()=>s}}let ha=(e,V)=>e?e+vV(V):V,li=(e,V)=>C(V)&&e!=="adapters"&&(Object.getPrototypeOf(V)===null||V.constructor===Object);function Rn(e,V,t){if(Object.prototype.hasOwnProperty.call(e,V)||V==="constructor")return e[V];let s=t();return e[V]=s,s}function Ln(e,V,t){return pV(e)?e(V,t):e}let ca=(e,V)=>e===!0?V:typeof e=="string"?rV(V,e):void 0;function da(e,V,t,s,i){for(let n of V){let o=ca(t,n);if(o){e.add(o);let r=Ln(o._fallback,t,i);if(r!==void 0&&r!==t&&r!==s)return r}else if(o===!1&&s!==void 0&&t!==s)return null}return!1}function hi(e,V,t,s){let i=V._rootScopes,n=Ln(V._fallback,t,s),o=[...e,...i],r=new Set;r.add(s);let a=On(r,o,t,n||t,s);return a!==null&&(n===void 0||n===t||(a=On(r,o,n,a,s),a!==null))&&Be(Array.from(r),[""],i,n,()=>function(l,c,h){let u=l._getTarget();c in u||(u[c]={});let g=u[c];return x(g)&&C(h)?h:g||{}}(V,t,s))}function On(e,V,t,s,i){for(;t;)t=da(e,V,t,s,i);return t}function Bn(e,V){for(let t of V){if(!t)continue;let s=t[e];if(s!==void 0)return s}}function zn(e){let V=e._keys;return V||(V=e._keys=function(t){let s=new Set;for(let i of t)for(let n of Object.keys(i).filter(o=>!o.startsWith("_")))s.add(n);return Array.from(s)}(e._scopes)),V}function ci(e,V,t,s){let{iScale:i}=e,{key:n="r"}=this._parsing,o=new Array(s),r,a,l,c;for(r=0,a=s;r<a;++r)l=r+t,c=V[l],o[r]={r:i.parse(rV(c,n),l)};return o}let ua=Number.EPSILON||1e-14,Rt=(e,V)=>V<e.length&&!e[V].skip&&e[V],Nn=e=>e==="x"?"y":"x";function Qn(e,V,t,s){let i=e.skip?V:e,n=V,o=t.skip?V:t,r=_e(n,i),a=_e(o,n),l=r/(r+a),c=a/(r+a);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let h=s*l,u=s*c;return{previous:{x:n.x-h*(o.x-i.x),y:n.y-h*(o.y-i.y)},next:{x:n.x+u*(o.x-i.x),y:n.y+u*(o.y-i.y)}}}function Hn(e,V="x"){let t=Nn(V),s=e.length,i=Array(s).fill(0),n=Array(s),o,r,a,l=Rt(e,0);for(o=0;o<s;++o)if(r=a,a=l,l=Rt(e,o+1),a){if(l){let c=l[V]-a[V];i[o]=c!==0?(l[t]-a[t])/c:0}n[o]=r?l?mV(i[o-1])!==mV(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}(function(c,h,u){let g=c.length,p,f,A,b,v,_=Rt(c,0);for(let w=0;w<g-1;++w)v=_,_=Rt(c,w+1),v&&_&&(Tt(h[w],0,ua)?u[w]=u[w+1]=0:(p=u[w]/h[w],f=u[w+1]/h[w],b=Math.pow(p,2)+Math.pow(f,2),b<=9||(A=3/Math.sqrt(b),u[w]=p*A*h[w],u[w+1]=f*A*h[w])))})(e,i,n),function(c,h,u="x"){let g=Nn(u),p=c.length,f,A,b,v=Rt(c,0);for(let _=0;_<p;++_){if(A=b,b=v,v=Rt(c,_+1),!b)continue;let w=b[u],M=b[g];A&&(f=(w-A[u])/3,b[`cp1${u}`]=w-f,b[`cp1${g}`]=M-f*h[_]),v&&(f=(v[u]-w)/3,b[`cp2${u}`]=w+f,b[`cp2${g}`]=M+f*h[_])}}(e,n,V)}function ze(e,V,t){return Math.max(Math.min(e,t),V)}function Un(e,V,t,s,i){let n,o,r,a;if(V.spanGaps&&(e=e.filter(l=>!l.skip)),V.cubicInterpolationMode==="monotone")Hn(e,i);else{let l=s?e[e.length-1]:e[0];for(n=0,o=e.length;n<o;++n)r=e[n],a=Qn(l,r,e[Math.min(n+1,o-(s?0:1))%o],V.tension),r.cp1x=a.previous.x,r.cp1y=a.previous.y,r.cp2x=a.next.x,r.cp2y=a.next.y,l=r}V.capBezierPoints&&function(l,c){let h,u,g,p,f,A=GV(l[0],c);for(h=0,u=l.length;h<u;++h)f=p,p=A,A=h<u-1&&GV(l[h+1],c),p&&(g=l[h],f&&(g.cp1x=ze(g.cp1x,c.left,c.right),g.cp1y=ze(g.cp1y,c.top,c.bottom)),A&&(g.cp2x=ze(g.cp2x,c.left,c.right),g.cp2y=ze(g.cp2y,c.top,c.bottom)))}(e,t)}let Ne=e=>e===0||e===1,jn=(e,V,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-V)*VV/t),qn=(e,V,t)=>Math.pow(2,-10*e)*Math.sin((e-V)*VV/t)+1,Lt={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*eV),easeOutSine:e=>Math.sin(e*eV),easeInOutSine:e=>-.5*(Math.cos(K*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ne(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ne(e)?e:jn(e,.075,.3),easeOutElastic:e=>Ne(e)?e:qn(e,.075,.3),easeInOutElastic(e){return Ne(e)?e:e<.5?.5*jn(2*e,.1125,.45):.5+.5*qn(2*e-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let V=1.70158;return(e/=.5)<1?e*e*((1+(V*=1.525))*e-V)*.5:.5*((e-=2)*e*((1+(V*=1.525))*e+V)+2)},easeInBounce:e=>1-Lt.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?.5*Lt.easeInBounce(2*e):.5*Lt.easeOutBounce(2*e-1)+.5};function rt(e,V,t,s){return{x:e.x+t*(V.x-e.x),y:e.y+t*(V.y-e.y)}}function Wn(e,V,t,s){return{x:e.x+t*(V.x-e.x),y:s==="middle"?t<.5?e.y:V.y:s==="after"?t<1?e.y:V.y:t>0?V.y:e.y}}function Gn(e,V,t,s){let i={x:e.cp2x,y:e.cp2y},n={x:V.cp1x,y:V.cp1y},o=rt(e,i,t),r=rt(i,n,t),a=rt(n,V,t),l=rt(o,r,t),c=rt(r,a,t);return rt(l,c,t)}let ga=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fa=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Yn(e,V){let t=(""+e).match(ga);if(!t||t[1]==="normal")return 1.2*V;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return V*e}let pa=e=>+e||0;function Qe(e,V){let t={},s=C(V),i=s?Object.keys(V):V,n=C(e)?s?o=>k(e[o],e[V[o]]):o=>e[o]:()=>e;for(let o of i)t[o]=pa(n(o));return t}function di(e){return Qe(e,{top:"y",right:"x",bottom:"y",left:"x"})}function at(e){return Qe(e,["topLeft","topRight","bottomLeft","bottomRight"])}function uV(e){let V=di(e);return V.width=V.left+V.right,V.height=V.top+V.bottom,V}function aV(e,V){e=e||{},V=V||nV.font;let t=k(e.size,V.size);typeof t=="string"&&(t=parseInt(t,10));let s=k(e.style,V.style);s&&!(""+s).match(fa)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);let i={family:k(e.family,V.family),lineHeight:Yn(k(e.lineHeight,V.lineHeight),t),size:t,style:s,weight:k(e.weight,V.weight),string:""};return i.string=Pn(i),i}function Ot(e,V,t,s){let i,n,o,r=!0;for(i=0,n=e.length;i<n;++i)if(o=e[i],o!==void 0&&(V!==void 0&&typeof o=="function"&&(o=o(V),r=!1),t!==void 0&&x(o)&&(o=o[t%o.length],r=!1),o!==void 0))return s&&!r&&(s.cacheable=!1),o}function Jn(e,V,t){let{min:s,max:i}=e,n=q(V,(i-s)/2),o=(r,a)=>t&&r===0?0:r+a;return{min:o(s,-Math.abs(n)),max:o(i,n)}}function $V(e,V){return Object.assign(Object.create(e),V)}function vt(e,V,t){return e?function(s,i){return{x:n=>s+s+i-n,setWidth(n){i=n},textAlign:n=>n==="center"?n:n==="right"?"left":"right",xPlus:(n,o)=>n-o,leftForLtr:(n,o)=>n-o}}(V,t):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,i)=>s+i,leftForLtr:(s,i)=>s}}function ui(e,V){let t,s;V!=="ltr"&&V!=="rtl"||(t=e.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",V,"important"),e.prevTextDirection=s)}function gi(e,V){V!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",V[0],V[1]))}function Xn(e){return e==="angle"?{between:Pt,compare:cn,normalize:AV}:{between:jV,compare:(V,t)=>V-t,normalize:V=>V}}function Zn({start:e,end:V,count:t,loop:s,style:i}){return{start:e%t,end:V%t,loop:s&&(V-e+1)%t==0,style:i}}function fi(e,V,t){if(!t)return[e];let{property:s,start:i,end:n}=t,o=V.length,{compare:r,between:a,normalize:l}=Xn(s),{start:c,end:h,loop:u,style:g}=function(P,E,I){let{property:z,start:O,end:j}=I,{between:H,normalize:B}=Xn(z),Q=E.length,N,W,{start:$,end:Y,loop:fV}=P;if(fV){for($+=Q,Y+=Q,N=0,W=Q;N<W&&H(B(E[$%Q][z]),O,j);++N)$--,Y--;$%=Q,Y%=Q}return Y<$&&(Y+=Q),{start:$,end:Y,loop:fV,style:P.style}}(e,V,t),p=[],f,A,b,v=!1,_=null,w=()=>v||a(i,b,f)&&r(i,b)!==0,M=()=>!v||r(n,f)===0||a(n,b,f);for(let P=c,E=c;P<=h;++P)A=V[P%o],A.skip||(f=l(A[s]),f!==b&&(v=a(f,i,n),_===null&&w()&&(_=r(f,i)===0?P:E),_!==null&&M()&&(p.push(Zn({start:_,end:P,loop:u,count:o,style:g})),_=null),E=P,b=f));return _!==null&&p.push(Zn({start:_,end:h,loop:u,count:o,style:g})),p}function pi(e,V){let t=[],s=e.segments;for(let i=0;i<s.length;i++){let n=fi(s[i],e.points,V);n.length&&t.push(...n)}return t}function $n(e,V){let t=e.points,s=e.options.spanGaps,i=t.length;if(!i)return[];let n=!!e._loop,{start:o,end:r}=function(a,l,c,h){let u=0,g=l-1;if(c&&!h)for(;u<l&&!a[u].skip;)u++;for(;u<l&&a[u].skip;)u++;for(u%=l,c&&(g+=u);g>u&&a[g%l].skip;)g--;return g%=l,{start:u,end:g}}(t,i,n,s);return s===!0?Kn(e,[{start:o,end:r,loop:n}],t,V):Kn(e,function(a,l,c,h){let u=a.length,g=[],p,f=l,A=a[l];for(p=l+1;p<=c;++p){let b=a[p%u];b.skip||b.stop?A.skip||(h=!1,g.push({start:l%u,end:(p-1)%u,loop:h}),l=f=b.stop?p:null):(f=p,A.skip&&(l=p)),A=b}return f!==null&&g.push({start:l%u,end:f%u,loop:h}),g}(t,o,r<o?r+i:r,!!e._fullLoop&&o===0&&r===i-1),t,V)}function Kn(e,V,t,s){return s&&s.setContext&&t?function(i,n,o,r){let a=i._chart.getContext(),l=Vo(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,u=o.length,g=[],p=l,f=n[0].start,A=f;function b(v,_,w,M){let P=h?-1:1;if(v!==_){for(v+=u;o[v%u].skip;)v-=P;for(;o[_%u].skip;)_+=P;v%u!=_%u&&(g.push({start:v%u,end:_%u,loop:w,style:M}),p=M,f=_%u)}}for(let v of n){f=h?f:v.start;let _,w=o[f%u];for(A=f+1;A<=v.end;A++){let M=o[A%u];_=Vo(r.setContext($V(a,{type:"segment",p0:w,p1:M,p0DataIndex:(A-1)%u,p1DataIndex:A%u,datasetIndex:c}))),ma(_,p)&&b(f,A-1,v.loop,p),w=M,p=_}f<A-1&&b(f,A-1,v.loop,p)}return g}(e,V,t,s):V}function Vo(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ma(e,V){if(!V)return!1;let t=[],s=function(i,n){return Te(n)?(t.includes(n)||t.push(n),t.indexOf(n)):n};return JSON.stringify(e,s)!==JSON.stringify(V,s)}var Aa=Object.freeze({__proto__:null,HALF_PI:eV,INFINITY:UV,PI:K,PITAU:Z,QUARTER_PI:wV,RAD_PER_DEG:pt,TAU:VV,TWO_THIRDS_PI:mt,_addGrace:Jn,_alignPixel:nt,_alignStartEnd:dV,_angleBetween:Pt,_angleDiff:cn,_arrayUnique:qs,_attachContext:yt,_bezierCurveTo:Fn,_bezierInterpolation:Gn,_boundSegment:fi,_boundSegments:pi,_capitalize:vV,_computeSegments:$n,_createResolver:Be,_decimalPlaces:Hs,_deprecated:function(e,V,t,s){V!==void 0&&console.warn(e+': "'+t+'" is deprecated. Please use "'+s+'" instead')},_descriptors:ai,_elementsEqual:G,_factorize:ln,_filterBetween:gn,_getParentNode:Ie,_getStartAndCountOfVisiblePoints:Ys,_int16Range:dn,_isBetween:jV,_isClickEvent:ve,_isDomSupported:Ee,_isPointInArea:GV,_limitValue:hV,_longestText:En,_lookup:Ce,_lookupByKey:qV,_measureText:Xt,_merger:oV,_mergerIf:HV,_normalizeAngle:AV,_parseObjectDataRadialScale:ci,_pointInLine:rt,_readValueToProps:Qe,_rlookupByKey:un,_scaleRangesChanged:Js,_setMinAndMaxByKey:Qs,_splitKey:lV,_steppedInterpolation:Wn,_steppedLineTo:In,_textX:An,_toLeftRightCenter:Se,_updateBezierControlPoints:Un,addRoundedRectPath:Ft,almostEquals:Tt,almostWhole:hn,callback:L,clearCanvas:oi,clipArea:Zt,clone:X,color:ti,createContext:$V,debounce:mn,defined:kV,distanceBetweenPoints:_e,drawPoint:Oe,drawPointLegend:ri,each:R,easingEffects:Lt,finiteOrDefault:D,fontString:function(e,V,t){return V+" "+e+"px "+t},formatNumber:It,getAngleFromPoint:Us,getHoverColor:Pe,getMaximumSize:Dn,getRelativePosition:it,getRtlAdapter:vt,getStyle:kn,isArray:x,isFinite:S,isFunction:pV,isNullOrUndef:m,isNumber:At,isObject:C,isPatternOrGradient:Te,listenArrayEvents:pn,log10:RV,merge:tV,mergeIf:yV,niceNum:Ns,noop:y,overrideTextDirection:ui,readUsedSize:ni,renderText:ot,requestAnimFrame:Ws,resolve:Ot,resolveObjectKey:rV,restoreTextDirection:gi,retinaScale:ii,setsEqual:XV,sign:mV,splineCurve:Qn,splineCurveMonotone:Hn,supportsEventListenerOptions:Tn,throttled:Gs,toDegrees:we,toDimension:q,toFont:aV,toFontString:Pn,toLineHeight:Yn,toPadding:uV,toPercentage:U,toRadians:DV,toTRBL:di,toTRBLCorners:at,uid:d,unclipArea:$t,unlistenArrayEvents:js,valueOrDefault:k});function ba(e,V,t,s){let{controller:i,data:n,_sorted:o}=e,r=i._cachedMeta.iScale;if(r&&V===r.axis&&V!=="r"&&o&&n.length){let a=r._reversePixels?un:qV;if(!s)return a(n,V,t);if(i._sharedOptions){let l=n[0],c=typeof l.getRange=="function"&&l.getRange(V);if(c){let h=a(n,V,t-c),u=a(n,V,t+c);return{lo:h.lo,hi:u.hi}}}}return{lo:0,hi:n.length-1}}function Kt(e,V,t,s,i){let n=e.getSortedVisibleDatasetMetas(),o=t[V];for(let r=0,a=n.length;r<a;++r){let{index:l,data:c}=n[r],{lo:h,hi:u}=ba(n[r],V,o,i);for(let g=h;g<=u;++g){let p=c[g];p.skip||s(p,l,g)}}}function mi(e,V,t,s,i){let n=[];return!i&&!e.isPointInArea(V)||Kt(e,t,V,function(o,r,a){(i||GV(o,e.chartArea,0))&&o.inRange(V.x,V.y,s)&&n.push({element:o,datasetIndex:r,index:a})},!0),n}function xa(e,V,t,s,i,n){let o=[],r=function(l){let c=l.indexOf("x")!==-1,h=l.indexOf("y")!==-1;return function(u,g){let p=c?Math.abs(u.x-g.x):0,f=h?Math.abs(u.y-g.y):0;return Math.sqrt(Math.pow(p,2)+Math.pow(f,2))}}(t),a=Number.POSITIVE_INFINITY;return Kt(e,t,V,function(l,c,h){let u=l.inRange(V.x,V.y,i);if(s&&!u)return;let g=l.getCenterPoint(i);if(!(n||e.isPointInArea(g))&&!u)return;let p=r(V,g);p<a?(o=[{element:l,datasetIndex:c,index:h}],a=p):p===a&&o.push({element:l,datasetIndex:c,index:h})}),o}function Ai(e,V,t,s,i,n){return n||e.isPointInArea(V)?t!=="r"||s?xa(e,V,t,s,i,n):function(o,r,a,l){let c=[];return Kt(o,a,r,function(h,u,g){let{startAngle:p,endAngle:f}=h.getProps(["startAngle","endAngle"],l),{angle:A}=Us(h,{x:r.x,y:r.y});Pt(A,p,f)&&c.push({element:h,datasetIndex:u,index:g})}),c}(e,V,t,i):[]}function to(e,V,t,s,i){let n=[],o=t==="x"?"inXRange":"inYRange",r=!1;return Kt(e,t,V,(a,l,c)=>{a[o]&&a[o](V[t],i)&&(n.push({element:a,datasetIndex:l,index:c}),r=r||a.inRange(V.x,V.y,i))}),s&&!r?[]:n}var eo={evaluateInteractionItems:Kt,modes:{index(e,V,t,s){let i=it(V,e),n=t.axis||"x",o=t.includeInvisible||!1,r=t.intersect?mi(e,i,n,s,o):Ai(e,i,n,!1,s,o),a=[];return r.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{let c=r[0].index,h=l.data[c];h&&!h.skip&&a.push({element:h,datasetIndex:l.index,index:c})}),a):[]},dataset(e,V,t,s){let i=it(V,e),n=t.axis||"xy",o=t.includeInvisible||!1,r=t.intersect?mi(e,i,n,s,o):Ai(e,i,n,!1,s,o);if(r.length>0){let a=r[0].datasetIndex,l=e.getDatasetMeta(a).data;r=[];for(let c=0;c<l.length;++c)r.push({element:l[c],datasetIndex:a,index:c})}return r},point:(e,V,t,s)=>mi(e,it(V,e),t.axis||"xy",s,t.includeInvisible||!1),nearest(e,V,t,s){let i=it(V,e),n=t.axis||"xy",o=t.includeInvisible||!1;return Ai(e,i,n,t.intersect,s,o)},x:(e,V,t,s)=>to(e,it(V,e),"x",t.intersect,s),y:(e,V,t,s)=>to(e,it(V,e),"y",t.intersect,s)}};let so=["left","top","right","bottom"];function Ve(e,V){return e.filter(t=>t.pos===V)}function io(e,V){return e.filter(t=>so.indexOf(t.pos)===-1&&t.box.axis===V)}function te(e,V){return e.sort((t,s)=>{let i=V?s:t,n=V?t:s;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function ya(e,V){let t=function(a){let l={};for(let c of a){let{stack:h,pos:u,stackWeight:g}=c;if(!h||!so.includes(u))continue;let p=l[h]||(l[h]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=g}return l}(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=V,n,o,r;for(n=0,o=e.length;n<o;++n){r=e[n];let{fullSize:a}=r.box,l=t[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*s:a&&V.availableWidth,r.height=i):(r.width=s,r.height=c?c*i:a&&V.availableHeight)}return t}function no(e,V,t,s){return Math.max(e[t],V[t])+Math.max(e[s],V[s])}function oo(e,V){e.top=Math.max(e.top,V.top),e.left=Math.max(e.left,V.left),e.bottom=Math.max(e.bottom,V.bottom),e.right=Math.max(e.right,V.right)}function va(e,V,t,s){let{pos:i,box:n}=t,o=e.maxPadding;if(!C(i)){t.size&&(e[i]-=t.size);let h=s[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?n.height:n.width),t.size=h.size/h.count,e[i]+=t.size}n.getPadding&&oo(o,n.getPadding());let r=Math.max(0,V.outerWidth-no(o,e,"left","right")),a=Math.max(0,V.outerHeight-no(o,e,"top","bottom")),l=r!==e.w,c=a!==e.h;return e.w=r,e.h=a,t.horizontal?{same:l,other:c}:{same:c,other:l}}function wa(e,V){let t=V.maxPadding;function s(i){let n={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{n[o]=Math.max(V[o],t[o])}),n}return s(e?["left","right"]:["top","bottom"])}function ee(e,V,t,s){let i=[],n,o,r,a,l,c;for(n=0,o=e.length,l=0;n<o;++n){r=e[n],a=r.box,a.update(r.width||V.w,r.height||V.h,wa(r.horizontal,V));let{same:h,other:u}=va(V,t,r,s);l|=h&&i.length,c=c||u,a.fullSize||i.push(r)}return l&&ee(i,V,t,s)||c}function He(e,V,t,s,i){e.top=t,e.left=V,e.right=V+s,e.bottom=t+i,e.width=s,e.height=i}function ro(e,V,t,s){let i=t.padding,{x:n,y:o}=V;for(let r of e){let a=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},c=r.stackWeight/l.weight||1;if(r.horizontal){let h=V.w*c,u=l.size||a.height;kV(l.start)&&(o=l.start),a.fullSize?He(a,i.left,o,t.outerWidth-i.right-i.left,u):He(a,V.left+l.placed,o,h,u),l.start=o,l.placed+=h,o=a.bottom}else{let h=V.h*c,u=l.size||a.width;kV(l.start)&&(n=l.start),a.fullSize?He(a,n,i.top,u,t.outerHeight-i.bottom-i.top):He(a,n,V.top+l.placed,u,h),l.start=n,l.placed+=h,n=a.right}}V.x=n,V.y=o}var gV={addBox(e,V){e.boxes||(e.boxes=[]),V.fullSize=V.fullSize||!1,V.position=V.position||"top",V.weight=V.weight||0,V._layers=V._layers||function(){return[{z:0,draw(t){V.draw(t)}}]},e.boxes.push(V)},removeBox(e,V){let t=e.boxes?e.boxes.indexOf(V):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,V,t){V.fullSize=t.fullSize,V.position=t.position,V.weight=t.weight},update(e,V,t,s){if(!e)return;let i=uV(e.options.layout.padding),n=Math.max(V-i.width,0),o=Math.max(t-i.height,0),r=function(f){let A=function(I){let z=[],O,j,H,B,Q,N;for(O=0,j=(I||[]).length;O<j;++O)H=I[O],{position:B,options:{stack:Q,stackWeight:N=1}}=H,z.push({index:O,box:H,pos:B,horizontal:H.isHorizontal(),weight:H.weight,stack:Q&&B+Q,stackWeight:N});return z}(f),b=te(A.filter(I=>I.box.fullSize),!0),v=te(Ve(A,"left"),!0),_=te(Ve(A,"right")),w=te(Ve(A,"top"),!0),M=te(Ve(A,"bottom")),P=io(A,"x"),E=io(A,"y");return{fullSize:b,leftAndTop:v.concat(w),rightAndBottom:_.concat(E).concat(M).concat(P),chartArea:Ve(A,"chartArea"),vertical:v.concat(_).concat(E),horizontal:w.concat(M).concat(P)}}(e.boxes),a=r.vertical,l=r.horizontal;R(e.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});let c=a.reduce((f,A)=>A.box.options&&A.box.options.display===!1?f:f+1,0)||1,h=Object.freeze({outerWidth:V,outerHeight:t,padding:i,availableWidth:n,availableHeight:o,vBoxMaxWidth:n/2/c,hBoxMaxHeight:o/2}),u=Object.assign({},i);oo(u,uV(s));let g=Object.assign({maxPadding:u,w:n,h:o,x:i.left,y:i.top},i),p=ya(a.concat(l),h);ee(r.fullSize,g,h,p),ee(a,g,h,p),ee(l,g,h,p)&&ee(a,g,h,p),function(f){let A=f.maxPadding;function b(v){let _=Math.max(A[v]-f[v],0);return f[v]+=_,_}f.y+=b("top"),f.x+=b("left"),b("right"),b("bottom")}(g),ro(r.leftAndTop,g,h,p),g.x+=g.w,g.y+=g.h,ro(r.rightAndBottom,g,h,p),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},R(r.chartArea,f=>{let A=f.box;Object.assign(A,e.chartArea),A.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class bi{acquireContext(V,t){}releaseContext(V){return!1}addEventListener(V,t,s){}removeEventListener(V,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(V,t,s,i){return t=Math.max(0,t||V.width),s=s||V.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(V){return!0}updateConfig(V){}}class ao extends bi{acquireContext(V){return V&&V.getContext&&V.getContext("2d")||null}updateConfig(V){V.options.animation=!1}}let Ue="$chartjs",_a={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lo=e=>e===null||e==="",ho=!!Tn&&{passive:!0};function Ca(e,V,t){e&&e.canvas&&e.canvas.removeEventListener(V,t,ho)}function je(e,V){for(let t of e)if(t===V||t.contains(V))return!0}function Sa(e,V,t){let s=e.canvas,i=new MutationObserver(n=>{let o=!1;for(let r of n)o=o||je(r.addedNodes,s),o=o&&!je(r.removedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ma(e,V,t){let s=e.canvas,i=new MutationObserver(n=>{let o=!1;for(let r of n)o=o||je(r.removedNodes,s),o=o&&!je(r.addedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}let se=new Map,co=0;function uo(){let e=window.devicePixelRatio;e!==co&&(co=e,se.forEach((V,t)=>{t.currentDevicePixelRatio!==e&&V()}))}function ka(e,V,t){let s=e.canvas,i=s&&Ie(s);if(!i)return;let n=Gs((r,a)=>{let l=i.clientWidth;t(r,a),l<i.clientWidth&&t()},window),o=new ResizeObserver(r=>{let a=r[0],l=a.contentRect.width,c=a.contentRect.height;l===0&&c===0||n(l,c)});return o.observe(i),function(r,a){se.size||window.addEventListener("resize",uo),se.set(r,a)}(e,n),o}function xi(e,V,t){t&&t.disconnect(),V==="resize"&&function(s){se.delete(s),se.size||window.removeEventListener("resize",uo)}(e)}function Da(e,V,t){let s=e.canvas,i=Gs(n=>{e.ctx!==null&&t(function(o,r){let a=_a[o.type]||o.type,{x:l,y:c}=it(o,r);return{type:a,chart:r,native:o,x:l!==void 0?l:null,y:c!==void 0?c:null}}(n,e))},e);return function(n,o,r){n&&n.addEventListener(o,r,ho)}(s,V,i),i}class go extends bi{acquireContext(V,t){let s=V&&V.getContext&&V.getContext("2d");return s&&s.canvas===V?(function(i,n){let o=i.style,r=i.getAttribute("height"),a=i.getAttribute("width");if(i[Ue]={initial:{height:r,width:a,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",lo(a)){let l=ni(i,"width");l!==void 0&&(i.width=l)}if(lo(r))if(i.style.height==="")i.height=i.width/(n||2);else{let l=ni(i,"height");l!==void 0&&(i.height=l)}}(V,t),s):null}releaseContext(V){let t=V.canvas;if(!t[Ue])return!1;let s=t[Ue].initial;["height","width"].forEach(n=>{let o=s[n];m(o)?t.removeAttribute(n):t.setAttribute(n,o)});let i=s.style||{};return Object.keys(i).forEach(n=>{t.style[n]=i[n]}),t.width=t.width,delete t[Ue],!0}addEventListener(V,t,s){this.removeEventListener(V,t);let i=V.$proxies||(V.$proxies={}),n={attach:Sa,detach:Ma,resize:ka}[t]||Da;i[t]=n(V,t,s)}removeEventListener(V,t){let s=V.$proxies||(V.$proxies={}),i=s[t];i&&(({attach:xi,detach:xi,resize:xi}[t]||Ca)(V,t,i),s[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(V,t,s,i){return Dn(V,t,s,i)}isAttached(V){let t=V&&Ie(V);return!(!t||!t.isConnected)}}function fo(e){return!Ee()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?ao:go}var po=Object.freeze({__proto__:null,BasePlatform:bi,BasicPlatform:ao,DomPlatform:go,_detectPlatform:fo});let mo="transparent",Ta={boolean:(e,V,t)=>t>.5?V:e,color(e,V,t){let s=ti(e||mo),i=s.valid&&ti(V||mo);return i&&i.valid?i.mix(s,t).hexString():V},number:(e,V,t)=>e+(V-e)*t};class Ao{constructor(V,t,s,i){let n=t[s];i=Ot([V.to,i,n,V.from]);let o=Ot([V.from,n,i]);this._active=!0,this._fn=V.fn||Ta[V.type||typeof o],this._easing=Lt[V.easing]||Lt.linear,this._start=Math.floor(Date.now()+(V.delay||0)),this._duration=this._total=Math.floor(V.duration),this._loop=!!V.loop,this._target=t,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(V,t,s){if(this._active){this._notify(!1);let i=this._target[this._prop],n=s-this._start,o=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(o,V.duration)),this._total+=n,this._loop=!!V.loop,this._to=Ot([V.to,t,i,V.from]),this._from=Ot([V.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(V){let t=V-this._start,s=this._duration,i=this._prop,n=this._from,o=this._loop,r=this._to,a;if(this._active=n!==r&&(o||t<s),!this._active)return this._target[i]=r,void this._notify(!0);t<0?this._target[i]=n:(a=t/s%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(n,r,a))}wait(){let V=this._promises||(this._promises=[]);return new Promise((t,s)=>{V.push({res:t,rej:s})})}_notify(V){let t=V?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class yi{constructor(V,t){this._chart=V,this._properties=new Map,this.configure(t)}configure(V){if(!C(V))return;let t=Object.keys(nV.animation),s=this._properties;Object.getOwnPropertyNames(V).forEach(i=>{let n=V[i];if(!C(n))return;let o={};for(let r of t)o[r]=n[r];(x(n.properties)&&n.properties||[i]).forEach(r=>{r!==i&&s.has(r)||s.set(r,o)})})}_animateOptions(V,t){let s=t.options,i=function(o,r){if(!r)return;let a=o.options;return a?(a.$shared&&(o.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a):void(o.options=r)}(V,s);if(!i)return[];let n=this._createAnimations(i,s);return s.$shared&&function(o,r){let a=[],l=Object.keys(r);for(let c=0;c<l.length;c++){let h=o[l[c]];h&&h.active()&&a.push(h.wait())}return Promise.all(a)}(V.options.$animations,s).then(()=>{V.options=s},()=>{}),n}_createAnimations(V,t){let s=this._properties,i=[],n=V.$animations||(V.$animations={}),o=Object.keys(t),r=Date.now(),a;for(a=o.length-1;a>=0;--a){let l=o[a];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(V,t));continue}let c=t[l],h=n[l],u=s.get(l);if(h){if(u&&h.active()){h.update(u,c,r);continue}h.cancel()}u&&u.duration?(n[l]=h=new Ao(u,V,l,c),i.push(h)):V[l]=c}return i}update(V,t){if(this._properties.size===0)return void Object.assign(V,t);let s=this._createAnimations(V,t);return s.length?(WV.add(this._chart,s),!0):void 0}}function bo(e,V){let t=e&&e.options||{},s=t.reverse,i=t.min===void 0?V:0,n=t.max===void 0?V:0;return{start:s?n:i,end:s?i:n}}function xo(e,V){let t=[],s=e._getSortedDatasetMetas(V),i,n;for(i=0,n=s.length;i<n;++i)t.push(s[i].index);return t}function yo(e,V,t,s={}){let i=e.keys,n=s.mode==="single",o,r,a,l;if(V===null)return;let c=!1;for(o=0,r=i.length;o<r;++o){if(a=+i[o],a===t){if(c=!0,s.all)continue;break}l=e.values[a],S(l)&&(n||V===0||mV(V)===mV(l))&&(V+=l)}return c||s.all?V:0}function vi(e,V){let t=e&&e.options.stacked;return t||t===void 0&&V.stack!==void 0}function Pa(e,V,t){let s=e[V]||(e[V]={});return s[t]||(s[t]={})}function vo(e,V,t,s){for(let i of V.getMatchingVisibleMetas(s).reverse()){let n=e[i.index];if(t&&n>0||!t&&n<0)return i.index}return null}function wo(e,V){let{chart:t,_cachedMeta:s}=e,i=t._stacks||(t._stacks={}),{iScale:n,vScale:o,index:r}=s,a=n.axis,l=o.axis,c=function(g,p,f){return`${g.id}.${p.id}.${f.stack||f.type}`}(n,o,s),h=V.length,u;for(let g=0;g<h;++g){let p=V[g],{[a]:f,[l]:A}=p;u=(p._stacks||(p._stacks={}))[l]=Pa(i,c,f),u[r]=A,u._top=vo(u,o,!0,s.type),u._bottom=vo(u,o,!1,s.type),(u._visualValues||(u._visualValues={}))[r]=A}}function wi(e,V){let t=e.scales;return Object.keys(t).filter(s=>t[s].axis===V).shift()}function ie(e,V){let t=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){V=V||e._parsed;for(let i of V){let n=i._stacks;if(!n||n[s]===void 0||n[s][t]===void 0)return;delete n[s][t],n[s]._visualValues!==void 0&&n[s]._visualValues[t]!==void 0&&delete n[s]._visualValues[t]}}}let _i=e=>e==="reset"||e==="none",_o=(e,V)=>V?e:Object.assign({},e);class PV{constructor(V,t){this.chart=V,this._ctx=V.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let V=this._cachedMeta;this.configure(),this.linkScales(),V._stacked=vi(V.vScale,V),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(V){this.index!==V&&ie(this._cachedMeta),this.index=V}linkScales(){let V=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(h,u,g,p)=>h==="x"?u:h==="r"?p:g,n=t.xAxisID=k(s.xAxisID,wi(V,"x")),o=t.yAxisID=k(s.yAxisID,wi(V,"y")),r=t.rAxisID=k(s.rAxisID,wi(V,"r")),a=t.indexAxis,l=t.iAxisID=i(a,n,o,r),c=t.vAxisID=i(a,o,n,r);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(V){return this.chart.scales[V]}_getOtherScale(V){let t=this._cachedMeta;return V===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let V=this._cachedMeta;this._data&&js(this._data,this),V._stacked&&ie(V)}_dataCheck(){let V=this.getDataset(),t=V.data||(V.data=[]),s=this._data;if(C(t)){let i=this._cachedMeta;this._data=function(n,o){let{iScale:r,vScale:a}=o,l=r.axis==="x"?"x":"y",c=a.axis==="x"?"x":"y",h=Object.keys(n),u=new Array(h.length),g,p,f;for(g=0,p=h.length;g<p;++g)f=h[g],u[g]={[l]:f,[c]:n[f]};return u}(t,i)}else if(s!==t){if(s){js(s,this);let i=this._cachedMeta;ie(i),i._parsed=[]}t&&Object.isExtensible(t)&&pn(t,this),this._syncList=[],this._data=t}}addElements(){let V=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(V.dataset=new this.datasetElementType)}buildOrUpdateElements(V){let t=this._cachedMeta,s=this.getDataset(),i=!1;this._dataCheck();let n=t._stacked;t._stacked=vi(t.vScale,t),t.stack!==s.stack&&(i=!0,ie(t),t.stack=s.stack),this._resyncElements(V),(i||n!==t._stacked)&&(wo(this,t._parsed),t._stacked=vi(t.vScale,t))}configure(){let V=this.chart.config,t=V.datasetScopeKeys(this._type),s=V.getOptionScopes(this.getDataset(),t,!0);this.options=V.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(V,t){let{_cachedMeta:s,_data:i}=this,{iScale:n,_stacked:o}=s,r=n.axis,a,l,c,h=V===0&&t===i.length||s._sorted,u=V>0&&s._parsed[V-1];if(this._parsing===!1)s._parsed=i,s._sorted=!0,c=i;else{c=x(i[V])?this.parseArrayData(s,i,V,t):C(i[V])?this.parseObjectData(s,i,V,t):this.parsePrimitiveData(s,i,V,t);let g=()=>l[r]===null||u&&l[r]<u[r];for(a=0;a<t;++a)s._parsed[a+V]=l=c[a],h&&(g()&&(h=!1),u=l);s._sorted=h}o&&wo(this,c)}parsePrimitiveData(V,t,s,i){let{iScale:n,vScale:o}=V,r=n.axis,a=o.axis,l=n.getLabels(),c=n===o,h=new Array(i),u,g,p;for(u=0,g=i;u<g;++u)p=u+s,h[u]={[r]:c||n.parse(l[p],p),[a]:o.parse(t[p],p)};return h}parseArrayData(V,t,s,i){let{xScale:n,yScale:o}=V,r=new Array(i),a,l,c,h;for(a=0,l=i;a<l;++a)c=a+s,h=t[c],r[a]={x:n.parse(h[0],c),y:o.parse(h[1],c)};return r}parseObjectData(V,t,s,i){let{xScale:n,yScale:o}=V,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l=new Array(i),c,h,u,g;for(c=0,h=i;c<h;++c)u=c+s,g=t[u],l[c]={x:n.parse(rV(g,r),u),y:o.parse(rV(g,a),u)};return l}getParsed(V){return this._cachedMeta._parsed[V]}getDataElement(V){return this._cachedMeta.data[V]}applyStack(V,t,s){let i=this.chart,n=this._cachedMeta,o=t[V.axis];return yo({keys:xo(i,!0),values:t._stacks[V.axis]._visualValues},o,n.index,{mode:s})}updateRangeFromParsed(V,t,s,i){let n=s[t.axis],o=n===null?NaN:n,r=i&&s._stacks[t.axis];i&&r&&(i.values=r,o=yo(i,n,this._cachedMeta.index)),V.min=Math.min(V.min,o),V.max=Math.max(V.max,o)}getMinMax(V,t){let s=this._cachedMeta,i=s._parsed,n=s._sorted&&V===s.iScale,o=i.length,r=this._getOtherScale(V),a=((f,A,b)=>f&&!A.hidden&&A._stacked&&{keys:xo(b,!0),values:null})(t,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(f){let{min:A,max:b,minDefined:v,maxDefined:_}=f.getUserBounds();return{min:v?A:Number.NEGATIVE_INFINITY,max:_?b:Number.POSITIVE_INFINITY}}(r),u,g;function p(){g=i[u];let f=g[r.axis];return!S(g[V.axis])||c>f||h<f}for(u=0;u<o&&(p()||(this.updateRangeFromParsed(l,V,g,a),!n));++u);if(n){for(u=o-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(l,V,g,a);break}}return l}getAllParsedValues(V){let t=this._cachedMeta._parsed,s=[],i,n,o;for(i=0,n=t.length;i<n;++i)o=t[i][V.axis],S(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(V){let t=this._cachedMeta,s=t.iScale,i=t.vScale,n=this.getParsed(V);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:i?""+i.getLabelForValue(n[i.axis]):""}}_update(V){let t=this._cachedMeta;this.update(V||"default"),t._clip=function(s){let i,n,o,r;return C(s)?(i=s.top,n=s.right,o=s.bottom,r=s.left):i=n=o=r=s,{top:i,right:n,bottom:o,left:r,disabled:s===!1}}(k(this.options.clip,function(s,i,n){if(n===!1)return!1;let o=bo(s,n),r=bo(i,n);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(V){}draw(){let V=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],n=t.chartArea,o=[],r=this._drawStart||0,a=this._drawCount||i.length-r,l=this.options.drawActiveElementsOnTop,c;for(s.dataset&&s.dataset.draw(V,n,r,a),c=r;c<r+a;++c){let h=i[c];h.hidden||(h.active&&l?o.push(h):h.draw(V,n))}for(c=0;c<o.length;++c)o[c].draw(V,n)}getStyle(V,t){let s=t?"active":"default";return V===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(V||0,s)}getContext(V,t,s){let i=this.getDataset(),n;if(V>=0&&V<this._cachedMeta.data.length){let o=this._cachedMeta.data[V];n=o.$context||(o.$context=function(r,a,l){return $V(r,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:l,index:a,mode:"default",type:"data"})}(this.getContext(),V,o)),n.parsed=this.getParsed(V),n.raw=i.data[V],n.index=n.dataIndex=V}else n=this.$context||(this.$context=function(o,r){return $V(o,{active:!1,dataset:void 0,datasetIndex:r,index:r,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=i,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=s,n}resolveDatasetElementOptions(V){return this._resolveElementOptions(this.datasetElementType.id,V)}resolveDataElementOptions(V,t){return this._resolveElementOptions(this.dataElementType.id,t,V)}_resolveElementOptions(V,t="default",s){let i=t==="active",n=this._cachedDataOpts,o=V+"-"+t,r=n[o],a=this.enableOptionSharing&&kV(s);if(r)return _o(r,a);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,V),h=i?[`${V}Hover`,"hover",V,""]:[V,""],u=l.getOptionScopes(this.getDataset(),c),g=Object.keys(nV.elements[V]),p=l.resolveNamedOptions(u,g,()=>this.getContext(s,i,t),h);return p.$shared&&(p.$shared=a,n[o]=Object.freeze(_o(p,a))),p}_resolveAnimations(V,t,s){let i=this.chart,n=this._cachedDataOpts,o=`animation-${t}`,r=n[o];if(r)return r;let a;if(i.options.animation!==!1){let c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,t),u=c.getOptionScopes(this.getDataset(),h);a=c.createResolver(u,this.getContext(V,s,t))}let l=new yi(i,a&&a.animations);return a&&a._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(V){if(V.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},V))}includeOptions(V,t){return!t||_i(V)||this.chart._animationsDisabled}_getSharedOptions(V,t){let s=this.resolveDataElementOptions(V,t),i=this._sharedOptions,n=this.getSharedOptions(s),o=this.includeOptions(t,n)||n!==i;return this.updateSharedOptions(n,t,s),{sharedOptions:n,includeOptions:o}}updateElement(V,t,s,i){_i(i)?Object.assign(V,s):this._resolveAnimations(t,i).update(V,s)}updateSharedOptions(V,t,s){V&&!_i(t)&&this._resolveAnimations(void 0,t).update(V,s)}_setStyle(V,t,s,i){V.active=i;let n=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(V,{options:!i&&this.getSharedOptions(n)||n})}removeHoverStyle(V,t,s){this._setStyle(V,s,"active",!1)}setHoverStyle(V,t,s){this._setStyle(V,s,"active",!0)}_removeDatasetHoverStyle(){let V=this._cachedMeta.dataset;V&&this._setStyle(V,void 0,"active",!1)}_setDatasetHoverStyle(){let V=this._cachedMeta.dataset;V&&this._setStyle(V,void 0,"active",!0)}_resyncElements(V){let t=this._data,s=this._cachedMeta.data;for(let[r,a,l]of this._syncList)this[r](a,l);this._syncList=[];let i=s.length,n=t.length,o=Math.min(n,i);o&&this.parse(0,o),n>i?this._insertElements(i,n-i,V):n<i&&this._removeElements(n,i-n)}_insertElements(V,t,s=!0){let i=this._cachedMeta,n=i.data,o=V+t,r,a=l=>{for(l.length+=t,r=l.length-1;r>=o;r--)l[r]=l[r-t]};for(a(n),r=V;r<o;++r)n[r]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(V,t),s&&this.updateElements(n,V,t,"reset")}updateElements(V,t,s,i){}_removeElements(V,t){let s=this._cachedMeta;if(this._parsing){let i=s._parsed.splice(V,t);s._stacked&&ie(s,i)}s.data.splice(V,t)}_sync(V){if(this._parsing)this._syncList.push(V);else{let[t,s,i]=V;this[t](s,i)}this.chart._dataChanges.push([this.index,...V])}_onDataPush(){let V=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-V,V])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(V,t){t&&this._sync(["_removeElements",V,t]);let s=arguments.length-2;s&&this._sync(["_insertElements",V,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(PV,"defaults",{}),F(PV,"datasetElementType",null),F(PV,"dataElementType",null);class EV{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(V){let{x:t,y:s}=this.getProps(["x","y"],V);return{x:t,y:s}}hasValue(){return At(this.x)&&At(this.y)}getProps(V,t){let s=this.$animations;if(!t||!s)return this;let i={};return V.forEach(n=>{i[n]=s[n]&&s[n].active()?s[n]._to:this[n]}),i}}F(EV,"defaults",{}),F(EV,"defaultRoutes");function Ea(e,V){let t=e.options.ticks,s=function(h){let u=h.options.offset,g=h._tickSize(),p=h._length/g+(u?0:1),f=h._maxLength/g;return Math.floor(Math.min(p,f))}(e),i=Math.min(t.maxTicksLimit||s,s),n=t.major.enabled?function(h){let u=[],g,p;for(g=0,p=h.length;g<p;g++)h[g].major&&u.push(g);return u}(V):[],o=n.length,r=n[0],a=n[o-1],l=[];if(o>i)return function(h,u,g,p){let f,A=0,b=g[0];for(p=Math.ceil(p),f=0;f<h.length;f++)f===b&&(u.push(h[f]),A++,b=g[A*p])}(V,l,n,o/i),l;let c=function(h,u,g){let p=function(b){let v=b.length,_,w;if(v<2)return!1;for(w=b[0],_=1;_<v;++_)if(b[_]-b[_-1]!==w)return!1;return w}(h),f=u.length/g;if(!p)return Math.max(f,1);let A=ln(p);for(let b=0,v=A.length-1;b<v;b++){let _=A[b];if(_>f)return _}return Math.max(f,1)}(n,V,i);if(o>0){let h,u,g=o>1?Math.round((a-r)/(o-1)):null;for(qe(V,l,c,m(g)?0:r-g,r),h=0,u=o-1;h<u;h++)qe(V,l,c,n[h],n[h+1]);return qe(V,l,c,a,m(g)?V.length:a+g),l}return qe(V,l,c),l}function qe(e,V,t,s,i){let n=k(s,0),o=Math.min(k(i,e.length),e.length),r,a,l,c=0;for(t=Math.ceil(t),i&&(r=i-s,t=r/Math.floor(r/t)),l=n;l<0;)c++,l=Math.round(n+c*t);for(a=Math.max(n,0);a<o;a++)a===l&&(V.push(e[a]),c++,l=Math.round(n+c*t))}let Co=(e,V,t)=>V==="top"||V==="left"?e[V]+t:e[V]-t,So=(e,V)=>Math.min(V||e,e);function Mo(e,V){let t=[],s=e.length/V,i=e.length,n=0;for(;n<i;n+=s)t.push(e[Math.floor(n)]);return t}function Ia(e,V,t){let s=e.ticks.length,i=Math.min(V,s-1),n=e._startPixel,o=e._endPixel,r=1e-6,a,l=e.getPixelForTick(i);if(!(t&&(a=s===1?Math.max(l-n,o-l):V===0?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(i-1))/2,l+=i<V?a:-a,l<n-r||l>o+r)))return l}function ne(e){return e.drawTicks?e.tickLength:0}function ko(e,V){if(!e.display)return 0;let t=aV(e.font,V),s=uV(e.padding);return(x(e.text)?e.text.length:1)*t.lineHeight+s.height}function Fa(e,V,t){let s=Se(e);return(t&&V!=="right"||!t&&V==="right")&&(s=(i=>i==="left"?"right":i==="right"?"left":i)(s)),s}class lt extends EV{constructor(V){super(),this.id=V.id,this.type=V.type,this.options=void 0,this.ctx=V.ctx,this.chart=V.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(V){this.options=V.setContext(this.getContext()),this.axis=V.axis,this._userMin=this.parse(V.min),this._userMax=this.parse(V.max),this._suggestedMin=this.parse(V.suggestedMin),this._suggestedMax=this.parse(V.suggestedMax)}parse(V,t){return V}getUserBounds(){let{_userMin:V,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return V=D(V,Number.POSITIVE_INFINITY),t=D(t,Number.NEGATIVE_INFINITY),s=D(s,Number.POSITIVE_INFINITY),i=D(i,Number.NEGATIVE_INFINITY),{min:D(V,s),max:D(t,i),minDefined:S(V),maxDefined:S(t)}}getMinMax(V){let t,{min:s,max:i,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:s,max:i};let r=this.getMatchingVisibleMetas();for(let a=0,l=r.length;a<l;++a)t=r[a].controller.getMinMax(this,V),n||(s=Math.min(s,t.min)),o||(i=Math.max(i,t.max));return s=o&&s>i?i:s,i=n&&s>i?s:i,{min:D(s,D(i,s)),max:D(i,D(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let V=this.chart.data;return this.options.labels||(this.isHorizontal()?V.xLabels:V.yLabels)||V.labels||[]}getLabelItems(V=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(V))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){L(this.options.beforeUpdate,[this])}update(V,t,s){let{beginAtZero:i,grace:n,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=V,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jn(this,n,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let a=r<this.ticks.length;this._convertTicksToLabels(a?Mo(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ea(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let V,t,s=this.options.reverse;this.isHorizontal()?(V=this.left,t=this.right):(V=this.top,t=this.bottom,s=!s),this._startPixel=V,this._endPixel=t,this._reversePixels=s,this._length=t-V,this._alignToPixels=this.options.alignToPixels}afterUpdate(){L(this.options.afterUpdate,[this])}beforeSetDimensions(){L(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){L(this.options.afterSetDimensions,[this])}_callHooks(V){this.chart.notifyPlugins(V,this.getContext()),L(this.options[V],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){L(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(V){let t=this.options.ticks,s,i,n;for(s=0,i=V.length;s<i;s++)n=V[s],n.label=L(t.callback,[n.value,s,V],this)}afterTickToLabelConversion(){L(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){L(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let V=this.options,t=V.ticks,s=So(this.ticks.length,V.ticks.maxTicksLimit),i=t.minRotation||0,n=t.maxRotation,o,r,a,l=i;if(!this._isVisible()||!t.display||i>=n||s<=1||!this.isHorizontal())return void(this.labelRotation=i);let c=this._getLabelSizes(),h=c.widest.width,u=c.highest.height,g=hV(this.chart.width-h,0,this.maxWidth);o=V.offset?this.maxWidth/s:g/(s-1),h+6>o&&(o=g/(s-(V.offset?.5:1)),r=this.maxHeight-ne(V.grid)-t.padding-ko(V.title,this.chart.options.font),a=Math.sqrt(h*h+u*u),l=we(Math.min(Math.asin(hV((c.highest.height+6)/o,-1,1)),Math.asin(hV(r/a,-1,1))-Math.asin(hV(u/a,-1,1)))),l=Math.max(i,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){L(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){L(this.options.beforeFit,[this])}fit(){let V={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:n}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){let a=ko(i,t.options.font);if(r?(V.width=this.maxWidth,V.height=ne(n)+a):(V.height=this.maxHeight,V.width=ne(n)+a),s.display&&this.ticks.length){let{first:l,last:c,widest:h,highest:u}=this._getLabelSizes(),g=2*s.padding,p=DV(this.labelRotation),f=Math.cos(p),A=Math.sin(p);if(r){let b=s.mirror?0:A*h.width+f*u.height;V.height=Math.min(this.maxHeight,V.height+b+g)}else{let b=s.mirror?0:f*h.width+A*u.height;V.width=Math.min(this.maxWidth,V.width+b+g)}this._calculatePadding(l,c,A,f)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=V.height):(this.width=V.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(V,t,s,i){let{ticks:{align:n,padding:o},position:r}=this.options,a=this.labelRotation!==0,l=r!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),u=0,g=0;a?l?(u=i*V.width,g=s*t.height):(u=s*V.height,g=i*t.width):n==="start"?g=t.width:n==="end"?u=V.width:n!=="inner"&&(u=V.width/2,g=t.width/2),this.paddingLeft=Math.max((u-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let c=t.height/2,h=V.height/2;n==="start"?(c=0,h=V.height):n==="end"&&(c=t.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){L(this.options.afterFit,[this])}isHorizontal(){let{axis:V,position:t}=this.options;return t==="top"||t==="bottom"||V==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(V){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(V),t=0,s=V.length;t<s;t++)m(V[t].label)&&(V.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let V=this._labelSizes;if(!V){let t=this.options.ticks.sampleSize,s=this.ticks;t<s.length&&(s=Mo(s,t)),this._labelSizes=V=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return V}_computeLabelSizes(V,t,s){let{ctx:i,_longestTextCache:n}=this,o=[],r=[],a=Math.floor(t/So(t,s)),l,c,h,u,g,p,f,A,b,v,_,w=0,M=0;for(l=0;l<t;l+=a){if(u=V[l].label,g=this._resolveTickFontOptions(l),i.font=p=g.string,f=n[p]=n[p]||{data:{},gc:[]},A=g.lineHeight,b=v=0,m(u)||x(u)){if(x(u))for(c=0,h=u.length;c<h;++c)_=u[c],m(_)||x(_)||(b=Xt(i,f.data,f.gc,b,_),v+=A)}else b=Xt(i,f.data,f.gc,b,u),v=A;o.push(b),r.push(v),w=Math.max(b,w),M=Math.max(v,M)}(function(z,O){R(z,j=>{let H=j.gc,B=H.length/2,Q;if(B>O){for(Q=0;Q<B;++Q)delete j.data[H[Q]];H.splice(0,B)}})})(n,t);let P=o.indexOf(w),E=r.indexOf(M),I=z=>({width:o[z]||0,height:r[z]||0});return{first:I(0),last:I(t-1),widest:I(P),highest:I(E),widths:o,heights:r}}getLabelForValue(V){return V}getPixelForValue(V,t){return NaN}getValueForPixel(V){}getPixelForTick(V){let t=this.ticks;return V<0||V>t.length-1?null:this.getPixelForValue(t[V].value)}getPixelForDecimal(V){this._reversePixels&&(V=1-V);let t=this._startPixel+V*this._length;return dn(this._alignToPixels?nt(this.chart,t,0):t)}getDecimalForPixel(V){let t=(V-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:V,max:t}=this;return V<0&&t<0?t:V>0&&t>0?V:0}getContext(V){let t=this.ticks||[];if(V>=0&&V<t.length){let s=t[V];return s.$context||(s.$context=function(i,n,o){return $V(i,{tick:o,index:n,type:"tick"})}(this.getContext(),V,s))}return this.$context||(this.$context=$V(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let V=this.options.ticks,t=DV(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),n=this._getLabelSizes(),o=V.autoSkipPadding||0,r=n?n.widest.width+o:0,a=n?n.highest.height+o:0;return this.isHorizontal()?a*s>r*i?r/s:a/i:a*i<r*s?a/s:r/i}_isVisible(){let V=this.options.display;return V!=="auto"?!!V:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(V){let t=this.axis,s=this.chart,i=this.options,{grid:n,position:o,border:r}=i,a=n.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),h=ne(n),u=[],g=r.setContext(this.getContext()),p=g.display?g.width:0,f=p/2,A=function(N){return nt(s,N,p)},b,v,_,w,M,P,E,I,z,O,j,H;if(o==="top")b=A(this.bottom),P=this.bottom-h,I=b-f,O=A(V.top)+f,H=V.bottom;else if(o==="bottom")b=A(this.top),O=V.top,H=A(V.bottom)-f,P=b+f,I=this.top+h;else if(o==="left")b=A(this.right),M=this.right-h,E=b-f,z=A(V.left)+f,j=V.right;else if(o==="right")b=A(this.left),z=V.left,j=A(V.right)-f,M=b+f,E=this.left+h;else if(t==="x"){if(o==="center")b=A((V.top+V.bottom)/2+.5);else if(C(o)){let N=Object.keys(o)[0],W=o[N];b=A(this.chart.scales[N].getPixelForValue(W))}O=V.top,H=V.bottom,P=b+f,I=P+h}else if(t==="y"){if(o==="center")b=A((V.left+V.right)/2);else if(C(o)){let N=Object.keys(o)[0],W=o[N];b=A(this.chart.scales[N].getPixelForValue(W))}M=b-f,E=M-h,z=V.left,j=V.right}let B=k(i.ticks.maxTicksLimit,c),Q=Math.max(1,Math.ceil(c/B));for(v=0;v<c;v+=Q){let N=this.getContext(v),W=n.setContext(N),$=r.setContext(N),Y=W.lineWidth,fV=W.color,_V=$.dash||[],CV=$.dashOffset,IV=W.tickWidth,OV=W.tickColor,BV=W.tickBorderDash||[],zV=W.tickBorderDashOffset;_=Ia(this,v,a),_!==void 0&&(w=nt(s,_,Y),l?M=E=z=j=w:P=I=O=H=w,u.push({tx1:M,ty1:P,tx2:E,ty2:I,x1:z,y1:O,x2:j,y2:H,width:Y,color:fV,borderDash:_V,borderDashOffset:CV,tickWidth:IV,tickColor:OV,tickBorderDash:BV,tickBorderDashOffset:zV}))}return this._ticksLength=c,this._borderValue=b,u}_computeLabelItems(V){let t=this.axis,s=this.options,{position:i,ticks:n}=s,o=this.isHorizontal(),r=this.ticks,{align:a,crossAlign:l,padding:c,mirror:h}=n,u=ne(s.grid),g=u+c,p=h?-c:g,f=-DV(this.labelRotation),A=[],b,v,_,w,M,P,E,I,z,O,j,H,B="middle";if(i==="top")P=this.bottom-p,E=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+p,E=this._getXAxisLabelAlignment();else if(i==="left"){let N=this._getYAxisLabelAlignment(u);E=N.textAlign,M=N.x}else if(i==="right"){let N=this._getYAxisLabelAlignment(u);E=N.textAlign,M=N.x}else if(t==="x"){if(i==="center")P=(V.top+V.bottom)/2+g;else if(C(i)){let N=Object.keys(i)[0],W=i[N];P=this.chart.scales[N].getPixelForValue(W)+g}E=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")M=(V.left+V.right)/2-g;else if(C(i)){let N=Object.keys(i)[0],W=i[N];M=this.chart.scales[N].getPixelForValue(W)}E=this._getYAxisLabelAlignment(u).textAlign}t==="y"&&(a==="start"?B="top":a==="end"&&(B="bottom"));let Q=this._getLabelSizes();for(b=0,v=r.length;b<v;++b){_=r[b],w=_.label;let N=n.setContext(this.getContext(b));I=this.getPixelForTick(b)+n.labelOffset,z=this._resolveTickFontOptions(b),O=z.lineHeight,j=x(w)?w.length:1;let W=j/2,$=N.color,Y=N.textStrokeColor,fV=N.textStrokeWidth,_V,CV=E;if(o?(M=I,E==="inner"&&(CV=b===v-1?this.options.reverse?"left":"right":b===0?this.options.reverse?"right":"left":"center"),H=i==="top"?l==="near"||f!==0?-j*O+O/2:l==="center"?-Q.highest.height/2-W*O+O:-Q.highest.height+O/2:l==="near"||f!==0?O/2:l==="center"?Q.highest.height/2-W*O:Q.highest.height-j*O,h&&(H*=-1),f===0||N.showLabelBackdrop||(M+=O/2*Math.sin(f))):(P=I,H=(1-j)*O/2),N.showLabelBackdrop){let IV=uV(N.backdropPadding),OV=Q.heights[b],BV=Q.widths[b],zV=H-IV.top,NV=0-IV.left;switch(B){case"middle":zV-=OV/2;break;case"bottom":zV-=OV}switch(E){case"center":NV-=BV/2;break;case"right":NV-=BV;break;case"inner":b===v-1?NV-=BV:b>0&&(NV-=BV/2)}_V={left:NV,top:zV,width:BV+IV.width,height:OV+IV.height,color:N.backdropColor}}A.push({label:w,font:z,textOffset:H,options:{rotation:f,color:$,strokeColor:Y,strokeWidth:fV,textAlign:CV,textBaseline:B,translation:[M,P],backdrop:_V}})}return A}_getXAxisLabelAlignment(){let{position:V,ticks:t}=this.options;if(-DV(this.labelRotation))return V==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(V){let{position:t,ticks:{crossAlign:s,mirror:i,padding:n}}=this.options,o=V+n,r=this._getLabelSizes().widest.width,a,l;return t==="left"?i?(l=this.right+n,s==="near"?a="left":s==="center"?(a="center",l+=r/2):(a="right",l+=r)):(l=this.right-o,s==="near"?a="right":s==="center"?(a="center",l-=r/2):(a="left",l=this.left)):t==="right"?i?(l=this.left+n,s==="near"?a="right":s==="center"?(a="center",l-=r/2):(a="left",l-=r)):(l=this.left+o,s==="near"?a="left":s==="center"?(a="center",l+=r/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;let V=this.chart,t=this.options.position;return t==="left"||t==="right"?{top:0,left:this.left,bottom:V.height,right:this.right}:t==="top"||t==="bottom"?{top:this.top,left:0,bottom:this.bottom,right:V.width}:void 0}drawBackground(){let{ctx:V,options:{backgroundColor:t},left:s,top:i,width:n,height:o}=this;t&&(V.save(),V.fillStyle=t,V.fillRect(s,i,n,o),V.restore())}getLineWidthForValue(V){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let s=this.ticks.findIndex(i=>i.value===V);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(V){let t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(V)),n,o,r=(a,l,c)=>{c.width&&c.color&&(s.save(),s.lineWidth=c.width,s.strokeStyle=c.color,s.setLineDash(c.borderDash||[]),s.lineDashOffset=c.borderDashOffset,s.beginPath(),s.moveTo(a.x,a.y),s.lineTo(l.x,l.y),s.stroke(),s.restore())};if(t.display)for(n=0,o=i.length;n<o;++n){let a=i[n];t.drawOnChartArea&&r({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&r({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){let{chart:V,ctx:t,options:{border:s,grid:i}}=this,n=s.setContext(this.getContext()),o=s.display?n.width:0;if(!o)return;let r=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue,l,c,h,u;this.isHorizontal()?(l=nt(V,this.left,o)-o/2,c=nt(V,this.right,r)+r/2,h=u=a):(h=nt(V,this.top,o)-o/2,u=nt(V,this.bottom,r)+r/2,l=c=a),t.save(),t.lineWidth=n.width,t.strokeStyle=n.color,t.beginPath(),t.moveTo(l,h),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(V){if(!this.options.ticks.display)return;let t=this.ctx,s=this._computeLabelArea();s&&Zt(t,s);let i=this.getLabelItems(V);for(let n of i){let o=n.options,r=n.font;ot(t,n.label,0,n.textOffset,r,o)}s&&$t(t)}drawTitle(){let{ctx:V,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;let n=aV(s.font),o=uV(s.padding),r=s.align,a=n.lineHeight/2;t==="bottom"||t==="center"||C(t)?(a+=o.bottom,x(s.text)&&(a+=n.lineHeight*(s.text.length-1))):a+=o.top;let{titleX:l,titleY:c,maxWidth:h,rotation:u}=function(g,p,f,A){let{top:b,left:v,bottom:_,right:w,chart:M}=g,{chartArea:P,scales:E}=M,I,z,O,j=0,H=_-b,B=w-v;if(g.isHorizontal()){if(z=dV(A,v,w),C(f)){let Q=Object.keys(f)[0],N=f[Q];O=E[Q].getPixelForValue(N)+H-p}else O=f==="center"?(P.bottom+P.top)/2+H-p:Co(g,f,p);I=w-v}else{if(C(f)){let Q=Object.keys(f)[0],N=f[Q];z=E[Q].getPixelForValue(N)-B+p}else z=f==="center"?(P.left+P.right)/2-B+p:Co(g,f,p);O=dV(A,_,b),j=f==="left"?-eV:eV}return{titleX:z,titleY:O,maxWidth:I,rotation:j}}(this,a,t,r);ot(V,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:u,textAlign:Fa(r,t,i),textBaseline:"middle",translation:[l,c]})}draw(V){this._isVisible()&&(this.drawBackground(),this.drawGrid(V),this.drawBorder(),this.drawTitle(),this.drawLabels(V))}_layers(){let V=this.options,t=V.ticks&&V.ticks.z||0,s=k(V.grid&&V.grid.z,-1),i=k(V.border&&V.border.z,0);return this._isVisible()&&this.draw===lt.prototype.draw?[{z:s,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:n=>{this.drawLabels(n)}}]:[{z:t,draw:n=>{this.draw(n)}}]}getMatchingVisibleMetas(V){let t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[],n,o;for(n=0,o=t.length;n<o;++n){let r=t[n];r[s]!==this.id||V&&r.type!==V||i.push(r)}return i}_resolveTickFontOptions(V){return aV(this.options.ticks.setContext(this.getContext(V)).font)}_maxDigits(){let V=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/V}}class We{constructor(V,t,s){this.type=V,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(V){return Object.prototype.isPrototypeOf.call(this.type.prototype,V.prototype)}register(V){let t=Object.getPrototypeOf(V),s;(function(r){return"id"in r&&"defaults"in r})(t)&&(s=this.register(t));let i=this.items,n=V.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+V);return n in i||(i[n]=V,function(r,a,l){let c=tV(Object.create(null),[l?nV.get(l):{},nV.get(a),r.defaults]);nV.set(a,c),r.defaultRoutes&&function(h,u){Object.keys(u).forEach(g=>{let p=g.split("."),f=p.pop(),A=[h].concat(p).join("."),b=u[g].split("."),v=b.pop(),_=b.join(".");nV.route(A,f,_,v)})}(a,r.defaultRoutes),r.descriptors&&nV.describe(a,r.descriptors)}(V,o,s),this.override&&nV.override(V.id,V.overrides)),o}get(V){return this.items[V]}unregister(V){let t=this.items,s=V.id,i=this.scope;s in t&&delete t[s],i&&s in nV[i]&&(delete nV[i][s],this.override&&delete bt[s])}}class Ra{constructor(){this.controllers=new We(PV,"datasets",!0),this.elements=new We(EV,"elements"),this.plugins=new We(Object,"plugins"),this.scales=new We(lt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...V){this._each("register",V)}remove(...V){this._each("unregister",V)}addControllers(...V){this._each("register",V,this.controllers)}addElements(...V){this._each("register",V,this.elements)}addPlugins(...V){this._each("register",V,this.plugins)}addScales(...V){this._each("register",V,this.scales)}getController(V){return this._get(V,this.controllers,"controller")}getElement(V){return this._get(V,this.elements,"element")}getPlugin(V){return this._get(V,this.plugins,"plugin")}getScale(V){return this._get(V,this.scales,"scale")}removeControllers(...V){this._each("unregister",V,this.controllers)}removeElements(...V){this._each("unregister",V,this.elements)}removePlugins(...V){this._each("unregister",V,this.plugins)}removeScales(...V){this._each("unregister",V,this.scales)}_each(V,t,s){[...t].forEach(i=>{let n=s||this._getRegistryForType(i);s||n.isForType(i)||n===this.plugins&&i.id?this._exec(V,n,i):R(i,o=>{let r=s||this._getRegistryForType(o);this._exec(V,r,o)})})}_exec(V,t,s){let i=vV(V);L(s["before"+i],[],s),t[V](s),L(s["after"+i],[],s)}_getRegistryForType(V){for(let t=0;t<this._typedRegistries.length;t++){let s=this._typedRegistries[t];if(s.isForType(V))return s}return this.plugins}_get(V,t,s){let i=t.get(V);if(i===void 0)throw new Error('"'+V+'" is not a registered '+s+".");return i}}var LV=new Ra;class La{constructor(){this._init=[]}notify(V,t,s,i){t==="beforeInit"&&(this._init=this._createDescriptors(V,!0),this._notify(this._init,V,"install"));let n=i?this._descriptors(V).filter(i):this._descriptors(V),o=this._notify(n,V,t,s);return t==="afterDestroy"&&(this._notify(n,V,"stop"),this._notify(this._init,V,"uninstall")),o}_notify(V,t,s,i){i=i||{};for(let n of V){let o=n.plugin;if(L(o[s],[t,i,n.options],o)===!1&&i.cancelable)return!1}return!0}invalidate(){m(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(V){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(V);return this._notifyStateChanges(V),t}_createDescriptors(V,t){let s=V&&V.config,i=k(s.options&&s.options.plugins,{}),n=function(o){let r={},a=[],l=Object.keys(LV.plugins.items);for(let h=0;h<l.length;h++)a.push(LV.getPlugin(l[h]));let c=o.plugins||[];for(let h=0;h<c.length;h++){let u=c[h];a.indexOf(u)===-1&&(a.push(u),r[u.id]=!0)}return{plugins:a,localIds:r}}(s);return i!==!1||t?function(o,{plugins:r,localIds:a},l,c){let h=[],u=o.getContext();for(let g of r){let p=g.id,f=Oa(l[p],c);f!==null&&h.push({plugin:g,options:Ba(o.config,{plugin:g,local:a[p]},f,u)})}return h}(V,n,i,t):[]}_notifyStateChanges(V){let t=this._oldCache||[],s=this._cache,i=(n,o)=>n.filter(r=>!o.some(a=>r.plugin.id===a.plugin.id));this._notify(i(t,s),V,"stop"),this._notify(i(s,t),V,"start")}}function Oa(e,V){return V||e!==!1?e===!0?{}:e:null}function Ba(e,{plugin:V,local:t},s,i){let n=e.pluginScopeKeys(V),o=e.getOptionScopes(s,n);return t&&V.defaults&&o.push(V.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ci(e,V){let t=nV.datasets[e]||{};return((V.datasets||{})[e]||{}).indexAxis||V.indexAxis||t.indexAxis||"x"}function Do(e){if(e==="x"||e==="y"||e==="r")return e}function Si(e,...V){if(Do(e))return e;for(let s of V){let i=s.axis||((t=s.position)==="top"||t==="bottom"?"x":t==="left"||t==="right"?"y":void 0)||e.length>1&&Do(e[0].toLowerCase());if(i)return i}var t;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function To(e,V,t){if(t[V+"AxisID"]===e)return{axis:V}}function za(e,V){let t=bt[e.type]||{scales:{}},s=V.scales||{},i=Ci(e.type,V),n=Object.create(null);return Object.keys(s).forEach(o=>{let r=s[o];if(!C(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let a=Si(o,r,function(h,u){if(u.data&&u.data.datasets){let g=u.data.datasets.filter(p=>p.xAxisID===h||p.yAxisID===h);if(g.length)return To(h,"x",g[0])||To(h,"y",g[0])}return{}}(o,e),nV.scales[r.type]),l=function(h,u){return h===u?"_index_":"_value_"}(a,i),c=t.scales||{};n[o]=yV(Object.create(null),[{axis:a},r,c[a],c[l]])}),e.data.datasets.forEach(o=>{let r=o.type||e.type,a=o.indexAxis||Ci(r,V),l=(bt[r]||{}).scales||{};Object.keys(l).forEach(c=>{let h=function(g,p){let f=g;return g==="_index_"?f=p:g==="_value_"&&(f=p==="x"?"y":"x"),f}(c,a),u=o[h+"AxisID"]||h;n[u]=n[u]||Object.create(null),yV(n[u],[{axis:h},s[u],l[c]])})}),Object.keys(n).forEach(o=>{let r=n[o];yV(r,[nV.scales[r.type],nV.scale])}),n}function Po(e){let V=e.options||(e.options={});V.plugins=k(V.plugins,{}),V.scales=za(e,V)}function Eo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let Io=new Map,Fo=new Set;function Ge(e,V){let t=Io.get(e);return t||(t=V(),Io.set(e,t),Fo.add(t)),t}let oe=(e,V,t)=>{let s=rV(V,t);s!==void 0&&e.add(s)};class Na{constructor(V){this._config=function(t){return(t=t||{}).data=Eo(t.data),Po(t),t}(V),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(V){this._config.type=V}get data(){return this._config.data}set data(V){this._config.data=Eo(V)}get options(){return this._config.options}set options(V){this._config.options=V}get plugins(){return this._config.plugins}update(){let V=this._config;this.clearCache(),Po(V)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(V){return Ge(V,()=>[[`datasets.${V}`,""]])}datasetAnimationScopeKeys(V,t){return Ge(`${V}.transition.${t}`,()=>[[`datasets.${V}.transitions.${t}`,`transitions.${t}`],[`datasets.${V}`,""]])}datasetElementScopeKeys(V,t){return Ge(`${V}-${t}`,()=>[[`datasets.${V}.elements.${t}`,`datasets.${V}`,`elements.${t}`,""]])}pluginScopeKeys(V){let t=V.id;return Ge(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...V.additionalOptionScopes||[]]])}_cachedScopes(V,t){let s=this._scopeCache,i=s.get(V);return i&&!t||(i=new Map,s.set(V,i)),i}getOptionScopes(V,t,s){let{options:i,type:n}=this,o=this._cachedScopes(V,s),r=o.get(t);if(r)return r;let a=new Set;t.forEach(c=>{V&&(a.add(V),c.forEach(h=>oe(a,V,h))),c.forEach(h=>oe(a,i,h)),c.forEach(h=>oe(a,bt[n]||{},h)),c.forEach(h=>oe(a,nV,h)),c.forEach(h=>oe(a,ei,h))});let l=Array.from(a);return l.length===0&&l.push(Object.create(null)),Fo.has(t)&&o.set(t,l),l}chartOptionScopes(){let{options:V,type:t}=this;return[V,bt[t]||{},nV.datasets[t]||{},{type:t},nV,ei]}resolveNamedOptions(V,t,s,i=[""]){let n={$shared:!0},{resolver:o,subPrefixes:r}=Ro(this._resolverCache,V,i),a=o;(function(l,c){let{isScriptable:h,isIndexable:u}=ai(l);for(let g of c){let p=h(g),f=u(g),A=(f||p)&&l[g];if(p&&(pV(A)||Qa(A))||f&&x(A))return!0}return!1})(o,t)&&(n.$shared=!1,a=yt(o,s=pV(s)?s():s,this.createResolver(V,s,r)));for(let l of t)n[l]=a[l];return n}createResolver(V,t,s=[""],i){let{resolver:n}=Ro(this._resolverCache,V,s);return C(t)?yt(n,t,void 0,i):n}}function Ro(e,V,t){let s=e.get(V);s||(s=new Map,e.set(V,s));let i=t.join(),n=s.get(i);return n||(n={resolver:Be(V,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},s.set(i,n)),n}let Qa=e=>C(e)&&Object.getOwnPropertyNames(e).some(V=>pV(e[V])),Ha=["top","bottom","left","right","chartArea"];function Lo(e,V){return e==="top"||e==="bottom"||Ha.indexOf(e)===-1&&V==="x"}function Oo(e,V){return function(t,s){return t[e]===s[e]?t[V]-s[V]:t[e]-s[e]}}function Bo(e){let V=e.chart,t=V.options.animation;V.notifyPlugins("afterRender"),L(t&&t.onComplete,[e],V)}function Ua(e){let V=e.chart,t=V.options.animation;L(t&&t.onProgress,[e],V)}function zo(e){return Ee()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let Ye={},No=e=>{let V=zo(e);return Object.values(Ye).filter(t=>t.canvas===V).pop()};function ja(e,V,t){let s=Object.keys(e);for(let i of s){let n=+i;if(n>=V){let o=e[i];delete e[i],(t>0||n>V)&&(e[n+t]=o)}}}function Je(e,V,t){return e.options.clip?e[t]:V[t]}class sV{static register(...V){LV.add(...V),Qo()}static unregister(...V){LV.remove(...V),Qo()}constructor(V,t){let s=this.config=new Na(t),i=zo(V),n=No(i);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");let o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||fo(i)),this.platform.updateConfig(s);let r=this.platform.acquireContext(i,o.aspectRatio),a=r&&r.canvas,l=a&&a.height,c=a&&a.width;this.id=d(),this.ctx=r,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new La,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mn(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ye[this.id]=this,r&&a?(WV.listen(this,"complete",Bo),WV.listen(this,"progress",Ua),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){let{options:{aspectRatio:V,maintainAspectRatio:t},width:s,height:i,_aspectRatio:n}=this;return m(V)?t&&n?n:i?s/i:null:V}get data(){return this.config.data}set data(V){this.config.data=V}get options(){return this._options}set options(V){this.config.options=V}get registry(){return LV}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ii(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oi(this.canvas,this.ctx),this}stop(){return WV.stop(this),this}resize(V,t){WV.running(this)?this._resizeBeforeDraw={width:V,height:t}:this._resize(V,t)}_resize(V,t){let s=this.options,i=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,V,t,n),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ii(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),L(s.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){R(this.options.scales||{},(V,t)=>{V.id=t})}buildOrUpdateScales(){let V=this.options,t=V.scales,s=this.scales,i=Object.keys(s).reduce((o,r)=>(o[r]=!1,o),{}),n=[];t&&(n=n.concat(Object.keys(t).map(o=>{let r=t[o],a=Si(o,r),l=a==="r",c=a==="x";return{options:r,dposition:l?"chartArea":c?"bottom":"left",dtype:l?"radialLinear":c?"category":"linear"}}))),R(n,o=>{let r=o.options,a=r.id,l=Si(a,r),c=k(r.type,o.dtype);r.position!==void 0&&Lo(r.position,l)===Lo(o.dposition)||(r.position=o.dposition),i[a]=!0;let h=null;a in s&&s[a].type===c?h=s[a]:(h=new(LV.getScale(c))({id:a,type:c,ctx:this.ctx,chart:this}),s[h.id]=h),h.init(r,V)}),R(i,(o,r)=>{o||delete s[r]}),R(s,o=>{gV.configure(this,o,o.options),gV.addBox(this,o)})}_updateMetasets(){let V=this._metasets,t=this.data.datasets.length,s=V.length;if(V.sort((i,n)=>i.index-n.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);V.splice(t,s-t)}this._sortedMetasets=V.slice(0).sort(Oo("order","index"))}_removeUnreferencedMetasets(){let{_metasets:V,data:{datasets:t}}=this;V.length>t.length&&delete this._stacks,V.forEach((s,i)=>{t.filter(n=>n===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let V=[],t=this.data.datasets,s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){let n=t[s],o=this.getDatasetMeta(s),r=n.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=r,o.indexAxis=n.indexAxis||Ci(r,this.options),o.order=n.order||0,o.index=s,o.label=""+n.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{let a=LV.getController(r),{datasetElementType:l,dataElementType:c}=nV.datasets[r];Object.assign(a,{dataElementType:LV.getElement(c),datasetElementType:l&&LV.getElement(l)}),o.controller=new a(this,s),V.push(o.controller)}}return this._updateMetasets(),V}_resetElements(){R(this.data.datasets,(V,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(V){let t=this.config;t.update();let s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:V,cancelable:!0})===!1)return;let n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){let{controller:h}=this.getDatasetMeta(l),u=!i&&n.indexOf(h)===-1;h.buildOrUpdateElements(u),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||R(n,l=>{l.reset()}),this._updateDatasets(V),this.notifyPlugins("afterUpdate",{mode:V}),this._layers.sort(Oo("z","_idx"));let{_active:r,_lastEvent:a}=this;a?this._eventHandler(a,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){R(this.scales,V=>{gV.removeBox(this,V)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let V=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(V.events);XV(t,s)&&!!this._responsiveListeners===V.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:V}=this,t=this._getUniformDataChanges()||[];for(let{method:s,start:i,count:n}of t)ja(V,i,s==="_removeElements"?-n:n)}_getUniformDataChanges(){let V=this._dataChanges;if(!V||!V.length)return;this._dataChanges=[];let t=this.data.datasets.length,s=n=>new Set(V.filter(o=>o[0]===n).map((o,r)=>r+","+o.splice(1).join(","))),i=s(0);for(let n=1;n<t;n++)if(!XV(i,s(n)))return;return Array.from(i).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(V){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gV.update(this,this.width,this.height,V);let t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],R(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,n)=>{i._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(V){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:V,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,pV(V)?V({datasetIndex:t}):V);this.notifyPlugins("afterDatasetsUpdate",{mode:V})}}_updateDataset(V,t){let s=this.getDatasetMeta(V),i={meta:s,index:V,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(WV.has(this)?this.attached&&!WV.running(this)&&WV.start(this):(this.draw(),Bo({chart:this})))}draw(){let V;if(this._resizeBeforeDraw){let{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(V=0;V<t.length&&t[V].z<=0;++V)t[V].draw(this.chartArea);for(this._drawDatasets();V<t.length;++V)t[V].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(V){let t=this._sortedMetasets,s=[],i,n;for(i=0,n=t.length;i<n;++i){let o=t[i];V&&!o.visible||s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let V=this.getSortedVisibleDatasetMetas();for(let t=V.length-1;t>=0;--t)this._drawDataset(V[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(V){let t=this.ctx,s=V._clip,i=!s.disabled,n=function(r,a){let{xScale:l,yScale:c}=r;return l&&c?{left:Je(l,a,"left"),right:Je(l,a,"right"),top:Je(c,a,"top"),bottom:Je(c,a,"bottom")}:a}(V,this.chartArea),o={meta:V,index:V.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Zt(t,{left:s.left===!1?0:n.left-s.left,right:s.right===!1?this.width:n.right+s.right,top:s.top===!1?0:n.top-s.top,bottom:s.bottom===!1?this.height:n.bottom+s.bottom}),V.controller.draw(),i&&$t(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(V){return GV(V,this.chartArea,this._minPadding)}getElementsAtEventForMode(V,t,s,i){let n=eo.modes[t];return typeof n=="function"?n(this,V,s,i):[]}getDatasetMeta(V){let t=this.data.datasets[V],s=this._metasets,i=s.filter(n=>n&&n._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:V,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=$V(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(V){let t=this.data.datasets[V];if(!t)return!1;let s=this.getDatasetMeta(V);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(V,t){this.getDatasetMeta(V).hidden=!t}toggleDataVisibility(V){this._hiddenIndices[V]=!this._hiddenIndices[V]}getDataVisibility(V){return!this._hiddenIndices[V]}_updateVisibility(V,t,s){let i=s?"show":"hide",n=this.getDatasetMeta(V),o=n.controller._resolveAnimations(void 0,i);kV(t)?(n.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(V,s),o.update(n,{visible:s}),this.update(r=>r.datasetIndex===V?i:void 0))}hide(V,t){this._updateVisibility(V,t,!1)}show(V,t){this._updateVisibility(V,t,!0)}_destroyDatasetMeta(V){let t=this._metasets[V];t&&t.controller&&t.controller._destroy(),delete this._metasets[V]}_stop(){let V,t;for(this.stop(),WV.remove(this),V=0,t=this.data.datasets.length;V<t;++V)this._destroyDatasetMeta(V)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:V,ctx:t}=this;this._stop(),this.config.clearCache(),V&&(this.unbindEvents(),oi(V,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ye[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...V){return this.canvas.toDataURL(...V)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let V=this._listeners,t=this.platform,s=(n,o)=>{t.addEventListener(this,n,o),V[n]=o},i=(n,o,r)=>{n.offsetX=o,n.offsetY=r,this._eventHandler(n)};R(this.options.events,n=>s(n,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let V=this._responsiveListeners,t=this.platform,s=(a,l)=>{t.addEventListener(this,a,l),V[a]=l},i=(a,l)=>{V[a]&&(t.removeEventListener(this,a,l),delete V[a])},n=(a,l)=>{this.canvas&&this.resize(a,l)},o,r=()=>{i("attach",r),this.attached=!0,this.resize(),s("resize",n),s("detach",o)};o=()=>{this.attached=!1,i("resize",n),this._stop(),this._resize(0,0),s("attach",r)},t.isAttached(this.canvas)?r():o()}unbindEvents(){R(this._listeners,(V,t)=>{this.platform.removeEventListener(this,t,V)}),this._listeners={},R(this._responsiveListeners,(V,t)=>{this.platform.removeEventListener(this,t,V)}),this._responsiveListeners=void 0}updateHoverStyle(V,t,s){let i=s?"set":"remove",n,o,r,a;for(t==="dataset"&&(n=this.getDatasetMeta(V[0].datasetIndex),n.controller["_"+i+"DatasetHoverStyle"]()),r=0,a=V.length;r<a;++r){o=V[r];let l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(V){let t=this._active||[],s=V.map(({datasetIndex:i,index:n})=>{let o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[n],index:n}});!G(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(V,t,s){return this._plugins.notify(this,V,t,s)}isPluginEnabled(V){return this._plugins._cache.filter(t=>t.plugin.id===V).length===1}_updateHoverStyles(V,t,s){let i=this.options.hover,n=(a,l)=>a.filter(c=>!l.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=n(t,V),r=s?V:n(V,t);o.length&&this.updateHoverStyle(o,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(V,t){let s={event:V,replay:t,cancelable:!0,inChartArea:this.isPointInArea(V)},i=o=>(o.options.events||this.options.events).includes(V.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;let n=this._handleEvent(V,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(n||s.changed)&&this.render(),this}_handleEvent(V,t,s){let{_active:i=[],options:n}=this,o=t,r=this._getActiveElements(V,i,s,o),a=ve(V),l=function(h,u,g,p){return g&&h.type!=="mouseout"?p?u:h:null}(V,this._lastEvent,s,a);s&&(this._lastEvent=null,L(n.onHover,[V,r,this],this),a&&L(n.onClick,[V,r,this],this));let c=!G(r,i);return(c||t)&&(this._active=r,this._updateHoverStyles(r,i,t)),this._lastEvent=l,c}_getActiveElements(V,t,s,i){if(V.type==="mouseout")return[];if(!s)return t;let n=this.options.hover;return this.getElementsAtEventForMode(V,n.mode,n,i)}}F(sV,"defaults",nV),F(sV,"instances",Ye),F(sV,"overrides",bt),F(sV,"registry",LV),F(sV,"version","4.4.7"),F(sV,"getChart",No);function Qo(){return R(sV.instances,e=>e._plugins.invalidate())}function wt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mi{constructor(V){F(this,"options");this.options=V||{}}static override(V){Object.assign(Mi.prototype,V)}init(){}formats(){return wt()}parse(){return wt()}format(){return wt()}add(){return wt()}diff(){return wt()}startOf(){return wt()}endOf(){return wt()}}var Ho={_date:Mi};function qa(e){let V=e.iScale,t=function(l,c){if(!l._cache.$bar){let h=l.getMatchingVisibleMetas(c),u=[];for(let g=0,p=h.length;g<p;g++)u=u.concat(h[g].controller.getAllParsedValues(l));l._cache.$bar=qs(u.sort((g,p)=>g-p))}return l._cache.$bar}(V,e.type),s,i,n,o,r=V._length,a=()=>{n!==32767&&n!==-32768&&(kV(o)&&(r=Math.min(r,Math.abs(n-o)||r)),o=n)};for(s=0,i=t.length;s<i;++s)n=V.getPixelForValue(t[s]),a();for(o=void 0,s=0,i=V.ticks.length;s<i;++s)n=V.getPixelForTick(s),a();return r}function Uo(e,V,t,s){return x(e)?function(i,n,o,r){let a=o.parse(i[0],r),l=o.parse(i[1],r),c=Math.min(a,l),h=Math.max(a,l),u=c,g=h;Math.abs(c)>Math.abs(h)&&(u=h,g=c),n[o.axis]=g,n._custom={barStart:u,barEnd:g,start:a,end:l,min:c,max:h}}(e,V,t,s):V[t.axis]=t.parse(e,s),V}function jo(e,V,t,s){let i=e.iScale,n=e.vScale,o=i.getLabels(),r=i===n,a=[],l,c,h,u;for(l=t,c=t+s;l<c;++l)u=V[l],h={},h[i.axis]=r||i.parse(o[l],l),a.push(Uo(u,h,n,l));return a}function ki(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Wa(e,V,t,s){let i=V.borderSkipped,n={};if(!i)return void(e.borderSkipped=n);if(i===!0)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});let{start:o,end:r,reverse:a,top:l,bottom:c}=function(h){let u,g,p,f,A;return h.horizontal?(u=h.base>h.x,g="left",p="right"):(u=h.base<h.y,g="bottom",p="top"),u?(f="end",A="start"):(f="start",A="end"),{start:g,end:p,reverse:u,top:f,bottom:A}}(e);i==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===s?i=l:(t._bottom||0)===s?i=c:(n[qo(c,o,r,a)]=!0,i=l)),n[qo(i,o,r,a)]=!0,e.borderSkipped=n}function qo(e,V,t,s){var i,n,o;return s?(o=t,e=Wo(e=(i=e)===(n=V)?o:i===o?n:i,t,V)):e=Wo(e,V,t),e}function Wo(e,V,t){return e==="start"?V:e==="end"?t:e}function Ga(e,{inflateAmount:V},t){e.inflateAmount=V==="auto"?t===1?.33:0:V}class _t extends PV{constructor(V,t){super(V,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(V,t){let s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let n,o,r=a=>+s[a];if(C(s[V])){let{key:a="value"}=this._parsing;r=l=>+rV(s[l],a)}for(n=V,o=V+t;n<o;++n)i._parsed[n]=r(n)}}_getRotation(){return DV(this.options.rotation-90)}_getCircumference(){return DV(this.options.circumference)}_getRotationExtents(){let V=VV,t=-VV;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let i=this.chart.getDatasetMeta(s).controller,n=i._getRotation(),o=i._getCircumference();V=Math.min(V,n),t=Math.max(t,n+o)}return{rotation:V,circumference:t-V}}update(V){let t=this.chart,{chartArea:s}=t,i=this._cachedMeta,n=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-o)/2,0),a=Math.min(U(this.options.cutout,r),1),l=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:u,ratioY:g,offsetX:p,offsetY:f}=function(M,P,E){let I=1,z=1,O=0,j=0;if(P<VV){let H=M,B=H+P,Q=Math.cos(H),N=Math.sin(H),W=Math.cos(B),$=Math.sin(B),Y=(BV,zV,NV)=>Pt(BV,H,B,!0)?1:Math.max(zV,zV*E,NV,NV*E),fV=(BV,zV,NV)=>Pt(BV,H,B,!0)?-1:Math.min(zV,zV*E,NV,NV*E),_V=Y(0,Q,W),CV=Y(eV,N,$),IV=fV(K,Q,W),OV=fV(K+eV,N,$);I=(_V-IV)/2,z=(CV-OV)/2,O=-(_V+IV)/2,j=-(CV+OV)/2}return{ratioX:I,ratioY:z,offsetX:O,offsetY:j}}(h,c,a),A=(s.width-o)/u,b=(s.height-o)/g,v=Math.max(Math.min(A,b)/2,0),_=q(this.options.radius,v),w=(_-Math.max(_*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*_,this.offsetY=f*_,i.total=this.calculateTotal(),this.outerRadius=_-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*l,0),this.updateElements(n,0,n.length,V)}_circumference(V,t){let s=this.options,i=this._cachedMeta,n=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(V)||i._parsed[V]===null||i.data[V].hidden?0:this.calculateCircumference(i._parsed[V]*n/VV)}updateElements(V,t,s,i){let n=i==="reset",o=this.chart,r=o.chartArea,a=o.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,h=n&&a.animateScale,u=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,i),A,b=this._getRotation();for(A=0;A<t;++A)b+=this._circumference(A,n);for(A=t;A<t+s;++A){let v=this._circumference(A,n),_=V[A],w={x:l+this.offsetX,y:c+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:g,innerRadius:u};f&&(w.options=p||this.resolveDataElementOptions(A,_.active?"active":i)),b+=v,this.updateElement(_,A,w,i)}}calculateTotal(){let V=this._cachedMeta,t=V.data,s,i=0;for(s=0;s<t.length;s++){let n=V._parsed[s];n===null||isNaN(n)||!this.chart.getDataVisibility(s)||t[s].hidden||(i+=Math.abs(n))}return i}calculateCircumference(V){let t=this._cachedMeta.total;return t>0&&!isNaN(V)?VV*(Math.abs(V)/t):0}getLabelAndValue(V){let t=this._cachedMeta,s=this.chart,i=s.data.labels||[],n=It(t._parsed[V],s.options.locale);return{label:i[V]||"",value:n}}getMaxBorderWidth(V){let t=0,s=this.chart,i,n,o,r,a;if(!V){for(i=0,n=s.data.datasets.length;i<n;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),V=o.data,r=o.controller;break}}if(!V)return 0;for(i=0,n=V.length;i<n;++i)a=r.resolveDataElementOptions(i),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(V){let t=0;for(let s=0,i=V.length;s<i;++s){let n=this.resolveDataElementOptions(s);t=Math.max(t,n.offset||0,n.hoverOffset||0)}return t}_getRingWeightOffset(V){let t=0;for(let s=0;s<V;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(V){return Math.max(k(this.chart.data.datasets[V].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(_t,"id","doughnut"),F(_t,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(_t,"descriptors",{_scriptable:V=>V!=="spacing",_indexable:V=>V!=="spacing"&&!V.startsWith("borderDash")&&!V.startsWith("hoverBorderDash")}),F(_t,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(V){let t=V.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:s,color:i}}=V.legend.options;return t.labels.map((n,o)=>{let r=V.getDatasetMeta(0).controller.getStyle(o);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:s,hidden:!V.getDataVisibility(o),index:o}})}return[]}},onClick(V,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class re extends PV{constructor(V,t){super(V,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(V){let t=this._cachedMeta,s=this.chart,i=s.data.labels||[],n=It(t._parsed[V].r,s.options.locale);return{label:i[V]||"",value:n}}parseObjectData(V,t,s,i){return ci.bind(this)(V,t,s,i)}update(V){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,V)}getMinMax(){let V=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return V.data.forEach((s,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){let V=this.chart,t=V.chartArea,s=V.options,i=Math.min(t.right-t.left,t.bottom-t.top),n=Math.max(i/2,0),o=(n-Math.max(s.cutoutPercentage?n/100*s.cutoutPercentage:1,0))/V.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(V,t,s,i){let n=i==="reset",o=this.chart,r=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,h=a.getIndexAngle(0)-.5*K,u,g=h,p=360/this.countVisibleElements();for(u=0;u<t;++u)g+=this._computeAngle(u,i,p);for(u=t;u<t+s;u++){let f=V[u],A=g,b=g+this._computeAngle(u,i,p),v=o.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;g=b,n&&(r.animateScale&&(v=0),r.animateRotate&&(A=b=h));let _={x:l,y:c,innerRadius:0,outerRadius:v,startAngle:A,endAngle:b,options:this.resolveDataElementOptions(u,f.active?"active":i)};this.updateElement(f,u,_,i)}}countVisibleElements(){let V=this._cachedMeta,t=0;return V.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(V,t,s){return this.chart.getDataVisibility(V)?DV(this.resolveDataElementOptions(V,t).angle||s):0}}F(re,"id","polarArea"),F(re,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(re,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(V){let t=V.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:s,color:i}}=V.legend.options;return t.labels.map((n,o)=>{let r=V.getDatasetMeta(0).controller.getStyle(o);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:s,hidden:!V.getDataVisibility(o),index:o}})}return[]}},onClick(V,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var Go=Object.freeze({__proto__:null,BarController:(de=class extends PV{parsePrimitiveData(e,V,t,s){return jo(e,V,t,s)}parseArrayData(e,V,t,s){return jo(e,V,t,s)}parseObjectData(e,V,t,s){let{iScale:i,vScale:n}=e,{xAxisKey:o="x",yAxisKey:r="y"}=this._parsing,a=i.axis==="x"?o:r,l=n.axis==="x"?o:r,c=[],h,u,g,p;for(h=t,u=t+s;h<u;++h)p=V[h],g={},g[i.axis]=i.parse(rV(p,a),h),c.push(Uo(rV(p,l),g,n,h));return c}updateRangeFromParsed(e,V,t,s){super.updateRangeFromParsed(e,V,t,s);let i=t._custom;i&&V===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let V=this._cachedMeta,{iScale:t,vScale:s}=V,i=this.getParsed(e),n=i._custom,o=ki(n)?"["+n.start+", "+n.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+t.getLabelForValue(i[t.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let V=this._cachedMeta;this.updateElements(V.data,0,V.data.length,e)}updateElements(e,V,t,s){let i=s==="reset",{index:n,_cachedMeta:{vScale:o}}=this,r=o.getBasePixel(),a=o.isHorizontal(),l=this._getRuler(),{sharedOptions:c,includeOptions:h}=this._getSharedOptions(V,s);for(let u=V;u<V+t;u++){let g=this.getParsed(u),p=i||m(g[o.axis])?{base:r,head:r}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,l),A=(g._stacks||{})[o.axis],b={horizontal:a,base:p.base,enableBorderRadius:!A||ki(g._custom)||n===A._top||n===A._bottom,x:a?p.head:f.center,y:a?f.center:p.head,height:a?f.size:Math.abs(p.size),width:a?Math.abs(p.size):f.size};h&&(b.options=c||this.resolveDataElementOptions(u,e[u].active?"active":s));let v=b.options||e[u].options;Wa(b,v,A,n),Ga(b,v,l.ratio),this.updateElement(e[u],u,b,s)}}_getStacks(e,V){let{iScale:t}=this._cachedMeta,s=t.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),i=t.options.stacked,n=[],o=this._cachedMeta.controller.getParsed(V),r=o&&o[t.axis],a=l=>{let c=l._parsed.find(u=>u[t.axis]===r),h=c&&c[l.vScale.axis];if(m(h)||isNaN(h))return!0};for(let l of s)if((V===void 0||!a(l))&&((i===!1||n.indexOf(l.stack)===-1||i===void 0&&l.stack===void 0)&&n.push(l.stack),l.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,V,t){let s=this._getStacks(e,t),i=V!==void 0?s.indexOf(V):-1;return i===-1?s.length-1:i}_getRuler(){let e=this.options,V=this._cachedMeta,t=V.iScale,s=[],i,n;for(i=0,n=V.data.length;i<n;++i)s.push(t.getPixelForValue(this.getParsed(i)[t.axis],i));let o=e.barThickness;return{min:o||qa(V),pixels:s,start:t._startPixel,end:t._endPixel,stackCount:this._getStackCount(),scale:t,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:V,_stacked:t,index:s},options:{base:i,minBarLength:n}}=this,o=i||0,r=this.getParsed(e),a=r._custom,l=ki(a),c,h,u=r[V.axis],g=0,p=t?this.applyStack(V,r,t):u;p!==u&&(g=p-u,p=u),l&&(u=a.barStart,p=a.barEnd-a.barStart,u!==0&&mV(u)!==mV(a.barEnd)&&(g=0),g+=u);let f=m(i)||l?g:i,A=V.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?V.getPixelForValue(g+p):A,h=c-A,Math.abs(h)<n){h=function(M,P,E){return M!==0?mV(M):(P.isHorizontal()?1:-1)*(P.min>=E?1:-1)}(h,V,o)*n,u===o&&(A-=h/2);let b=V.getPixelForDecimal(0),v=V.getPixelForDecimal(1),_=Math.min(b,v),w=Math.max(b,v);A=Math.max(Math.min(A,w),_),c=A+h,t&&!l&&(r._stacks[V.axis]._visualValues[s]=V.getValueForPixel(c)-V.getValueForPixel(A))}if(A===V.getPixelForValue(o)){let b=mV(h)*V.getLineWidthForValue(o)/2;A+=b,h-=b}return{size:h,base:A,head:c,center:c+h/2}}_calculateBarIndexPixels(e,V){let t=V.scale,s=this.options,i=s.skipNull,n=k(s.maxBarThickness,1/0),o,r;if(V.grouped){let a=i?this._getStackCount(e):V.stackCount,l=s.barThickness==="flex"?function(h,u,g,p){let f=u.pixels,A=f[h],b=h>0?f[h-1]:null,v=h<f.length-1?f[h+1]:null,_=g.categoryPercentage;b===null&&(b=A-(v===null?u.end-u.start:v-A)),v===null&&(v=A+A-b);let w=A-(A-Math.min(b,v))/2*_;return{chunk:Math.abs(v-b)/2*_/p,ratio:g.barPercentage,start:w}}(e,V,s,a):function(h,u,g,p){let f=g.barThickness,A,b;return m(f)?(A=u.min*g.categoryPercentage,b=g.barPercentage):(A=f*p,b=1),{chunk:A/p,ratio:b,start:u.pixels[h]-A/2}}(e,V,s,a),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=l.start+l.chunk*c+l.chunk/2,r=Math.min(n,l.chunk*l.ratio)}else o=t.getPixelForValue(this.getParsed(e)[t.axis],e),r=Math.min(n,V.min*V.ratio);return{base:o-r/2,head:o+r/2,center:o,size:r}}draw(){let e=this._cachedMeta,V=e.vScale,t=e.data,s=t.length,i=0;for(;i<s;++i)this.getParsed(i)[V.axis]===null||t[i].hidden||t[i].draw(this._ctx)}},F(de,"id","bar"),F(de,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(de,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),de),BubbleController:(ue=class extends PV{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,V,t,s){let i=super.parsePrimitiveData(e,V,t,s);for(let n=0;n<i.length;n++)i[n]._custom=this.resolveDataElementOptions(n+t).radius;return i}parseArrayData(e,V,t,s){let i=super.parseArrayData(e,V,t,s);for(let n=0;n<i.length;n++){let o=V[t+n];i[n]._custom=k(o[2],this.resolveDataElementOptions(n+t).radius)}return i}parseObjectData(e,V,t,s){let i=super.parseObjectData(e,V,t,s);for(let n=0;n<i.length;n++){let o=V[t+n];i[n]._custom=k(o&&o.r&&+o.r,this.resolveDataElementOptions(n+t).radius)}return i}getMaxOverflow(){let e=this._cachedMeta.data,V=0;for(let t=e.length-1;t>=0;--t)V=Math.max(V,e[t].size(this.resolveDataElementOptions(t))/2);return V>0&&V}getLabelAndValue(e){let V=this._cachedMeta,t=this.chart.data.labels||[],{xScale:s,yScale:i}=V,n=this.getParsed(e),o=s.getLabelForValue(n.x),r=i.getLabelForValue(n.y),a=n._custom;return{label:t[e]||"",value:"("+o+", "+r+(a?", "+a:"")+")"}}update(e){let V=this._cachedMeta.data;this.updateElements(V,0,V.length,e)}updateElements(e,V,t,s){let i=s==="reset",{iScale:n,vScale:o}=this._cachedMeta,{sharedOptions:r,includeOptions:a}=this._getSharedOptions(V,s),l=n.axis,c=o.axis;for(let h=V;h<V+t;h++){let u=e[h],g=!i&&this.getParsed(h),p={},f=p[l]=i?n.getPixelForDecimal(.5):n.getPixelForValue(g[l]),A=p[c]=i?o.getBasePixel():o.getPixelForValue(g[c]);p.skip=isNaN(f)||isNaN(A),a&&(p.options=r||this.resolveDataElementOptions(h,u.active?"active":s),i&&(p.options.radius=0)),this.updateElement(u,h,p,s)}}resolveDataElementOptions(e,V){let t=this.getParsed(e),s=super.resolveDataElementOptions(e,V);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let i=s.radius;return V!=="active"&&(s.radius=0),s.radius+=k(t&&t._custom,i),s}},F(ue,"id","bubble"),F(ue,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(ue,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),ue),DoughnutController:_t,LineController:(ge=class extends PV{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let V=this._cachedMeta,{dataset:t,data:s=[],_dataset:i}=V,n=this.chart._animationsDisabled,{start:o,count:r}=Ys(V,s,n);this._drawStart=o,this._drawCount=r,Js(V)&&(o=0,r=s.length),t._chart=this.chart,t._datasetIndex=this.index,t._decimated=!!i._decimated,t.points=s;let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),a.segment=this.options.segment,this.updateElement(t,void 0,{animated:!n,options:a},e),this.updateElements(s,o,r,e)}updateElements(e,V,t,s){let i=s==="reset",{iScale:n,vScale:o,_stacked:r,_dataset:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(V,s),h=n.axis,u=o.axis,{spanGaps:g,segment:p}=this.options,f=At(g)?g:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||i||s==="none",b=V+t,v=e.length,_=V>0&&this.getParsed(V-1);for(let w=0;w<v;++w){let M=e[w],P=A?M:{};if(w<V||w>=b){P.skip=!0;continue}let E=this.getParsed(w),I=m(E[u]),z=P[h]=n.getPixelForValue(E[h],w),O=P[u]=i||I?o.getBasePixel():o.getPixelForValue(r?this.applyStack(o,E,r):E[u],w);P.skip=isNaN(z)||isNaN(O)||I,P.stop=w>0&&Math.abs(E[h]-_[h])>f,p&&(P.parsed=E,P.raw=a.data[w]),c&&(P.options=l||this.resolveDataElementOptions(w,M.active?"active":s)),A||this.updateElement(M,w,P,s),_=E}}getMaxOverflow(){let e=this._cachedMeta,V=e.dataset,t=V.options&&V.options.borderWidth||0,s=e.data||[];if(!s.length)return t;let i=s[0].size(this.resolveDataElementOptions(0)),n=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(t,i,n)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}},F(ge,"id","line"),F(ge,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(ge,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),ge),PieController:(es=class extends _t{},F(es,"id","pie"),F(es,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),es),PolarAreaController:re,RadarController:(fe=class extends PV{getLabelAndValue(e){let V=this._cachedMeta.vScale,t=this.getParsed(e);return{label:V.getLabels()[e],value:""+V.getLabelForValue(t[V.axis])}}parseObjectData(e,V,t,s){return ci.bind(this)(e,V,t,s)}update(e){let V=this._cachedMeta,t=V.dataset,s=V.data||[],i=V.iScale.getLabels();if(t.points=s,e!=="resize"){let n=this.resolveDatasetElementOptions(e);this.options.showLine||(n.borderWidth=0);let o={_loop:!0,_fullLoop:i.length===s.length,options:n};this.updateElement(t,void 0,o,e)}this.updateElements(s,0,s.length,e)}updateElements(e,V,t,s){let i=this._cachedMeta.rScale,n=s==="reset";for(let o=V;o<V+t;o++){let r=e[o],a=this.resolveDataElementOptions(o,r.active?"active":s),l=i.getPointPositionForValue(o,this.getParsed(o).r),c=n?i.xCenter:l.x,h=n?i.yCenter:l.y,u={x:c,y:h,angle:l.angle,skip:isNaN(c)||isNaN(h),options:a};this.updateElement(r,o,u,s)}}},F(fe,"id","radar"),F(fe,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(fe,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),fe),ScatterController:(pe=class extends PV{getLabelAndValue(e){let V=this._cachedMeta,t=this.chart.data.labels||[],{xScale:s,yScale:i}=V,n=this.getParsed(e),o=s.getLabelForValue(n.x),r=i.getLabelForValue(n.y);return{label:t[e]||"",value:"("+o+", "+r+")"}}update(e){let V=this._cachedMeta,{data:t=[]}=V,s=this.chart._animationsDisabled,{start:i,count:n}=Ys(V,t,s);if(this._drawStart=i,this._drawCount=n,Js(V)&&(i=0,n=t.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:o,_dataset:r}=V;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=t;let a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:a},e)}else this.datasetElementType&&(delete V.dataset,this.datasetElementType=!1);this.updateElements(t,i,n,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,V,t,s){let i=s==="reset",{iScale:n,vScale:o,_stacked:r,_dataset:a}=this._cachedMeta,l=this.resolveDataElementOptions(V,s),c=this.getSharedOptions(l),h=this.includeOptions(s,c),u=n.axis,g=o.axis,{spanGaps:p,segment:f}=this.options,A=At(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||s==="none",v=V>0&&this.getParsed(V-1);for(let _=V;_<V+t;++_){let w=e[_],M=this.getParsed(_),P=b?w:{},E=m(M[g]),I=P[u]=n.getPixelForValue(M[u],_),z=P[g]=i||E?o.getBasePixel():o.getPixelForValue(r?this.applyStack(o,M,r):M[g],_);P.skip=isNaN(I)||isNaN(z)||E,P.stop=_>0&&Math.abs(M[u]-v[u])>A,f&&(P.parsed=M,P.raw=a.data[_]),h&&(P.options=c||this.resolveDataElementOptions(_,w.active?"active":s)),b||this.updateElement(w,_,P,s),v=M}this.updateSharedOptions(c,s,l)}getMaxOverflow(){let e=this._cachedMeta,V=e.data||[];if(!this.options.showLine){let o=0;for(let r=V.length-1;r>=0;--r)o=Math.max(o,V[r].size(this.resolveDataElementOptions(r))/2);return o>0&&o}let t=e.dataset,s=t.options&&t.options.borderWidth||0;if(!V.length)return s;let i=V[0].size(this.resolveDataElementOptions(0)),n=V[V.length-1].size(this.resolveDataElementOptions(V.length-1));return Math.max(s,i,n)/2}},F(pe,"id","scatter"),F(pe,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(pe,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),pe)});function Ya(e,V,t,s){let i=Qe(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),n=(t-V)/2,o=Math.min(n,s*V/2),r=a=>{let l=(t-Math.min(n,a))*s/2;return hV(a,0,Math.min(n,l))};return{outerStart:r(i.outerStart),outerEnd:r(i.outerEnd),innerStart:hV(i.innerStart,0,o),innerEnd:hV(i.innerEnd,0,o)}}function Bt(e,V,t,s){return{x:t+e*Math.cos(V),y:s+e*Math.sin(V)}}function Xe(e,V,t,s,i,n){let{x:o,y:r,startAngle:a,pixelMargin:l,innerRadius:c}=V,h=Math.max(V.outerRadius+s+t-l,0),u=c>0?c+s+t+l:0,g=0,p=i-a;if(s){let Q=((c>0?c-s:0)+(h>0?h-s:0))/2;g=(p-(Q!==0?p*Q/(Q+s):p))/2}let f=(p-Math.max(.001,p*h-t/K)/h)/2,A=a+f+g,b=i-f-g,{outerStart:v,outerEnd:_,innerStart:w,innerEnd:M}=Ya(V,u,h,b-A),P=h-v,E=h-_,I=A+v/P,z=b-_/E,O=u+w,j=u+M,H=A+w/O,B=b-M/j;if(e.beginPath(),n){let Q=(I+z)/2;if(e.arc(o,r,h,I,Q),e.arc(o,r,h,Q,z),_>0){let Y=Bt(E,z,o,r);e.arc(Y.x,Y.y,_,z,b+eV)}let N=Bt(j,b,o,r);if(e.lineTo(N.x,N.y),M>0){let Y=Bt(j,B,o,r);e.arc(Y.x,Y.y,M,b+eV,B+Math.PI)}let W=(b-M/u+(A+w/u))/2;if(e.arc(o,r,u,b-M/u,W,!0),e.arc(o,r,u,W,A+w/u,!0),w>0){let Y=Bt(O,H,o,r);e.arc(Y.x,Y.y,w,H+Math.PI,A-eV)}let $=Bt(P,A,o,r);if(e.lineTo($.x,$.y),v>0){let Y=Bt(P,I,o,r);e.arc(Y.x,Y.y,v,A-eV,I)}}else{e.moveTo(o,r);let Q=Math.cos(I)*h+o,N=Math.sin(I)*h+r;e.lineTo(Q,N);let W=Math.cos(z)*h+o,$=Math.sin(z)*h+r;e.lineTo(W,$)}e.closePath()}function Ja(e,V,t,s,i){let{fullCircles:n,startAngle:o,circumference:r,options:a}=V,{borderWidth:l,borderJoinStyle:c,borderDash:h,borderDashOffset:u}=a,g=a.borderAlign==="inner";if(!l)return;e.setLineDash(h||[]),e.lineDashOffset=u,g?(e.lineWidth=2*l,e.lineJoin=c||"round"):(e.lineWidth=l,e.lineJoin=c||"bevel");let p=V.endAngle;if(n){Xe(e,V,t,s,p,i);for(let f=0;f<n;++f)e.stroke();isNaN(r)||(p=o+(r%VV||VV))}g&&function(f,A,b){let{startAngle:v,pixelMargin:_,x:w,y:M,outerRadius:P,innerRadius:E}=A,I=_/P;f.beginPath(),f.arc(w,M,P,v-I,b+I),E>_?(I=_/E,f.arc(w,M,E,b+I,v-I,!0)):f.arc(w,M,_,b+eV,v-eV),f.closePath(),f.clip()}(e,V,p),n||(Xe(e,V,t,s,p,i),e.stroke())}function Yo(e,V,t=V){e.lineCap=k(t.borderCapStyle,V.borderCapStyle),e.setLineDash(k(t.borderDash,V.borderDash)),e.lineDashOffset=k(t.borderDashOffset,V.borderDashOffset),e.lineJoin=k(t.borderJoinStyle,V.borderJoinStyle),e.lineWidth=k(t.borderWidth,V.borderWidth),e.strokeStyle=k(t.borderColor,V.borderColor)}function Xa(e,V,t){e.lineTo(t.x,t.y)}function Jo(e,V,t={}){let s=e.length,{start:i=0,end:n=s-1}=t,{start:o,end:r}=V,a=Math.max(i,o),l=Math.min(n,r),c=i<o&&n<o||i>r&&n>r;return{count:s,start:a,loop:V.loop,ilen:l<a&&!c?s+l-a:l-a}}function Za(e,V,t,s){let{points:i,options:n}=V,{count:o,start:r,loop:a,ilen:l}=Jo(i,t,s),c=function(A){return A.stepped?In:A.tension||A.cubicInterpolationMode==="monotone"?Fn:Xa}(n),h,u,g,{move:p=!0,reverse:f}=s||{};for(h=0;h<=l;++h)u=i[(r+(f?l-h:h))%o],u.skip||(p?(e.moveTo(u.x,u.y),p=!1):c(e,g,u,f,n.stepped),g=u);return a&&(u=i[(r+(f?l:0))%o],c(e,g,u,f,n.stepped)),!!a}function $a(e,V,t,s){let i=V.points,{count:n,start:o,ilen:r}=Jo(i,t,s),{move:a=!0,reverse:l}=s||{},c,h,u,g,p,f,A=0,b=0,v=w=>(o+(l?r-w:w))%n,_=()=>{g!==p&&(e.lineTo(A,p),e.lineTo(A,g),e.lineTo(A,f))};for(a&&(h=i[v(0)],e.moveTo(h.x,h.y)),c=0;c<=r;++c){if(h=i[v(c)],h.skip)continue;let w=h.x,M=h.y,P=0|w;P===u?(M<g?g=M:M>p&&(p=M),A=(b*A+w)/++b):(_(),e.lineTo(w,M),u=P,b=0,g=p=M),f=M}_()}function Di(e){let V=e.options,t=V.borderDash&&V.borderDash.length;return e._decimated||e._loop||V.tension||V.cubicInterpolationMode==="monotone"||V.stepped||t?Za:$a}let Ka=typeof Path2D=="function";function Vl(e,V,t,s){Ka&&!V.options.segment?function(i,n,o,r){let a=n._path;a||(a=n._path=new Path2D,n.path(a,o,r)&&a.closePath()),Yo(i,n.options),i.stroke(a)}(e,V,t,s):function(i,n,o,r){let{segments:a,options:l}=n,c=Di(n);for(let h of a)Yo(i,l,h.style),i.beginPath(),c(i,n,h,{start:o,end:o+r-1})&&i.closePath(),i.stroke()}(e,V,t,s)}class ht extends EV{constructor(V){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,V&&Object.assign(this,V)}updateControlPoints(V,t){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let i=s.spanGaps?this._loop:this._fullLoop;Un(this._points,s,V,i,t),this._pointsUpdated=!0}}set points(V){this._points=V,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$n(this,this.options.segment))}first(){let V=this.segments,t=this.points;return V.length&&t[V[0].start]}last(){let V=this.segments,t=this.points,s=V.length;return s&&t[V[s-1].end]}interpolate(V,t){let s=this.options,i=V[t],n=this.points,o=pi(this,{property:t,start:i,end:i});if(!o.length)return;let r=[],a=function(h){return h.stepped?Wn:h.tension||h.cubicInterpolationMode==="monotone"?Gn:rt}(s),l,c;for(l=0,c=o.length;l<c;++l){let{start:h,end:u}=o[l],g=n[h],p=n[u];if(g===p){r.push(g);continue}let f=a(g,p,Math.abs((i-g[t])/(p[t]-g[t])),s.stepped);f[t]=V[t],r.push(f)}return r.length===1?r[0]:r}pathSegment(V,t,s){return Di(this)(V,this,t,s)}path(V,t,s){let i=this.segments,n=Di(this),o=this._loop;t=t||0,s=s||this.points.length-t;for(let r of i)o&=n(V,this,r,{start:t,end:t+s-1});return!!o}draw(V,t,s,i){let n=this.options||{};(this.points||[]).length&&n.borderWidth&&(V.save(),Vl(V,this,s,i),V.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(ht,"id","line"),F(ht,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(ht,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(ht,"descriptors",{_scriptable:!0,_indexable:V=>V!=="borderDash"&&V!=="fill"});function Xo(e,V,t,s){let i=e.options,{[t]:n}=e.getProps([t],s);return Math.abs(V-n)<i.radius+i.hitRadius}function Zo(e,V){let{x:t,y:s,base:i,width:n,height:o}=e.getProps(["x","y","base","width","height"],V),r,a,l,c,h;return e.horizontal?(h=o/2,r=Math.min(t,i),a=Math.max(t,i),l=s-h,c=s+h):(h=n/2,r=t-h,a=t+h,l=Math.min(s,i),c=Math.max(s,i)),{left:r,top:l,right:a,bottom:c}}function ct(e,V,t,s){return e?0:hV(V,t,s)}function tl(e){let V=Zo(e),t=V.right-V.left,s=V.bottom-V.top,i=function(o,r,a){let l=o.options.borderWidth,c=o.borderSkipped,h=di(l);return{t:ct(c.top,h.top,0,a),r:ct(c.right,h.right,0,r),b:ct(c.bottom,h.bottom,0,a),l:ct(c.left,h.left,0,r)}}(e,t/2,s/2),n=function(o,r,a){let{enableBorderRadius:l}=o.getProps(["enableBorderRadius"]),c=o.options.borderRadius,h=at(c),u=Math.min(r,a),g=o.borderSkipped,p=l||C(c);return{topLeft:ct(!p||g.top||g.left,h.topLeft,0,u),topRight:ct(!p||g.top||g.right,h.topRight,0,u),bottomLeft:ct(!p||g.bottom||g.left,h.bottomLeft,0,u),bottomRight:ct(!p||g.bottom||g.right,h.bottomRight,0,u)}}(e,t/2,s/2);return{outer:{x:V.left,y:V.top,w:t,h:s,radius:n},inner:{x:V.left+i.l,y:V.top+i.t,w:t-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,n.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(i.b,i.r))}}}}function Ti(e,V,t,s){let i=V===null,n=t===null,o=e&&!(i&&n)&&Zo(e,s);return o&&(i||jV(V,o.left,o.right))&&(n||jV(t,o.top,o.bottom))}function el(e,V){e.rect(V.x,V.y,V.w,V.h)}function Pi(e,V,t={}){let s=e.x!==t.x?-V:0,i=e.y!==t.y?-V:0,n=(e.x+e.w!==t.x+t.w?V:0)-s,o=(e.y+e.h!==t.y+t.h?V:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+n,h:e.h+o,radius:e.radius}}var Ei=Object.freeze({__proto__:null,ArcElement:(zt=class extends EV{constructor(V){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,V&&Object.assign(this,V)}inRange(V,t,s){let i=this.getProps(["x","y"],s),{angle:n,distance:o}=Us(i,{x:V,y:t}),{startAngle:r,endAngle:a,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,g=k(h,a-r),p=Pt(n,r,a)&&r!==a,f=g>=VV||p,A=jV(o,l+u,c+u);return f&&A}getCenterPoint(V){let{x:t,y:s,startAngle:i,endAngle:n,innerRadius:o,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],V),{offset:a,spacing:l}=this.options,c=(i+n)/2,h=(o+r+l+a)/2;return{x:t+Math.cos(c)*h,y:s+Math.sin(c)*h}}tooltipPosition(V){return this.getCenterPoint(V)}draw(V){let{options:t,circumference:s}=this,i=(t.offset||0)/4,n=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>VV?Math.floor(s/VV):0,s===0||this.innerRadius<0||this.outerRadius<0)return;V.save();let r=(this.startAngle+this.endAngle)/2;V.translate(Math.cos(r)*i,Math.sin(r)*i);let a=i*(1-Math.sin(Math.min(K,s||0)));V.fillStyle=t.backgroundColor,V.strokeStyle=t.borderColor,function(l,c,h,u,g){let{fullCircles:p,startAngle:f,circumference:A}=c,b=c.endAngle;if(p){Xe(l,c,h,u,b,g);for(let v=0;v<p;++v)l.fill();isNaN(A)||(b=f+(A%VV||VV))}Xe(l,c,h,u,b,g),l.fill()}(V,this,a,n,o),Ja(V,this,a,n,o),V.restore()}},F(zt,"id","arc"),F(zt,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(zt,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(zt,"descriptors",{_scriptable:!0,_indexable:V=>V!=="borderDash"}),zt),BarElement:(me=class extends EV{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:V,options:{borderColor:t,backgroundColor:s}}=this,{inner:i,outer:n}=tl(this),o=(r=n.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?Ft:el;var r;e.save(),n.w===i.w&&n.h===i.h||(e.beginPath(),o(e,Pi(n,V,i)),e.clip(),o(e,Pi(i,-V,n)),e.fillStyle=t,e.fill("evenodd")),e.beginPath(),o(e,Pi(i,V)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,V,t){return Ti(this,e,V,t)}inXRange(e,V){return Ti(this,e,null,V)}inYRange(e,V){return Ti(this,null,e,V)}getCenterPoint(e){let{x:V,y:t,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(V+s)/2:V,y:i?t:(t+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},F(me,"id","bar"),F(me,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(me,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),me),LineElement:ht,PointElement:(Ae=class extends EV{constructor(V){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,V&&Object.assign(this,V)}inRange(V,t,s){let i=this.options,{x:n,y:o}=this.getProps(["x","y"],s);return Math.pow(V-n,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(V,t){return Xo(this,V,"x",t)}inYRange(V,t){return Xo(this,V,"y",t)}getCenterPoint(V){let{x:t,y:s}=this.getProps(["x","y"],V);return{x:t,y:s}}size(V){let t=(V=V||this.options||{}).radius||0;return t=Math.max(t,t&&V.hoverRadius||0),2*(t+(t&&V.borderWidth||0))}draw(V,t){let s=this.options;this.skip||s.radius<.1||!GV(this,t,this.size(s)/2)||(V.strokeStyle=s.borderColor,V.lineWidth=s.borderWidth,V.fillStyle=s.backgroundColor,Oe(V,s,this.x,this.y))}getRange(){let V=this.options||{};return V.radius+V.hitRadius}},F(Ae,"id","point"),F(Ae,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Ae,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ae)});function sl(e,V,t,s){let i=e.indexOf(V);return i===-1?((n,o,r,a)=>(typeof o=="string"?(r=n.push(o)-1,a.unshift({index:r,label:o})):isNaN(o)&&(r=null),r))(e,V,t,s):i!==e.lastIndexOf(V)?t:i}function $o(e){let V=this.getLabels();return e>=0&&e<V.length?V[e]:e}function Ko(e,V,{horizontal:t,minRotation:s}){let i=DV(s),n=(t?Math.sin(i):Math.cos(i))||.001,o=.75*V*(""+e).length;return Math.min(V/n,o)}class Ze extends lt{constructor(V){super(V),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(V,t){return m(V)||(typeof V=="number"||V instanceof Number)&&!isFinite(+V)?null:+V}handleTickRangeOptions(){let{beginAtZero:V}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds(),{min:i,max:n}=this,o=a=>i=t?i:a,r=a=>n=s?n:a;if(V){let a=mV(i),l=mV(n);a<0&&l<0?r(0):a>0&&l>0&&o(0)}if(i===n){let a=n===0?1:Math.abs(.05*n);r(n+a),V||o(i-a)}this.min=i,this.max=n}getTickLimit(){let V=this.options.ticks,t,{maxTicksLimit:s,stepSize:i}=V;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let V=this.options,t=V.ticks,s=this.getTickLimit();s=Math.max(2,s);let i=function(n,o){let r=[],{bounds:a,step:l,min:c,max:h,precision:u,count:g,maxTicks:p,maxDigits:f,includeBounds:A}=n,b=l||1,v=p-1,{min:_,max:w}=o,M=!m(c),P=!m(h),E=!m(g),I=(w-_)/(f+1),z,O,j,H,B=Ns((w-_)/v/b)*b;if(B<1e-14&&!M&&!P)return[{value:_},{value:w}];H=Math.ceil(w/B)-Math.floor(_/B),H>v&&(B=Ns(H*B/v/b)*b),m(u)||(z=Math.pow(10,u),B=Math.ceil(B*z)/z),a==="ticks"?(O=Math.floor(_/B)*B,j=Math.ceil(w/B)*B):(O=_,j=w),M&&P&&l&&hn((h-c)/l,B/1e3)?(H=Math.round(Math.min((h-c)/B,p)),B=(h-c)/H,O=c,j=h):E?(O=M?c:O,j=P?h:j,H=g-1,B=(j-O)/H):(H=(j-O)/B,H=Tt(H,Math.round(H),B/1e3)?Math.round(H):Math.ceil(H));let Q=Math.max(Hs(B),Hs(O));z=Math.pow(10,m(u)?Q:u),O=Math.round(O*z)/z,j=Math.round(j*z)/z;let N=0;for(M&&(A&&O!==c?(r.push({value:c}),O<c&&N++,Tt(Math.round((O+N*B)*z)/z,c,Ko(c,I,n))&&N++):O<c&&N++);N<H;++N){let W=Math.round((O+N*B)*z)/z;if(P&&W>h)break;r.push({value:W})}return P&&A&&j!==h?r.length&&Tt(r[r.length-1].value,h,Ko(h,I,n))?r[r.length-1].value=h:r.push({value:h}):P&&j!==h||r.push({value:j}),r}({maxTicks:s,bounds:V.bounds,min:V.min,max:V.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},this._range||this);return V.bounds==="ticks"&&Qs(i,this,"value"),V.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){let V=this.ticks,t=this.min,s=this.max;if(super.configure(),this.options.offset&&V.length){let i=(s-t)/Math.max(V.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(V){return It(V,this.chart.options.locale,this.options.ticks.format)}}class Ii extends Ze{determineDataLimits(){let{min:V,max:t}=this.getMinMax(!0);this.min=S(V)?V:0,this.max=S(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let V=this.isHorizontal(),t=V?this.width:this.height,s=DV(this.options.ticks.minRotation),i=(V?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/i))}getPixelForValue(V){return V===null?NaN:this.getPixelForDecimal((V-this._startValue)/this._valueRange)}getValueForPixel(V){return this._startValue+this.getDecimalForPixel(V)*this._valueRange}}F(Ii,"id","linear"),F(Ii,"defaults",{ticks:{callback:Yt.formatters.numeric}});let ae=e=>Math.floor(RV(e)),Ct=(e,V)=>Math.pow(10,ae(e)+V);function Vr(e){return e/Math.pow(10,ae(e))===1}function tr(e,V,t){let s=Math.pow(10,t),i=Math.floor(e/s);return Math.ceil(V/s)-i}function il(e,{min:V,max:t}){V=D(e.min,V);let s=[],i=ae(V),n=function(p,f){let A=ae(f-p);for(;tr(p,f,A)>10;)A++;for(;tr(p,f,A)<10;)A--;return Math.min(A,ae(p))}(V,t),o=n<0?Math.pow(10,Math.abs(n)):1,r=Math.pow(10,n),a=i>n?Math.pow(10,i):0,l=Math.round((V-a)*o)/o,c=Math.floor((V-a)/r/10)*r*10,h=Math.floor((l-c)/Math.pow(10,n)),u=D(e.min,Math.round((a+c+h*Math.pow(10,n))*o)/o);for(;u<t;)s.push({value:u,major:Vr(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(n++,h=2,o=n>=0?1:o),u=Math.round((a+c+h*Math.pow(10,n))*o)/o;let g=D(e.max,u);return s.push({value:g,major:Vr(g),significand:h}),s}class Fi extends lt{constructor(V){super(V),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(V,t){let s=Ze.prototype.parse.apply(this,[V,t]);if(s!==0)return S(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){let{min:V,max:t}=this.getMinMax(!0);this.min=S(V)?Math.max(0,V):null,this.max=S(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!S(this._userMin)&&(this.min=V===Ct(this.min,0)?Ct(this.min,-1):Ct(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:V,maxDefined:t}=this.getUserBounds(),s=this.min,i=this.max,n=r=>s=V?s:r,o=r=>i=t?i:r;s===i&&(s<=0?(n(1),o(10)):(n(Ct(s,-1)),o(Ct(i,1)))),s<=0&&n(Ct(i,-1)),i<=0&&o(Ct(s,1)),this.min=s,this.max=i}buildTicks(){let V=this.options,t=il({min:this._userMin,max:this._userMax},this);return V.bounds==="ticks"&&Qs(t,this,"value"),V.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(V){return V===void 0?"0":It(V,this.chart.options.locale,this.options.ticks.format)}configure(){let V=this.min;super.configure(),this._startValue=RV(V),this._valueRange=RV(this.max)-RV(V)}getPixelForValue(V){return V!==void 0&&V!==0||(V=this.min),V===null||isNaN(V)?NaN:this.getPixelForDecimal(V===this.min?0:(RV(V)-this._startValue)/this._valueRange)}getValueForPixel(V){let t=this.getDecimalForPixel(V);return Math.pow(10,this._startValue+t*this._valueRange)}}F(Fi,"id","logarithmic"),F(Fi,"defaults",{ticks:{callback:Yt.formatters.logarithmic,major:{enabled:!0}}});function Ri(e){let V=e.ticks;if(V.display&&e.display){let t=uV(V.backdropPadding);return k(V.font&&V.font.size,nV.font.size)+t.height}return 0}function er(e,V,t,s,i){return e===s||e===i?{start:V-t/2,end:V+t/2}:e<s||e>i?{start:V-t,end:V}:{start:V,end:V+t}}function nl(e){let V={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},V),s=[],i=[],n=e._pointLabels.length,o=e.options.pointLabels,r=o.centerPointLabels?K/n:0;for(let h=0;h<n;h++){let u=o.setContext(e.getPointLabelContext(h));i[h]=u.padding;let g=e.getPointPosition(h,e.drawingArea+i[h],r),p=aV(u.font),f=(a=e.ctx,l=p,c=x(c=e._pointLabels[h])?c:[c],{w:En(a,l.string,c),h:c.length*l.lineHeight});s[h]=f;let A=AV(e.getIndexAngle(h)+r),b=Math.round(we(A));ol(t,V,A,er(b,g.x,f.w,0,180),er(b,g.y,f.h,90,270))}var a,l,c;e.setCenterPoint(V.l-t.l,t.r-V.r,V.t-t.t,t.b-V.b),e._pointLabelItems=function(h,u,g){let p=[],f=h._pointLabels.length,A=h.options,{centerPointLabels:b,display:v}=A.pointLabels,_={extra:Ri(A)/2,additionalAngle:b?K/f:0},w;for(let M=0;M<f;M++){_.padding=g[M],_.size=u[M];let P=rl(h,M,_);p.push(P),v==="auto"&&(P.visible=al(P,w),P.visible&&(w=P))}return p}(e,s,i)}function ol(e,V,t,s,i){let n=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),r=0,a=0;s.start<V.l?(r=(V.l-s.start)/n,e.l=Math.min(e.l,V.l-r)):s.end>V.r&&(r=(s.end-V.r)/n,e.r=Math.max(e.r,V.r+r)),i.start<V.t?(a=(V.t-i.start)/o,e.t=Math.min(e.t,V.t-a)):i.end>V.b&&(a=(i.end-V.b)/o,e.b=Math.max(e.b,V.b+a))}function rl(e,V,t){let s=e.drawingArea,{extra:i,additionalAngle:n,padding:o,size:r}=t,a=e.getPointPosition(V,s+i+o,n),l=Math.round(we(AV(a.angle+eV))),c=function(g,p,f){return f===90||f===270?g-=p/2:(f>270||f<90)&&(g-=p),g}(a.y,r.h,l),h=function(g){return g===0||g===180?"center":g<180?"left":"right"}(l),u=function(g,p,f){return f==="right"?g-=p:f==="center"&&(g-=p/2),g}(a.x,r.w,h);return{visible:!0,x:a.x,y:c,textAlign:h,left:u,top:c,right:u+r.w,bottom:c+r.h}}function al(e,V){if(!V)return!0;let{left:t,top:s,right:i,bottom:n}=e;return!(GV({x:t,y:s},V)||GV({x:t,y:n},V)||GV({x:i,y:s},V)||GV({x:i,y:n},V))}function ll(e,V,t){let{left:s,top:i,right:n,bottom:o}=t,{backdropColor:r}=V;if(!m(r)){let a=at(V.borderRadius),l=uV(V.backdropPadding);e.fillStyle=r;let c=s-l.left,h=i-l.top,u=n-s+l.width,g=o-i+l.height;Object.values(a).some(p=>p!==0)?(e.beginPath(),Ft(e,{x:c,y:h,w:u,h:g,radius:a}),e.fill()):e.fillRect(c,h,u,g)}}function sr(e,V,t,s){let{ctx:i}=e;if(t)i.arc(e.xCenter,e.yCenter,V,0,VV);else{let n=e.getPointPosition(0,V);i.moveTo(n.x,n.y);for(let o=1;o<s;o++)n=e.getPointPosition(o,V),i.lineTo(n.x,n.y)}}class le extends Ze{constructor(V){super(V),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let V=this._padding=uV(Ri(this.options)/2),t=this.width=this.maxWidth-V.width,s=this.height=this.maxHeight-V.height;this.xCenter=Math.floor(this.left+t/2+V.left),this.yCenter=Math.floor(this.top+s/2+V.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){let{min:V,max:t}=this.getMinMax(!1);this.min=S(V)&&!isNaN(V)?V:0,this.max=S(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ri(this.options))}generateTickLabels(V){Ze.prototype.generateTickLabels.call(this,V),this._pointLabels=this.getLabels().map((t,s)=>{let i=L(this.options.pointLabels.callback,[t,s],this);return i||i===0?i:""}).filter((t,s)=>this.chart.getDataVisibility(s))}fit(){let V=this.options;V.display&&V.pointLabels.display?nl(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(V,t,s,i){this.xCenter+=Math.floor((V-t)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(V,t,s,i))}getIndexAngle(V){return AV(V*(VV/(this._pointLabels.length||1))+DV(this.options.startAngle||0))}getDistanceFromCenterForValue(V){if(m(V))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-V)*t:(V-this.min)*t}getValueForDistanceFromCenter(V){if(m(V))return NaN;let t=V/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(V){let t=this._pointLabels||[];if(V>=0&&V<t.length){let s=t[V];return function(i,n,o){return $V(i,{label:o,index:n,type:"pointLabel"})}(this.getContext(),V,s)}}getPointPosition(V,t,s=0){let i=this.getIndexAngle(V)-eV+s;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(V,t){return this.getPointPosition(V,this.getDistanceFromCenterForValue(t))}getBasePosition(V){return this.getPointPositionForValue(V||0,this.getBaseValue())}getPointLabelPosition(V){let{left:t,top:s,right:i,bottom:n}=this._pointLabelItems[V];return{left:t,top:s,right:i,bottom:n}}drawBackground(){let{backgroundColor:V,grid:{circular:t}}=this.options;if(V){let s=this.ctx;s.save(),s.beginPath(),sr(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=V,s.fill(),s.restore()}}drawGrid(){let V=this.ctx,t=this.options,{angleLines:s,grid:i,border:n}=t,o=this._pointLabels.length,r,a,l;if(t.pointLabels.display&&function(c,h){let{ctx:u,options:{pointLabels:g}}=c;for(let p=h-1;p>=0;p--){let f=c._pointLabelItems[p];if(!f.visible)continue;let A=g.setContext(c.getPointLabelContext(p));ll(u,A,f);let b=aV(A.font),{x:v,y:_,textAlign:w}=f;ot(u,c._pointLabels[p],v,_+b.lineHeight/2,b,{color:A.color,textAlign:w,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach((c,h)=>{if(h!==0||h===0&&this.min<0){a=this.getDistanceFromCenterForValue(c.value);let u=this.getContext(h),g=i.setContext(u),p=n.setContext(u);(function(f,A,b,v,_){let w=f.ctx,M=A.circular,{color:P,lineWidth:E}=A;!M&&!v||!P||!E||b<0||(w.save(),w.strokeStyle=P,w.lineWidth=E,w.setLineDash(_.dash||[]),w.lineDashOffset=_.dashOffset,w.beginPath(),sr(f,b,M,v),w.closePath(),w.stroke(),w.restore())})(this,g,a,o,p)}}),s.display){for(V.save(),r=o-1;r>=0;r--){let c=s.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:u}=c;u&&h&&(V.lineWidth=u,V.strokeStyle=h,V.setLineDash(c.borderDash),V.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(r,a),V.beginPath(),V.moveTo(this.xCenter,this.yCenter),V.lineTo(l.x,l.y),V.stroke())}V.restore()}}drawBorder(){}drawLabels(){let V=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;let i=this.getIndexAngle(0),n,o;V.save(),V.translate(this.xCenter,this.yCenter),V.rotate(i),V.textAlign="center",V.textBaseline="middle",this.ticks.forEach((r,a)=>{if(a===0&&this.min>=0&&!t.reverse)return;let l=s.setContext(this.getContext(a)),c=aV(l.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),l.showLabelBackdrop){V.font=c.string,o=V.measureText(r.label).width,V.fillStyle=l.backdropColor;let h=uV(l.backdropPadding);V.fillRect(-o/2-h.left,-n-c.size/2-h.top,o+h.width,c.size+h.height)}ot(V,r.label,0,-n,c,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),V.restore()}drawTitle(){}}F(le,"id","radialLinear"),F(le,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:V=>V,padding:5,centerPointLabels:!1}}),F(le,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(le,"descriptors",{angleLines:{_fallback:"grid"}});let $e={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bV=Object.keys($e);function ir(e,V){return e-V}function nr(e,V){if(m(V))return null;let t=e._adapter,{parser:s,round:i,isoWeekday:n}=e._parseOpts,o=V;return typeof s=="function"&&(o=s(o)),S(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(i&&(o=i!=="week"||!At(n)&&n!==!0?t.startOf(o,i):t.startOf(o,"isoWeek",n)),+o)}function or(e,V,t,s){let i=bV.length;for(let n=bV.indexOf(e);n<i-1;++n){let o=$e[bV[n]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-V)/(r*o.size))<=s)return bV[n]}return bV[i-1]}function rr(e,V,t){if(t){if(t.length){let{lo:s,hi:i}=Ce(t,V);e[t[s]>=V?t[s]:t[i]]=!0}}else e[V]=!0}function ar(e,V,t){let s=[],i={},n=V.length,o,r;for(o=0;o<n;++o)r=V[o],i[r]=o,s.push({value:r,major:!1});return n!==0&&t?function(a,l,c,h){let u=a._adapter,g=+u.startOf(l[0].value,h),p=l[l.length-1].value,f,A;for(f=g;f<=p;f=+u.add(f,1,h))A=c[f],A>=0&&(l[A].major=!0);return l}(e,s,i,t):s}class he extends lt{constructor(V){super(V),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(V,t={}){let s=V.time||(V.time={}),i=this._adapter=new Ho._date(V.adapters.date);i.init(t),yV(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(V),this._normalized=t.normalized}parse(V,t){return V===void 0?null:nr(this,V)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let V=this.options,t=this._adapter,s=V.time.unit||"day",{min:i,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();function a(l){o||isNaN(l.min)||(i=Math.min(i,l.min)),r||isNaN(l.max)||(n=Math.max(n,l.max))}o&&r||(a(this._getLabelBounds()),V.bounds==="ticks"&&V.ticks.source==="labels"||a(this.getMinMax(!1))),i=S(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),n=S(n)&&!isNaN(n)?n:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,n-1),this.max=Math.max(i+1,n)}_getLabelBounds(){let V=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return V.length&&(t=V[0],s=V[V.length-1]),{min:t,max:s}}buildTicks(){let V=this.options,t=V.time,s=V.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();V.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let n=this.min,o=gn(i,n,this.max);return this._unit=t.unit||(s.autoSkip?or(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(r,a,l,c,h){for(let u=bV.length-1;u>=bV.indexOf(l);u--){let g=bV[u];if($e[g].common&&r._adapter.diff(h,c,g)>=a-1)return g}return bV[l?bV.indexOf(l):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&this._unit!=="year"?function(r){for(let a=bV.indexOf(r)+1,l=bV.length;a<l;++a)if($e[bV[a]].common)return bV[a]}(this._unit):void 0,this.initOffsets(i),V.reverse&&o.reverse(),ar(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(V=>+V.value))}initOffsets(V=[]){let t,s,i=0,n=0;this.options.offset&&V.length&&(t=this.getDecimalForValue(V[0]),i=V.length===1?1-t:(this.getDecimalForValue(V[1])-t)/2,s=this.getDecimalForValue(V[V.length-1]),n=V.length===1?s:(s-this.getDecimalForValue(V[V.length-2]))/2);let o=V.length<3?.5:.25;i=hV(i,0,o),n=hV(n,0,o),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let V=this._adapter,t=this.min,s=this.max,i=this.options,n=i.time,o=n.unit||or(n.minUnit,t,s,this._getLabelCapacity(t)),r=k(i.ticks.stepSize,1),a=o==="week"&&n.isoWeekday,l=At(a)||a===!0,c={},h,u,g=t;if(l&&(g=+V.startOf(g,"isoWeek",a)),g=+V.startOf(g,l?"day":o),V.diff(s,t,o)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+o);let p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=g,u=0;h<s;h=+V.add(h,r,o),u++)rr(c,h,p);return h!==s&&i.bounds!=="ticks"&&u!==1||rr(c,h,p),Object.keys(c).sort(ir).map(f=>+f)}getLabelForValue(V){let t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(V,s.tooltipFormat):t.format(V,s.displayFormats.datetime)}format(V,t){let s=this.options.time.displayFormats,i=this._unit,n=t||s[i];return this._adapter.format(V,n)}_tickFormatFunction(V,t,s,i){let n=this.options,o=n.ticks.callback;if(o)return L(o,[V,t,s],this);let r=n.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&r[a],h=l&&r[l],u=s[t],g=l&&h&&u&&u.major;return this._adapter.format(V,i||(g?h:c))}generateTickLabels(V){let t,s,i;for(t=0,s=V.length;t<s;++t)i=V[t],i.label=this._tickFormatFunction(i.value,t,V)}getDecimalForValue(V){return V===null?NaN:(V-this.min)/(this.max-this.min)}getPixelForValue(V){let t=this._offsets,s=this.getDecimalForValue(V);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(V){let t=this._offsets,s=this.getDecimalForPixel(V)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(V){let t=this.options.ticks,s=this.ctx.measureText(V).width,i=DV(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(i),o=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:s*n+r*o,h:s*o+r*n}}_getLabelCapacity(V){let t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,n=this._tickFormatFunction(V,0,ar(this,[V],this._majorUnit),i),o=this._getLabelSize(n),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let V,t,s=this._cache.data||[];if(s.length)return s;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(V=0,t=i.length;V<t;++V)s=s.concat(i[V].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){let V=this._cache.labels||[],t,s;if(V.length)return V;let i=this.getLabels();for(t=0,s=i.length;t<s;++t)V.push(nr(this,i[t]));return this._cache.labels=this._normalized?V:this.normalize(V)}normalize(V){return qs(V.sort(ir))}}F(he,"id","time"),F(he,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ke(e,V,t){let s,i,n,o,r=0,a=e.length-1;t?(V>=e[r].pos&&V<=e[a].pos&&({lo:r,hi:a}=qV(e,"pos",V)),{pos:s,time:n}=e[r],{pos:i,time:o}=e[a]):(V>=e[r].time&&V<=e[a].time&&({lo:r,hi:a}=qV(e,"time",V)),{time:s,pos:n}=e[r],{time:i,pos:o}=e[a]);let l=i-s;return l?n+(o-n)*(V-s)/l:n}var lr=Object.freeze({__proto__:null,CategoryScale:(ss=class extends lt{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let V=this._addedLabels;if(V.length){let t=this.getLabels();for(let{index:s,label:i}of V)t[s]===i&&t.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,V){if(m(e))return null;let t=this.getLabels();return((s,i)=>s===null?null:hV(Math.round(s),0,i))(V=isFinite(V)&&t[V]===e?V:sl(t,e,k(V,e),this._addedLabels),t.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:V}=this.getUserBounds(),{min:t,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(t=0),V||(s=this.getLabels().length-1)),this.min=t,this.max=s}buildTicks(){let e=this.min,V=this.max,t=this.options.offset,s=[],i=this.getLabels();i=e===0&&V===i.length-1?i:i.slice(e,V+1),this._valueRange=Math.max(i.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let n=e;n<=V;n++)s.push({value:n});return s}getLabelForValue(e){return $o.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let V=this.ticks;return e<0||e>V.length-1?null:this.getPixelForValue(V[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},F(ss,"id","category"),F(ss,"defaults",{ticks:{callback:$o}}),ss),LinearScale:Ii,LogarithmicScale:Fi,RadialLinearScale:le,TimeScale:he,TimeSeriesScale:(is=class extends he{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),V=this._table=this.buildLookupTable(e);this._minPos=Ke(V,this.min),this._tableRange=Ke(V,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:V,max:t}=this,s=[],i=[],n,o,r,a,l;for(n=0,o=e.length;n<o;++n)a=e[n],a>=V&&a<=t&&s.push(a);if(s.length<2)return[{time:V,pos:0},{time:t,pos:1}];for(n=0,o=s.length;n<o;++n)l=s[n+1],r=s[n-1],a=s[n],Math.round((l+r)/2)!==a&&i.push({time:a,pos:n/(o-1)});return i}_generate(){let e=this.min,V=this.max,t=super.getDataTimestamps();return t.includes(e)&&t.length||t.splice(0,0,e),t.includes(V)&&t.length!==1||t.push(V),t.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let V=this.getDataTimestamps(),t=this.getLabelTimestamps();return e=V.length&&t.length?this.normalize(V.concat(t)):V.length?V:t,e=this._cache.all=e,e}getDecimalForValue(e){return(Ke(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let V=this._offsets,t=this.getDecimalForPixel(e)/V.factor-V.end;return Ke(this._table,t*this._tableRange+this._minPos,!0)}},F(is,"id","timeseries"),F(is,"defaults",he.defaults),is)});let Li=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hr=Li.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function cr(e){return Li[e%Li.length]}function dr(e){return hr[e%hr.length]}function hl(e){let V=0;return(t,s)=>{let i=e.getDatasetMeta(s).controller;i instanceof _t?V=function(n,o){return n.backgroundColor=n.data.map(()=>cr(o++)),o}(t,V):i instanceof re?V=function(n,o){return n.backgroundColor=n.data.map(()=>dr(o++)),o}(t,V):i&&(V=function(n,o){return n.borderColor=cr(o),n.backgroundColor=dr(o),++o}(t,V))}}function ur(e){let V;for(V in e)if(e[V].borderColor||e[V].backgroundColor)return!0;return!1}var cl={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,V,t){if(!t.enabled)return;let{data:{datasets:s},options:i}=e.config,{elements:n}=i,o=ur(s)||(r=i)&&(r.borderColor||r.backgroundColor)||n&&ur(n)||nV.borderColor!=="rgba(0,0,0,0.1)"||nV.backgroundColor!=="rgba(0,0,0,0.1)";var r;if(!t.forceOverride&&o)return;let a=hl(e);s.forEach(a)}};function gr(e){if(e._decimated){let V=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:V})}}function fr(e){e.data.datasets.forEach(V=>{gr(V)})}var dl={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,V,t)=>{if(!t.enabled)return void fr(e);let s=e.width;e.data.datasets.forEach((i,n)=>{let{_data:o,indexAxis:r}=i,a=e.getDatasetMeta(n),l=o||i.data;if(Ot([r,e.options.indexAxis])==="y"||!a.controller.supportsDecimation)return;let c=e.scales[a.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:h,count:u}=function(p,f){let A=f.length,b,v=0,{iScale:_}=p,{min:w,max:M,minDefined:P,maxDefined:E}=_.getUserBounds();return P&&(v=hV(qV(f,_.axis,w).lo,0,A-1)),b=E?hV(qV(f,_.axis,M).hi+1,v,A)-v:A-v,{start:v,count:b}}(a,l);if(u<=(t.threshold||4*s))return void gr(i);let g;switch(m(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}})),t.algorithm){case"lttb":g=function(p,f,A,b,v){let _=v.samples||b;if(_>=A)return p.slice(f,f+A);let w=[],M=(A-2)/(_-2),P=0,E=f+A-1,I,z,O,j,H,B=f;for(w[P++]=p[B],I=0;I<_-2;I++){let Q,N=0,W=0,$=Math.floor((I+1)*M)+1+f,Y=Math.min(Math.floor((I+2)*M)+1,A)+f,fV=Y-$;for(Q=$;Q<Y;Q++)N+=p[Q].x,W+=p[Q].y;N/=fV,W/=fV;let _V=Math.floor(I*M)+1+f,CV=Math.min(Math.floor((I+1)*M)+1,A)+f,{x:IV,y:OV}=p[B];for(O=j=-1,Q=_V;Q<CV;Q++)j=.5*Math.abs((IV-N)*(p[Q].y-OV)-(IV-p[Q].x)*(W-OV)),j>O&&(O=j,z=p[Q],H=Q);w[P++]=z,B=H}return w[P++]=p[E],w}(l,h,u,s,t);break;case"min-max":g=function(p,f,A,b){let v,_,w,M,P,E,I,z,O,j,H=0,B=0,Q=[],N=f+A-1,W=p[f].x,$=p[N].x-W;for(v=f;v<f+A;++v){_=p[v],w=(_.x-W)/$*b,M=_.y;let Y=0|w;if(Y===P)M<O?(O=M,E=v):M>j&&(j=M,I=v),H=(B*H+_.x)/++B;else{let fV=v-1;if(!m(E)&&!m(I)){let _V=Math.min(E,I),CV=Math.max(E,I);_V!==z&&_V!==fV&&Q.push({...p[_V],x:H}),CV!==z&&CV!==fV&&Q.push({...p[CV],x:H})}v>0&&fV!==z&&Q.push(p[fV]),Q.push(_),P=Y,B=0,O=j=M,E=I=z=v}}return Q}(l,h,u,s);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=g})},destroy(e){fr(e)}};function Oi(e,V,t,s){if(s)return;let i=V[e],n=t[e];return e==="angle"&&(i=AV(i),n=AV(n)),{property:e,start:i,end:n}}function Bi(e,V,t){for(;V>e;V--){let s=t[V];if(!isNaN(s.x)&&!isNaN(s.y))break}return V}function pr(e,V,t,s){return e&&V?s(e[t],V[t]):e?e[t]:V?V[t]:0}function mr(e,V){let t=[],s=!1;return x(e)?(s=!0,t=e):t=function(i,n){let{x:o=null,y:r=null}=i||{},a=n.points,l=[];return n.segments.forEach(({start:c,end:h})=>{h=Bi(c,h,a);let u=a[c],g=a[h];r!==null?(l.push({x:u.x,y:r}),l.push({x:g.x,y:r})):o!==null&&(l.push({x:o,y:u.y}),l.push({x:o,y:g.y}))}),l}(e,V),t.length?new ht({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ar(e){return e&&e.fill!==!1}function ul(e,V,t){let s=e[V].fill,i=[V],n;if(!t)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!S(s))return s;if(n=e[s],!n)return!1;if(n.visible)return s;i.push(s),s=n.fill}return!1}function gl(e,V,t){let s=function(n){let o=n.options,r=o.fill,a=k(r&&r.target,r);return a===void 0&&(a=!!o.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}(e);if(C(s))return!isNaN(s.value)&&s;let i=parseFloat(s);return S(i)&&Math.floor(i)===i?function(n,o,r,a){return n!=="-"&&n!=="+"||(r=o+r),r===o||r<0||r>=a?!1:r}(s[0],V,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function fl(e,V,t){let s=[];for(let i=0;i<t.length;i++){let n=t[i],{first:o,last:r,point:a}=pl(n,V,"x");if(!(!a||o&&r)){if(o)s.unshift(a);else if(e.push(a),!r)break}}e.push(...s)}function pl(e,V,t){let s=e.interpolate(V,t);if(!s)return{};let i=s[t],n=e.segments,o=e.points,r=!1,a=!1;for(let l=0;l<n.length;l++){let c=n[l],h=o[c.start][t],u=o[c.end][t];if(jV(i,h,u)){r=i===h,a=i===u;break}}return{first:r,last:a,point:s}}class br{constructor(V){this.x=V.x,this.y=V.y,this.radius=V.radius}pathSegment(V,t,s){let{x:i,y:n,radius:o}=this;return t=t||{start:0,end:VV},V.arc(i,n,o,t.end,t.start,!0),!s.bounds}interpolate(V){let{x:t,y:s,radius:i}=this,n=V.angle;return{x:t+Math.cos(n)*i,y:s+Math.sin(n)*i,angle:n}}}function ml(e){let{chart:V,fill:t,line:s}=e;if(S(t))return function(n,o){let r=n.getDatasetMeta(o);return r&&n.isDatasetVisible(o)?r.dataset:null}(V,t);if(t==="stack")return function(n){let{scale:o,index:r,line:a}=n,l=[],c=a.segments,h=a.points,u=function(g,p){let f=[],A=g.getMatchingVisibleMetas("line");for(let b=0;b<A.length;b++){let v=A[b];if(v.index===p)break;v.hidden||f.unshift(v.dataset)}return f}(o,r);u.push(mr({x:null,y:o.bottom},a));for(let g=0;g<c.length;g++){let p=c[g];for(let f=p.start;f<=p.end;f++)fl(l,h[f],u)}return new ht({points:l,options:{}})}(e);if(t==="shape")return!0;let i=function(n){return(n.scale||{}).getPointPositionForValue?function(r){let{scale:a,fill:l}=r,c=a.options,h=a.getLabels().length,u=c.reverse?a.max:a.min,g=function(f,A,b){let v;return v=f==="start"?b:f==="end"?A.options.reverse?A.min:A.max:C(f)?f.value:A.getBaseValue(),v}(l,a,u),p=[];if(c.grid.circular){let f=a.getPointPositionForValue(0,u);return new br({x:f.x,y:f.y,radius:a.getDistanceFromCenterForValue(g)})}for(let f=0;f<h;++f)p.push(a.getPointPositionForValue(f,g));return p}(n):function(r){let{scale:a={},fill:l}=r,c=function(h,u){let g=null;return h==="start"?g=u.bottom:h==="end"?g=u.top:C(h)?g=u.getPixelForValue(h.value):u.getBasePixel&&(g=u.getBasePixel()),g}(l,a);if(S(c)){let h=a.isHorizontal();return{x:h?c:null,y:h?null:c}}return null}(n)}(e);return i instanceof br?i:mr(i,s)}function zi(e,V,t){let s=ml(V),{line:i,scale:n,axis:o}=V,r=i.options,a=r.fill,l=r.backgroundColor,{above:c=l,below:h=l}=a||{};s&&i.points.length&&(Zt(e,t),function(u,g){let{line:p,target:f,above:A,below:b,area:v,scale:_}=g,w=p._loop?"angle":g.axis;u.save(),w==="x"&&b!==A&&(xr(u,f,v.top),yr(u,{line:p,target:f,color:A,scale:_,property:w}),u.restore(),u.save(),xr(u,f,v.bottom)),yr(u,{line:p,target:f,color:b,scale:_,property:w}),u.restore()}(e,{line:i,target:s,above:c,below:h,area:t,scale:n,axis:o}),$t(e))}function xr(e,V,t){let{segments:s,points:i}=V,n=!0,o=!1;e.beginPath();for(let r of s){let{start:a,end:l}=r,c=i[a],h=i[Bi(a,l,i)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(c.x,t),e.lineTo(c.x,c.y)),o=!!V.pathSegment(e,r,{move:o}),o?e.closePath():e.lineTo(h.x,t)}e.lineTo(V.first().x,t),e.closePath(),e.clip()}function yr(e,V){let{line:t,target:s,property:i,color:n,scale:o}=V,r=function(a,l,c){let h=a.segments,u=a.points,g=l.points,p=[];for(let f of h){let{start:A,end:b}=f;b=Bi(A,b,u);let v=Oi(c,u[A],u[b],f.loop);if(!l.segments){p.push({source:f,target:v,start:u[A],end:u[b]});continue}let _=pi(l,v);for(let w of _){let M=Oi(c,g[w.start],g[w.end],w.loop),P=fi(f,u,M);for(let E of P)p.push({source:E,target:w,start:{[c]:pr(v,M,"start",Math.max)},end:{[c]:pr(v,M,"end",Math.min)}})}}return p}(t,s,i);for(let{source:a,target:l,start:c,end:h}of r){let{style:{backgroundColor:u=n}={}}=a,g=s!==!0;e.save(),e.fillStyle=u,Al(e,o,g&&Oi(i,c,h)),e.beginPath();let p=!!t.pathSegment(e,a),f;if(g){p?e.closePath():vr(e,s,h,i);let A=!!s.pathSegment(e,l,{move:p,reverse:!0});f=p&&A,f||vr(e,s,c,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Al(e,V,t){let{top:s,bottom:i}=V.chart.chartArea,{property:n,start:o,end:r}=t||{};n==="x"&&(e.beginPath(),e.rect(o,s,r-o,i-s),e.clip())}function vr(e,V,t,s){let i=V.interpolate(t,s);i&&e.lineTo(i.x,i.y)}var bl={id:"filler",afterDatasetsUpdate(e,V,t){let s=(e.data.datasets||[]).length,i=[],n,o,r,a;for(o=0;o<s;++o)n=e.getDatasetMeta(o),r=n.dataset,a=null,r&&r.options&&r instanceof ht&&(a={visible:e.isDatasetVisible(o),index:o,fill:gl(r,o,s),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:r}),n.$filler=a,i.push(a);for(o=0;o<s;++o)a=i[o],a&&a.fill!==!1&&(a.fill=ul(i,o,t.propagate))},beforeDraw(e,V,t){let s=t.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let o=i.length-1;o>=0;--o){let r=i[o].$filler;r&&(r.line.updateControlPoints(n,r.axis),s&&r.fill&&zi(e.ctx,r,n))}},beforeDatasetsDraw(e,V,t){if(t.drawTime!=="beforeDatasetsDraw")return;let s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){let n=s[i].$filler;Ar(n)&&zi(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,V,t){let s=V.meta.$filler;Ar(s)&&t.drawTime==="beforeDatasetDraw"&&zi(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let wr=(e,V)=>{let{boxHeight:t=V,boxWidth:s=V}=e;return e.usePointStyle&&(t=Math.min(t,V),s=e.pointStyleWidth||Math.min(s,V)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(V,t)}};class _r extends EV{constructor(V){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=V.chart,this.options=V.options,this.ctx=V.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(V,t,s){this.maxWidth=V,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let V=this.options.labels||{},t=L(V.generateLabels,[this.chart],this)||[];V.filter&&(t=t.filter(s=>V.filter(s,this.chart.data))),V.sort&&(t=t.sort((s,i)=>V.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:V,ctx:t}=this;if(!V.display)return void(this.width=this.height=0);let s=V.labels,i=aV(s.font),n=i.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:a}=wr(s,n),l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,n,r,a)+10):(c=this.maxHeight,l=this._fitCols(o,i,r,a)+10),this.width=Math.min(l,V.maxWidth||this.maxWidth),this.height=Math.min(c,V.maxHeight||this.maxHeight)}_fitRows(V,t,s,i){let{ctx:n,maxWidth:o,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+r,h=V;n.textAlign="left",n.textBaseline="middle";let u=-1,g=-c;return this.legendItems.forEach((p,f)=>{let A=s+t/2+n.measureText(p.text).width;(f===0||l[l.length-1]+A+2*r>o)&&(h+=c,l[l.length-(f>0?0:1)]=0,g+=c,u++),a[f]={left:0,top:g,row:u,width:A,height:i},l[l.length-1]+=A+r}),h}_fitCols(V,t,s,i){let{ctx:n,maxHeight:o,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-V,h=r,u=0,g=0,p=0,f=0;return this.legendItems.forEach((A,b)=>{let{itemWidth:v,itemHeight:_}=function(w,M,P,E,I){let z=function(j,H,B,Q){let N=j.text;return N&&typeof N!="string"&&(N=N.reduce((W,$)=>W.length>$.length?W:$)),H+B.size/2+Q.measureText(N).width}(E,w,M,P),O=function(j,H,B){let Q=j;return typeof H.text!="string"&&(Q=Cr(H,B)),Q}(I,E,M.lineHeight);return{itemWidth:z,itemHeight:O}}(s,t,n,A,i);b>0&&g+_+2*r>c&&(h+=u+r,l.push({width:u,height:g}),p+=u+r,f++,u=g=0),a[b]={left:p,top:g,col:f,width:v,height:_},u=Math.max(u,v),g+=_+r}),h+=u,l.push({width:u,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let V=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:n}}=this,o=vt(n,this.left,this.width);if(this.isHorizontal()){let r=0,a=dV(s,this.left+i,this.right-this.lineWidths[r]);for(let l of t)r!==l.row&&(r=l.row,a=dV(s,this.left+i,this.right-this.lineWidths[r])),l.top+=this.top+V+i,l.left=o.leftForLtr(o.x(a),l.width),a+=l.width+i}else{let r=0,a=dV(s,this.top+V+i,this.bottom-this.columnSizes[r].height);for(let l of t)l.col!==r&&(r=l.col,a=dV(s,this.top+V+i,this.bottom-this.columnSizes[r].height)),l.top=a,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),a+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let V=this.ctx;Zt(V,this),this._draw(),$t(V)}}_draw(){let{options:V,columnSizes:t,lineWidths:s,ctx:i}=this,{align:n,labels:o}=V,r=nV.color,a=vt(V.rtl,this.left,this.width),l=aV(o.font),{padding:c}=o,h=l.size,u=h/2,g;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:p,boxHeight:f,itemHeight:A}=wr(o,h),b=this.isHorizontal(),v=this._computeTitleHeight();g=b?{x:dV(n,this.left+c,this.right-s[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:dV(n,this.top+v+c,this.bottom-t[0].height),line:0},ui(this.ctx,V.textDirection);let _=A+c;this.legendItems.forEach((w,M)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;let P=i.measureText(w.text).width,E=a.textAlign(w.textAlign||(w.textAlign=o.textAlign)),I=p+u+P,z=g.x,O=g.y;if(a.setWidth(this.width),b?M>0&&z+I+c>this.right&&(O=g.y+=_,g.line++,z=g.x=dV(n,this.left+c,this.right-s[g.line])):M>0&&O+_>this.bottom&&(z=g.x=z+t[g.line].width+c,g.line++,O=g.y=dV(n,this.top+v+c,this.bottom-t[g.line].height)),function(j,H,B){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();let Q=k(B.lineWidth,1);if(i.fillStyle=k(B.fillStyle,r),i.lineCap=k(B.lineCap,"butt"),i.lineDashOffset=k(B.lineDashOffset,0),i.lineJoin=k(B.lineJoin,"miter"),i.lineWidth=Q,i.strokeStyle=k(B.strokeStyle,r),i.setLineDash(k(B.lineDash,[])),o.usePointStyle){let N={radius:f*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:Q},W=a.xPlus(j,p/2);ri(i,N,W,H+u,o.pointStyleWidth&&p)}else{let N=H+Math.max((h-f)/2,0),W=a.leftForLtr(j,p),$=at(B.borderRadius);i.beginPath(),Object.values($).some(Y=>Y!==0)?Ft(i,{x:W,y:N,w:p,h:f,radius:$}):i.rect(W,N,p,f),i.fill(),Q!==0&&i.stroke()}i.restore()}(a.x(z),O,w),z=An(E,z+p+u,b?z+I:this.right,V.rtl),function(j,H,B){ot(i,B.text,j,H+A/2,l,{strikethrough:B.hidden,textAlign:a.textAlign(B.textAlign)})}(a.x(z),O,w),b)g.x+=I+c;else if(typeof w.text!="string"){let j=l.lineHeight;g.y+=Cr(w,j)+c}else g.y+=_}),gi(this.ctx,V.textDirection)}drawTitle(){let V=this.options,t=V.title,s=aV(t.font),i=uV(t.padding);if(!t.display)return;let n=vt(V.rtl,this.left,this.width),o=this.ctx,r=t.position,a=s.size/2,l=i.top+a,c,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,h=dV(V.align,h,this.right-u);else{let p=this.columnSizes.reduce((f,A)=>Math.max(f,A.height),0);c=l+dV(V.align,this.top,this.bottom-p-V.labels.padding-this._computeTitleHeight())}let g=dV(r,h,h+u);o.textAlign=n.textAlign(Se(r)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,ot(o,t.text,g,c,s)}_computeTitleHeight(){let V=this.options.title,t=aV(V.font),s=uV(V.padding);return V.display?t.lineHeight+s.height:0}_getLegendItemAt(V,t){let s,i,n;if(jV(V,this.left,this.right)&&jV(t,this.top,this.bottom)){for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(i=n[s],jV(V,i.left,i.left+i.width)&&jV(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(V){let t=this.options;if(!function(o,r){return!!((o==="mousemove"||o==="mouseout")&&(r.onHover||r.onLeave)||r.onClick&&(o==="click"||o==="mouseup"))}(V.type,t))return;let s=this._getLegendItemAt(V.x,V.y);if(V.type==="mousemove"||V.type==="mouseout"){let o=this._hoveredItem,r=(n=s,(i=o)!==null&&n!==null&&i.datasetIndex===n.datasetIndex&&i.index===n.index);o&&!r&&L(t.onLeave,[V,o,this],this),this._hoveredItem=s,s&&!r&&L(t.onHover,[V,s,this],this)}else s&&L(t.onClick,[V,s,this],this);var i,n}}function Cr(e,V){return V*(e.text?e.text.length:0)}var xl={id:"legend",_element:_r,start(e,V,t){let s=e.legend=new _r({ctx:e.ctx,options:t,chart:e});gV.configure(e,s,t),gV.addBox(e,s)},stop(e){gV.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,V,t){let s=e.legend;gV.configure(e,s,t),s.options=t},afterUpdate(e){let V=e.legend;V.buildLabels(),V.adjustHitBoxes()},afterEvent(e,V){V.replay||e.legend.handleEvent(V.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,V,t){let s=V.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),V.hidden=!0):(i.show(s),V.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let V=e.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:n,useBorderRadius:o,borderRadius:r}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{let l=a.controller.getStyle(t?0:void 0),c=uV(l.borderWidth);return{text:V[a.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!a.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(r||l.borderRadius),datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ni extends EV{constructor(V){super(),this.chart=V.chart,this.options=V.options,this.ctx=V.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(V,t){let s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=V,this.height=this.bottom=t;let i=x(s.text)?s.text.length:1;this._padding=uV(s.padding);let n=i*aV(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){let V=this.options.position;return V==="top"||V==="bottom"}_drawArgs(V){let{top:t,left:s,bottom:i,right:n,options:o}=this,r=o.align,a,l,c,h=0;return this.isHorizontal()?(l=dV(r,s,n),c=t+V,a=n-s):(o.position==="left"?(l=s+V,c=dV(r,i,t),h=-.5*K):(l=n-V,c=dV(r,t,i),h=.5*K),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:h}}draw(){let V=this.ctx,t=this.options;if(!t.display)return;let s=aV(t.font),i=s.lineHeight/2+this._padding.top,{titleX:n,titleY:o,maxWidth:r,rotation:a}=this._drawArgs(i);ot(V,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:a,textAlign:Se(t.align),textBaseline:"middle",translation:[n,o]})}}var yl={id:"title",_element:Ni,start(e,V,t){(function(s,i){let n=new Ni({ctx:s.ctx,options:i,chart:s});gV.configure(s,n,i),gV.addBox(s,n),s.titleBlock=n})(e,t)},stop(e){let V=e.titleBlock;gV.removeBox(e,V),delete e.titleBlock},beforeUpdate(e,V,t){let s=e.titleBlock;gV.configure(e,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Vs=new WeakMap;var vl={id:"subtitle",start(e,V,t){let s=new Ni({ctx:e.ctx,options:t,chart:e});gV.configure(e,s,t),gV.addBox(e,s),Vs.set(e,s)},stop(e){gV.removeBox(e,Vs.get(e)),Vs.delete(e)},beforeUpdate(e,V,t){let s=Vs.get(e);gV.configure(e,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let ce={average(e){if(!e.length)return!1;let V,t,s=new Set,i=0,n=0;for(V=0,t=e.length;V<t;++V){let o=e[V].element;if(o&&o.hasValue()){let r=o.tooltipPosition();s.add(r.x),i+=r.y,++n}}return n===0||s.size===0?!1:{x:[...s].reduce((o,r)=>o+r)/s.size,y:i/n}},nearest(e,V){if(!e.length)return!1;let t,s,i,n=V.x,o=V.y,r=Number.POSITIVE_INFINITY;for(t=0,s=e.length;t<s;++t){let a=e[t].element;if(a&&a.hasValue()){let l=_e(V,a.getCenterPoint());l<r&&(r=l,i=a)}}if(i){let a=i.tooltipPosition();n=a.x,o=a.y}return{x:n,y:o}}};function YV(e,V){return V&&(x(V)?Array.prototype.push.apply(e,V):e.push(V)),e}function KV(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function wl(e,V){let{element:t,datasetIndex:s,index:i}=V,n=e.getDatasetMeta(s).controller,{label:o,value:r}=n.getLabelAndValue(i);return{chart:e,label:o,parsed:n.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:r,dataset:n.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function Sr(e,V){let t=e.chart.ctx,{body:s,footer:i,title:n}=e,{boxWidth:o,boxHeight:r}=V,a=aV(V.bodyFont),l=aV(V.titleFont),c=aV(V.footerFont),h=n.length,u=i.length,g=s.length,p=uV(V.padding),f=p.height,A=0,b=s.reduce((w,M)=>w+M.before.length+M.lines.length+M.after.length,0);b+=e.beforeBody.length+e.afterBody.length,h&&(f+=h*l.lineHeight+(h-1)*V.titleSpacing+V.titleMarginBottom),b&&(f+=g*(V.displayColors?Math.max(r,a.lineHeight):a.lineHeight)+(b-g)*a.lineHeight+(b-1)*V.bodySpacing),u&&(f+=V.footerMarginTop+u*c.lineHeight+(u-1)*V.footerSpacing);let v=0,_=function(w){A=Math.max(A,t.measureText(w).width+v)};return t.save(),t.font=l.string,R(e.title,_),t.font=a.string,R(e.beforeBody.concat(e.afterBody),_),v=V.displayColors?o+2+V.boxPadding:0,R(s,w=>{R(w.before,_),R(w.lines,_),R(w.after,_)}),v=0,t.font=c.string,R(e.footer,_),t.restore(),A+=p.width,{width:A,height:f}}function _l(e,V,t,s){let{x:i,width:n}=t,{width:o,chartArea:{left:r,right:a}}=e,l="center";return s==="center"?l=i<=(r+a)/2?"left":"right":i<=n/2?l="left":i>=o-n/2&&(l="right"),function(c,h,u,g){let{x:p,width:f}=g,A=u.caretSize+u.caretPadding;return c==="left"&&p+f+A>h.width||c==="right"&&p-f-A<0||void 0}(l,e,V,t)&&(l="center"),l}function Mr(e,V,t){let s=t.yAlign||V.yAlign||function(i,n){let{y:o,height:r}=n;return o<r/2?"top":o>i.height-r/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||V.xAlign||_l(e,V,t,s),yAlign:s}}function kr(e,V,t,s){let{caretSize:i,caretPadding:n,cornerRadius:o}=e,{xAlign:r,yAlign:a}=t,l=i+n,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:g}=at(o),p=function(A,b){let{x:v,width:_}=A;return b==="right"?v-=_:b==="center"&&(v-=_/2),v}(V,r),f=function(A,b,v){let{y:_,height:w}=A;return b==="top"?_+=v:_-=b==="bottom"?w+v:w/2,_}(V,a,l);return a==="center"?r==="left"?p+=l:r==="right"&&(p-=l):r==="left"?p-=Math.max(c,u)+i:r==="right"&&(p+=Math.max(h,g)+i),{x:hV(p,0,s.width-V.width),y:hV(f,0,s.height-V.height)}}function ts(e,V,t){let s=uV(t.padding);return V==="center"?e.x+e.width/2:V==="right"?e.x+e.width-s.right:e.x+s.left}function Dr(e){return YV([],KV(e))}function Tr(e,V){let t=V&&V.dataset&&V.dataset.tooltip&&V.dataset.tooltip.callbacks;return t?e.override(t):e}let Pr={beforeTitle:y,title(e){if(e.length>0){let V=e[0],t=V.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return V.dataset.label||"";if(V.label)return V.label;if(s>0&&V.dataIndex<s)return t[V.dataIndex]}return""},afterTitle:y,beforeBody:y,beforeLabel:y,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let V=e.dataset.label||"";V&&(V+=": ");let t=e.formattedValue;return m(t)||(V+=t),V},labelColor(e){let V=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:V.borderColor,backgroundColor:V.backgroundColor,borderWidth:V.borderWidth,borderDash:V.borderDash,borderDashOffset:V.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let V=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:V.pointStyle,rotation:V.rotation}},afterLabel:y,afterBody:y,beforeFooter:y,footer:y,afterFooter:y};function xV(e,V,t,s){let i=e[V].call(t,s);return i===void 0?Pr[V].call(t,s):i}class Qi extends EV{constructor(V){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=V.chart,this.options=V.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(V){this.options=V,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let V=this._cachedAnimations;if(V)return V;let t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,n=new yi(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(V=this.chart.getContext(),t=this,s=this._tooltipItems,$V(V,{tooltip:t,tooltipItems:s,type:"tooltip"})));var V,t,s}getTitle(V,t){let{callbacks:s}=t,i=xV(s,"beforeTitle",this,V),n=xV(s,"title",this,V),o=xV(s,"afterTitle",this,V),r=[];return r=YV(r,KV(i)),r=YV(r,KV(n)),r=YV(r,KV(o)),r}getBeforeBody(V,t){return Dr(xV(t.callbacks,"beforeBody",this,V))}getBody(V,t){let{callbacks:s}=t,i=[];return R(V,n=>{let o={before:[],lines:[],after:[]},r=Tr(s,n);YV(o.before,KV(xV(r,"beforeLabel",this,n))),YV(o.lines,xV(r,"label",this,n)),YV(o.after,KV(xV(r,"afterLabel",this,n))),i.push(o)}),i}getAfterBody(V,t){return Dr(xV(t.callbacks,"afterBody",this,V))}getFooter(V,t){let{callbacks:s}=t,i=xV(s,"beforeFooter",this,V),n=xV(s,"footer",this,V),o=xV(s,"afterFooter",this,V),r=[];return r=YV(r,KV(i)),r=YV(r,KV(n)),r=YV(r,KV(o)),r}_createItems(V){let t=this._active,s=this.chart.data,i=[],n=[],o=[],r,a,l=[];for(r=0,a=t.length;r<a;++r)l.push(wl(this.chart,t[r]));return V.filter&&(l=l.filter((c,h,u)=>V.filter(c,h,u,s))),V.itemSort&&(l=l.sort((c,h)=>V.itemSort(c,h,s))),R(l,c=>{let h=Tr(V.callbacks,c);i.push(xV(h,"labelColor",this,c)),n.push(xV(h,"labelPointStyle",this,c)),o.push(xV(h,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(V,t){let s=this.options.setContext(this.getContext()),i=this._active,n,o=[];if(i.length){let r=ce[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);let a=this._size=Sr(this,s),l=Object.assign({},r,a),c=Mr(this.chart,s,l),h=kr(s,l,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:r.x,caretY:r.y}}else this.opacity!==0&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),V&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(V,t,s,i){let n=this.getCaretPosition(V,s,i);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(V,t,s){let{xAlign:i,yAlign:n}=this,{caretSize:o,cornerRadius:r}=s,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:h}=at(r),{x:u,y:g}=V,{width:p,height:f}=t,A,b,v,_,w,M;return n==="center"?(w=g+f/2,i==="left"?(A=u,b=A-o,_=w+o,M=w-o):(A=u+p,b=A+o,_=w-o,M=w+o),v=A):(b=i==="left"?u+Math.max(a,c)+o:i==="right"?u+p-Math.max(l,h)-o:this.caretX,n==="top"?(_=g,w=_-o,A=b-o,v=b+o):(_=g+f,w=_+o,A=b+o,v=b-o),M=_),{x1:A,x2:b,x3:v,y1:_,y2:w,y3:M}}drawTitle(V,t,s){let i=this.title,n=i.length,o,r,a;if(n){let l=vt(s.rtl,this.x,this.width);for(V.x=ts(this,s.titleAlign,s),t.textAlign=l.textAlign(s.titleAlign),t.textBaseline="middle",o=aV(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,a=0;a<n;++a)t.fillText(i[a],l.x(V.x),V.y+o.lineHeight/2),V.y+=o.lineHeight+r,a+1===n&&(V.y+=s.titleMarginBottom-r)}}_drawColorBox(V,t,s,i,n){let o=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:a,boxWidth:l}=n,c=aV(n.bodyFont),h=ts(this,"left",n),u=i.x(h),g=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+g;if(n.usePointStyle){let f={radius:Math.min(l,a)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},A=i.leftForLtr(u,l)+l/2,b=p+a/2;V.strokeStyle=n.multiKeyBackground,V.fillStyle=n.multiKeyBackground,Oe(V,f,A,b),V.strokeStyle=o.borderColor,V.fillStyle=o.backgroundColor,Oe(V,f,A,b)}else{V.lineWidth=C(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,V.strokeStyle=o.borderColor,V.setLineDash(o.borderDash||[]),V.lineDashOffset=o.borderDashOffset||0;let f=i.leftForLtr(u,l),A=i.leftForLtr(i.xPlus(u,1),l-2),b=at(o.borderRadius);Object.values(b).some(v=>v!==0)?(V.beginPath(),V.fillStyle=n.multiKeyBackground,Ft(V,{x:f,y:p,w:l,h:a,radius:b}),V.fill(),V.stroke(),V.fillStyle=o.backgroundColor,V.beginPath(),Ft(V,{x:A,y:p+1,w:l-2,h:a-2,radius:b}),V.fill()):(V.fillStyle=n.multiKeyBackground,V.fillRect(f,p,l,a),V.strokeRect(f,p,l,a),V.fillStyle=o.backgroundColor,V.fillRect(A,p+1,l-2,a-2))}V.fillStyle=this.labelTextColors[s]}drawBody(V,t,s){let{body:i}=this,{bodySpacing:n,bodyAlign:o,displayColors:r,boxHeight:a,boxWidth:l,boxPadding:c}=s,h=aV(s.bodyFont),u=h.lineHeight,g=0,p=vt(s.rtl,this.x,this.width),f=function(I){t.fillText(I,p.x(V.x+g),V.y+u/2),V.y+=u+n},A=p.textAlign(o),b,v,_,w,M,P,E;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,V.x=ts(this,A,s),t.fillStyle=s.bodyColor,R(this.beforeBody,f),g=r&&A!=="right"?o==="center"?l/2+c:l+2+c:0,w=0,P=i.length;w<P;++w){for(b=i[w],v=this.labelTextColors[w],t.fillStyle=v,R(b.before,f),_=b.lines,r&&_.length&&(this._drawColorBox(t,V,w,p,s),u=Math.max(h.lineHeight,a)),M=0,E=_.length;M<E;++M)f(_[M]),u=h.lineHeight;R(b.after,f)}g=0,u=h.lineHeight,R(this.afterBody,f),V.y-=n}drawFooter(V,t,s){let i=this.footer,n=i.length,o,r;if(n){let a=vt(s.rtl,this.x,this.width);for(V.x=ts(this,s.footerAlign,s),V.y+=s.footerMarginTop,t.textAlign=a.textAlign(s.footerAlign),t.textBaseline="middle",o=aV(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,r=0;r<n;++r)t.fillText(i[r],a.x(V.x),V.y+o.lineHeight/2),V.y+=o.lineHeight+s.footerSpacing}}drawBackground(V,t,s,i){let{xAlign:n,yAlign:o}=this,{x:r,y:a}=V,{width:l,height:c}=s,{topLeft:h,topRight:u,bottomLeft:g,bottomRight:p}=at(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(r+h,a),o==="top"&&this.drawCaret(V,t,s,i),t.lineTo(r+l-u,a),t.quadraticCurveTo(r+l,a,r+l,a+u),o==="center"&&n==="right"&&this.drawCaret(V,t,s,i),t.lineTo(r+l,a+c-p),t.quadraticCurveTo(r+l,a+c,r+l-p,a+c),o==="bottom"&&this.drawCaret(V,t,s,i),t.lineTo(r+g,a+c),t.quadraticCurveTo(r,a+c,r,a+c-g),o==="center"&&n==="left"&&this.drawCaret(V,t,s,i),t.lineTo(r,a+h),t.quadraticCurveTo(r,a,r+h,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(V){let t=this.chart,s=this.$animations,i=s&&s.x,n=s&&s.y;if(i||n){let o=ce[V.position].call(this,this._active,this._eventPosition);if(!o)return;let r=this._size=Sr(this,V),a=Object.assign({},o,this._size),l=Mr(t,V,a),c=kr(V,a,l,t);i._to===c.x&&n._to===c.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(V){let t=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let o=uV(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(V.save(),V.globalAlpha=s,this.drawBackground(n,V,i,t),ui(V,t.textDirection),n.y+=o.top,this.drawTitle(n,V,t),this.drawBody(n,V,t),this.drawFooter(n,V,t),gi(V,t.textDirection),V.restore())}getActiveElements(){return this._active||[]}setActiveElements(V,t){let s=this._active,i=V.map(({datasetIndex:r,index:a})=>{let l=this.chart.getDatasetMeta(r);if(!l)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:l.data[a],index:a}}),n=!G(s,i),o=this._positionChanged(i,t);(n||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(V,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,n=this._active||[],o=this._getActiveElements(V,n,t,s),r=this._positionChanged(o,V),a=t||!G(o,n)||r;return a&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:V.x,y:V.y},this.update(!0,t))),a}_getActiveElements(V,t,s,i){let n=this.options;if(V.type==="mouseout")return[];if(!i)return t.filter(r=>this.chart.data.datasets[r.datasetIndex]&&this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index)!==void 0);let o=this.chart.getElementsAtEventForMode(V,n.mode,n,s);return n.reverse&&o.reverse(),o}_positionChanged(V,t){let{caretX:s,caretY:i,options:n}=this,o=ce[n.position].call(this,V,t);return o!==!1&&(s!==o.x||i!==o.y)}}F(Qi,"positioners",ce);var Cl={id:"tooltip",_element:Qi,positioners:ce,afterInit(e,V,t){t&&(e.tooltip=new Qi({chart:e,options:t}))},beforeUpdate(e,V,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,V,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){let V=e.tooltip;if(V&&V._willRender()){let t={tooltip:V};if(e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;V.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,V){if(e.tooltip){let t=V.replay;e.tooltip.handleEvent(V.event,t,V.inChartArea)&&(V.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,V)=>V.bodyFont.size,boxWidth:(e,V)=>V.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return sV.register(Go,lr,Ei,T),sV.helpers={...Aa},sV._adapters=Ho,sV.Animation=Ao,sV.Animations=yi,sV.animator=WV,sV.controllers=LV.controllers.items,sV.DatasetController=PV,sV.Element=EV,sV.elements=Ei,sV.Interaction=eo,sV.layouts=gV,sV.platforms=po,sV.Scale=lt,sV.Ticks=Yt,Object.assign(sV,Go,lr,Ei,T,po),sV.Chart=sV,typeof window!="undefined"&&(window.Chart=sV),sV})});var Ll={};Pl(Ll,{default:()=>zs});module.exports=Il(Ll);var qr=require("obsidian");var iV=require("obsidian"),Er={quizTag:"quiz",dataJSONTag:"quizjson",dataJSTag:"quizjs",todayTag:"quiztoday",chartsTag:"quizcharts",groupsTag:"quizgroups",indexing:!0,saveResults:!0,minimumCardNonRepetitionTime:7*24*3600,maximumCardNonRepetitionTime:31*24*3600,lowestCardThreshold:.2,successCardThreshold:.8,enableJS:!1,showCardsPlaceholder:!0,minifyCardPlaceholder:!1,allowFullscreen:!1,soundFeedback:!1,vibrateFeedback:!1},os=class extends iV.PluginSettingTab{constructor(d,m){super(d,m);this.plugin=m}display(){let{containerEl:d}=this;d.empty(),new iV.Setting(d).setName("Placeholders").setHeading(),new iV.Setting(d).setName("Show cards placeholder").addToggle(m=>m.setValue(this.plugin.settings.showCardsPlaceholder).onChange(async x=>{this.plugin.settings.showCardsPlaceholder=x,await this.plugin.saveSettings(),this.display()})),this.plugin.settings.showCardsPlaceholder&&new iV.Setting(d).setName("Minify card placeholder").addToggle(m=>m.setValue(this.plugin.settings.minifyCardPlaceholder).onChange(async x=>{this.plugin.settings.minifyCardPlaceholder=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Results").setHeading(),new iV.Setting(d).setName("Enable saving results").addToggle(m=>m.setValue(this.plugin.settings.saveResults).onChange(async x=>{this.plugin.settings.saveResults=x,await this.plugin.saveSettings(),this.display()})),this.plugin.settings.saveResults&&(new iV.Setting(d).setName("Cards rate failed threshold").addSlider(m=>m.setDynamicTooltip().setLimits(0,1,.05).setValue(this.plugin.settings.lowestCardThreshold).onChange(async x=>{this.plugin.settings.lowestCardThreshold=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Cards rate success threshold").addSlider(m=>m.setDynamicTooltip().setLimits(0,1,.05).setValue(this.plugin.settings.successCardThreshold).onChange(async x=>{this.plugin.settings.successCardThreshold=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Minimum card non repetition time, in seconds").addText(m=>m.setValue(this.plugin.settings.minimumCardNonRepetitionTime.toString()).onChange(async x=>{this.plugin.settings.minimumCardNonRepetitionTime=parseInt(x),await this.plugin.saveSettings()})),new iV.Setting(d).setName("Maximum card non repetition time, in seconds").addText(m=>m.setValue(this.plugin.settings.maximumCardNonRepetitionTime.toString()).onChange(async x=>{this.plugin.settings.maximumCardNonRepetitionTime=parseInt(x),await this.plugin.saveSettings()})),new iV.Setting(d).setName("Clear results").addButton(m=>m.setButtonText("Clear").setWarning().onClick(async()=>{await this.plugin.resultsController.clear()}))),new iV.Setting(d).setName("JS Functions").setHeading(),new iV.Setting(d).setName("Enable load cards using JS").addToggle(m=>m.setValue(this.plugin.settings.enableJS).onChange(async x=>{this.plugin.settings.enableJS=x,await this.plugin.saveSettings(),this.display()})),new iV.Setting(d).setName("Question input").setHeading(),new iV.Setting(d).setName("Fullscreen card on input").setDesc("Only on mobile device").addToggle(m=>m.setValue(this.plugin.settings.allowFullscreen).onChange(async x=>{this.plugin.settings.allowFullscreen=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Sound feedback on answer input").addToggle(m=>m.setValue(this.plugin.settings.soundFeedback).onChange(async x=>{this.plugin.settings.soundFeedback=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Vibrate feedback on answer input").addToggle(m=>m.setValue(this.plugin.settings.vibrateFeedback).onChange(async x=>{this.plugin.settings.vibrateFeedback=x,await this.plugin.saveSettings(),this.display()})),new iV.Setting(d).setName("Tags").setHeading(),new iV.Setting(d).setName("Quiz tag").addText(m=>m.setValue(this.plugin.settings.quizTag).onChange(async x=>{this.plugin.settings.quizTag=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("JSON cards tag").addText(m=>m.setValue(this.plugin.settings.dataJSONTag).onChange(async x=>{this.plugin.settings.dataJSONTag=x,await this.plugin.saveSettings()})),this.plugin.settings.enableJS&&new iV.Setting(d).setName("JS cards tag").addText(m=>m.setValue(this.plugin.settings.dataJSTag).onChange(async x=>{this.plugin.settings.dataJSTag=x,await this.plugin.saveSettings()})),this.plugin.settings.saveResults&&(new iV.Setting(d).setName("Today streak tag").addText(m=>m.setValue(this.plugin.settings.todayTag).onChange(async x=>{this.plugin.settings.todayTag=x,await this.plugin.saveSettings()})),new iV.Setting(d).setName("Progression charts tag").addText(m=>m.setValue(this.plugin.settings.chartsTag).onChange(async x=>{this.plugin.settings.chartsTag=x,await this.plugin.saveSettings()}))),new iV.Setting(d).setName("Groups tag").addText(m=>m.setValue(this.plugin.settings.groupsTag).onChange(async x=>{this.plugin.settings.groupsTag=x,await this.plugin.saveSettings()}))}};function rs(T){let y=0;for(let d=0,m=T.length;d<m;d++){let x=T.charCodeAt(d);y=(y<<5)-y+x,y|=0}return y}function Hi(T,y=2){return Math.round((T+Number.EPSILON)*Math.pow(10,y))/Math.pow(10,y)}function QV(T=new Date){let y=new Date(T);return y.setHours(0),y.setMinutes(0),y.setSeconds(0),y.setMilliseconds(0),Math.floor(+y/1e3)}function be(T,y){let d=Math.round(Math.min(Math.max(y!=null?y:1,0),1)*255);return T+d.toString(16).toUpperCase()}var Ir=T=>/^[+-]?\d+(\.\d+)?$/.test(T);var as=class extends Error{},Mt=class{constructor(){this.type=St.INPUT;this.pool="cards";this.tags=[];this.defaultSide=Nt.LEFT;this.notReversible=!1}static from(y){let d=Object.assign(new Mt,y);return d.id||(d.id=`h${rs(JSON.stringify(d.question))}`),d}isValid(){if(!this.question)return!1;switch(this.type){case St.INPUT:case St.MANUAL:return!(!this.question.hasOwnProperty("left")||!this.question.hasOwnProperty("right")||this.question.left.length==0||this.question.right.length==0)}}getDefaultTitle(){let y=this.question[this.defaultSide].first();return y||""}},St=(d=>(d.INPUT="input",d.MANUAL="manual",d))(St||{}),Nt=(d=>(d.LEFT="left",d.RIGHT="right",d))(Nt||{});var ls=class{constructor(y,d){this.plugin=d,this.JSON_BLOCK_REGEX=new RegExp(`\`{3}${this.plugin.settings.dataJSONTag}\\s+[\\s\\S]*?\`{3}`,"igm"),this.JS_BLOCK_REGEX=new RegExp(`\`{3}${this.plugin.settings.dataJSTag}\\s+[\\s\\S]*?\`{3}`,"igm")}async parseFile(y){let d=new dt([],[]);for(let m of y.matchAll(this.JSON_BLOCK_REGEX)){let x=m.toString().trim();x=x.substring(this.plugin.settings.dataJSONTag.length+3,x.length-3).trim(),d.append(await this.parseCardsJSON(x))}if(this.plugin.settings.enableJS)for(let m of y.matchAll(this.JS_BLOCK_REGEX)){let x=m.toString().trim();x=x.substring(this.plugin.settings.dataJSTag.length+3,x.length-3).trim(),d.append(await this.parseCardsJS(x))}return d}async parseCardsJSON(y){let d=[];for(let m of JSON.parse(y)){let x=Mt.from(m);x.isValid()&&d.push(x)}return new dt(d,[])}async parseCardsJS(y){return this.plugin.settings.enableJS?await Fl(y):new dt([],[])}},dt=class{constructor(y,d){this.flashcards=y,this.handlers=d}append(y){return this.flashcards=this.flashcards.concat(y.flashcards),this.handlers=this.handlers.concat(y.handlers),this}};async function Fl(code_){return new Promise((resolve,reject)=>{let fc=new class{constructor(){this.flashcards=[];this.handlers=[]}addCard(T){let y=Mt.from(T);if(y.isValid())this.flashcards.push(y);else throw new as("Invalid flashcard")}addHandler(T){this.handlers.push(T)}commit(){resolve(new dt(this.flashcards,this.handlers))}};eval(`"use strict";
${code_}`)})}var Br=require("obsidian");var ut=class{constructor(){this.flashcards=[];this.byID={};this.byPool={};this.byTag={};this.selectedGroups=new Set;this.selectedPools=new Set;this.selectedTags=new Set;this.selectedFlashcards=new Set;this._groups={}}setFlashcards(y){this.flashcards=y,this.byID={},this.byPool={},this.byTag={};for(let d of Array.from(this.flashcards)){if(this.byID[d.id]=d,d.pool){let m=d.pool;this.byPool.hasOwnProperty(m)||(this.byPool[m]=[]),this.byPool[m].push(d)}if(d.tags)for(let m of d.tags)this.byTag.hasOwnProperty(m)||(this.byTag[m]=[]),this.byTag[m].push(d)}return this}setGroups(y){this._groups={};for(let d of y)this._groups[d.id]=d;this.selectedGroups.clear()}getFlashcards(){return this.flashcards}getPools(){return Object.keys(this.byPool)}getTags(){return Object.keys(this.byTag)}getGroups(){return Object.values(this._groups)}getSelectedCount(){return this.getQuizFlashcards().length}getTotalCount(){return this.flashcards.length}updateSelectedGroups(y){this._updateSet(y,this.selectedGroups)}updateSelectedPools(y){this._updateSet(y,this.selectedPools)}updateSelectedTags(y){this._updateSet(y,this.selectedTags)}updateSelectedFlashcardsIDs(y){this._updateSet(y,this.selectedFlashcards)}getQuizFlashcards(){if(this.selectedPools.size+this.selectedTags.size+this.selectedFlashcards.size+this.selectedGroups.size==0)return[];let y=new Set;for(let d of this.selectedFlashcards)this.byID.hasOwnProperty(d)&&y.add(this.byID[d]);for(let d of this.selectedPools)if(this.byPool.hasOwnProperty(d))for(let m of this.byPool[d])y.add(m);for(let d of this.selectedTags)if(this.byTag.hasOwnProperty(d))for(let m of this.byTag[d])y.add(m);for(let d of this.selectedGroups)if(this._groups.hasOwnProperty(d))for(let m of this._groups[d].flashcardsIDs)this.byID.hasOwnProperty(m)&&y.add(this.byID[m]);return Array.from(y)}reset(){this.selectedPools.clear(),this.selectedTags.clear(),this.selectedFlashcards.clear(),this.selectedGroups.clear()}_updateSet(y,d){for(let m of y)d.add(m)}};var cV=class{constructor(y){this.container=y}};var FV=class extends cV{};var SV=require("obsidian");var Ui=require("obsidian"),hs=class extends cV{constructor(){super(...arguments);this.count=5}setOnCountUpdate(d){return this.onCountUpdate=d,this}render(){let d=this.container.createDiv({cls:"cards-count-container"}),m=d.createSpan({cls:"margin-right-small cursor-pointer medium-icon"});(0,Ui.setIcon)(m,"minus");let x=d.createEl("h1",{cls:"normal-text-weight large-text disable-spacing",text:this.count.toString()}),C=d.createSpan({cls:"margin-left-small cursor-pointer medium-icon"});(0,Ui.setIcon)(C,"plus"),m.on("click","span",()=>{let S=this.count<=5?1:5;this.count=this.count-S<1?1:this.count-S,x.setText(this.count.toString()),this.onCountUpdate(this.count)}),C.on("click","span",()=>{let S=this.count<5?1:5;this.count=this.count+S>150?150:this.count+S,x.setText(this.count.toString()),this.onCountUpdate(this.count)}),this.onCountUpdate(this.count)}};var ji=require("obsidian"),cs=class extends cV{constructor(){super(...arguments);this.actions=[];this.searchPlaceholder=""}setActions(d){return this.actions=d,this}setSearchPlaceholder(d){return this.searchPlaceholder=d,this}setItems(d){return this.items=d,this}setSelectedItems(d){return this.selectedItems=d,this}setOnSelectedItemsChanged(d){return this.onSelectedItemsChanged=d,this}empty(){this.selectListContainer&&this.selectListContainer.remove()}render(){this.empty(),this.selectListContainer=this.container.createDiv({cls:"full-height select-list-container"});let d=this.selectListContainer.createDiv({cls:"select-list-input-container margin-bottom-medium"}),m=d.createDiv({cls:"flex-center"});for(let J of this.actions){let oV=m.createSpan({cls:"margin-right-medium flex-center small-icon cursor-pointer"});(0,ji.setIcon)(oV,J.icon),oV.on("click","span",J.onClick)}let x=d.createEl("input",{cls:"flex-fill",type:"text",placeholder:this.searchPlaceholder}),C=d.createDiv({cls:"margin-left-medium"}).createEl("h5",{cls:"secondary-text disable-spacing",text:"0"}),S=d.createSpan({cls:"margin-left-medium small-icon flex-center cursor-pointer red-icon"});(0,ji.setIcon)(S,"circle-x");let D=()=>{C.setText(this.selectedItems.size.toString())};D();let k=this.selectListContainer.createDiv({cls:"flex-fill static-height"}).createDiv({cls:"container-style search-list-items-container"}),U=20,q=0,L=this.items,R=()=>{for(let J of L.slice(q,q+U)){let oV=this.selectedItems.has(J.value)?"search-list-item-selected":"",tV=k.createDiv({cls:`search-list-item cursor-pointer padding-medium ${oV}`,text:J.text});tV.on("click","div",()=>{this.selectedItems.has(J.value)?(this.selectedItems.delete(J.value),tV.classList.remove("search-list-item-selected")):(this.selectedItems.add(J.value),tV.classList.add("search-list-item-selected")),D(),this.onSelectedItemsChanged(this.selectedItems)})}q+=U},G=()=>{k.empty(),k.scrollTo(0,0),q=0,R()};k.on("scroll","div",()=>{k.scrollTop+k.offsetHeight>k.scrollHeight*.95&&R()});let X=null;x.on("input","input",()=>{X&&clearTimeout(X),X=setTimeout(()=>{let J=x.value?x.value:"";J=J.toLocaleLowerCase().trim(),L=this.items.filter(oV=>oV.text.toLocaleLowerCase().includes(J)),G(),X=null},500)}),S.on("click","span",()=>{L=this.items,this.selectedItems.clear(),G(),D(),this.onSelectedItemsChanged(this.selectedItems)}),R()}};var ds=class{constructor(y,d){this.resultsController=y,this.quizArguments=d}getQuestions(){let y=this.quizArguments.flashcardsManager.getQuizFlashcards();this.resultsController?y=y.map(m=>({flashcard:m,score:this.resultsController.getCardScore(m.id),lastQuizAt:this.resultsController.getCardLastQuizTimestamp(m.id)})).sort((m,x)=>m.score<x.score?-1:m.score>x.score||m.lastQuizAt<x.lastQuizAt?1:m.lastQuizAt>x.lastQuizAt?-1:0).map(m=>m.flashcard):y.shuffle();let d=[];for(let m of y.slice(0,this.quizArguments.questionsCount))m.notReversible?d.push(new xe(m,m.defaultSide)):(d.push(new xe(m,"left")),d.push(new xe(m,"right")));return d.shuffle(),d}calculateResult(y){let d=new qi;return d.questions=y.map(m=>(m.result=this.compareAnswer(m),m)),d.completedAt=new Date,d}compareAnswer(y){if(!y.flashcard.question||!y.answer)return!1;switch(y.flashcard.type){case"input":return this._compareInput(y);case"manual":return this._compareManual(y)}return!1}_compareInput(y){let d=y.answer.toLocaleLowerCase().trim(),m=(y.side=="left"?y.flashcard.question.right:y.flashcard.question.left).map(x=>x.toLocaleLowerCase().trim());for(let x of m)if(x==d)return!0;return!1}_compareManual(y){return Boolean(y.answer)}},us=class{constructor(y,d){this.flashcardsManager=y,this.questionsCount=d}},xe=class{constructor(y,d){this.flashcard=y,this.side=d,this.answer=null}setAnswer(y){this.answer=y}},qi=class{getFlashcardsIDs(){let y=new Set;for(let d of this.questions)y.add(d.flashcard.id);return Array.from(y)}};var gt=class{setPlugin(y){return this.plugin=y,this}};var Fr=require("obsidian");var gs=class extends gt{constructor(){super(...arguments);this.roundBy=.05}async load(){if(this.dataController=this.plugin.dataController,this.enabled=this.plugin.settings.saveResults,this.lowestCardThreshold=this.plugin.settings.lowestCardThreshold,this.successCardThreshold=this.plugin.settings.successCardThreshold,this.minimumCardNonRepetitionTime=this.plugin.settings.minimumCardNonRepetitionTime,this.maximumCardNonRepetitionTime=this.plugin.settings.maximumCardNonRepetitionTime,this.data=new Qt,this.enabled){let d=await this.dataController.loadResultsObject();d?this.data=Object.assign(new Qt,d):await this.dataController.saveResultsObject(this.data)}}roundScore(d){return d=Math.floor(d/this.roundBy)*this.roundBy+(Math.round(d*100%(this.roundBy*100))/100>=this.roundBy/2?this.roundBy:0),d<0?0:d>1?1:d}getCardScore(d){if(!this.enabled||!this.data.flashcards.hasOwnProperty(d))return-1;let m=0,x=this.data.flashcards[d];if(x){m=x.score;let S=+new Date/1e3-x.lastQuizAt;S>this.minimumCardNonRepetitionTime&&(m-=S/this.maximumCardNonRepetitionTime)}return this.roundScore(m)}getCardStatus(d){if(!this.enabled||!this.data.flashcards.hasOwnProperty(d))return"EMPTY";let m=this.getCardScore(d);return m>=this.successCardThreshold?"SUCCESS":m<=this.lowestCardThreshold?"FAILED":"MIDDLE"}getCardLastQuizTimestamp(d){let m=Hi(+new Date/1e3);return!this.enabled||!this.data.flashcards.hasOwnProperty(d)?m:this.data.flashcards[d].lastQuizAt}getLastFlashcardsIDs(){return this.data.last}getFlashcardsIDsByStatus(d){return Object.keys(this.data.flashcards).map(m=>({flashcardID:m,score:this.getCardScore(m)})).filter(m=>{switch(d){case"SUCCESS":return this.successCardThreshold<=m.score;case"FAILED":return this.lowestCardThreshold>=m.score}return this.lowestCardThreshold<m.score&&m.score<this.successCardThreshold}).map(m=>m.flashcardID)}async appendQuizResult(d){if(!this.enabled)return;let m=QV(new Date);this.data.days.hasOwnProperty(m.toString())||(this.data.days[m]=new Wi);let x=new Set;for(let S of d.questions){let D=S.flashcard.id;x.add(D),this.data.flashcards.hasOwnProperty(D)||(this.data.flashcards[D]=new Gi);let k=this.data.flashcards[D];k.success+=S.result?1:0,k.total+=1,k.score=Hi(k.success/k.total,2),k.lastQuizAt=Math.round(+d.completedAt/1e3)}let C=new Set(this.data.days[m].flashcards);for(let S of x)C.add(S);this.data.days[m].flashcards=Array.from(C),this.data.days[m].quizzesCount+=1,this.data.days[m].statusCount={["FAILED"]:this.getFlashcardsIDsByStatus("FAILED").length,["MIDDLE"]:this.getFlashcardsIDsByStatus("MIDDLE").length,["SUCCESS"]:this.getFlashcardsIDsByStatus("SUCCESS").length},this.data.last=Array.from(x),await this.dataController.saveResultsObject(this.data)}getStatistics(){if(!this.enabled)return null;let d=new Date,m=QV(d),x=m+24*3600,C=new Xi,S=new Ji,D=new Zi(d),k=new $i(d),U=new Vn(d);for(let[q,L]of Object.entries(this.data.days).reverse()){let R=Number(q);if(!D.isTimestampInWeek(R)&&!k.isTimestampInMonth(R)&&!U.isTimestampInYear(R)&&!C.continue)break;m<=R&&x<=x&&(S.cardsToday=L.flashcards.length,S.quizzesToday=L.quizzesCount),C.appendDay(R),D.appendDay(R),k.appendDay(R,L),U.appendDay(R,L)}return S.streak=C.daysCount,new Yi({["FAILED"]:this.getFlashcardsIDsByStatus("FAILED").length,["MIDDLE"]:this.getFlashcardsIDsByStatus("MIDDLE").length,["SUCCESS"]:this.getFlashcardsIDsByStatus("SUCCESS").length},S,D,k,U)}async setEnabled(d){this.enabled=d}async clear(){this.data=new Qt,await this.dataController.saveResultsObject(new Qt),new Fr.Notice("Results cleared")}},Qt=class{constructor(){this.last=[];this.flashcards={};this.days={}}},Wi=class{constructor(){this.flashcards=[];this.quizzesCount=0}},Gi=class{constructor(){this.score=0;this.success=0;this.total=0;this.lastQuizAt=-1}},Yi=class{constructor(y,d,m,x,C){this.countByStatus=y,this.today=d,this.week=m,this.month=x,this.year=C}},Ji=class{constructor(){this.streak=0;this.cardsToday=0;this.quizzesToday=0}},Xi=class{constructor(){this.continue=!0;this.daysCount=0;this.currentDayStartTimestamp=-1}appendDay(y){if(this.currentDayStartTimestamp==-1){this.currentDayStartTimestamp=y;return}y-this.currentDayStartTimestamp<=24*3600?(this.daysCount+=1,this.currentDayStartTimestamp-=24*3600):this.continue=!1}},Zi=class{constructor(y){let d=QV(y),m=y.getDay(),x=new Date(y);x.setDate(x.getDate()-m+(m===0?-6:1));let C=QV(x),S=[new Date(x),new Date((C+1*24*3600)*1e3),new Date((C+2*24*3600)*1e3),new Date((C+3*24*3600)*1e3),new Date((C+4*24*3600)*1e3),new Date((C+5*24*3600)*1e3),new Date((C+6*24*3600)*1e3)];this.weekStartTimestamp=QV(S[0]),this.days=[new Vt(S[0],ft.MONDAY),new Vt(S[1],ft.TUESDAY),new Vt(S[2],ft.WEDNESDAY),new Vt(S[3],ft.THURSDAY),new Vt(S[4],ft.FRIDAY),new Vt(S[5],ft.SATURDAY),new Vt(S[6],ft.SUNDAY)];for(let D of this.days)D.dayStart>d&&(D.status=Ht.NEXT),D.dayStart==d&&(D.status=Ht.CURRENT)}isTimestampInWeek(y){return this.weekStartTimestamp<=y}appendDay(y){if(this.isTimestampInWeek(y))for(let d of this.days)d.isTimestampInDay(y)&&(d.status=Ht.DONE)}},Vt=class{constructor(y,d){this.status=Ht.MISSED;this.dayStart=QV(y),this.dayEnd=this.dayStart+24*3600,this.day=d}isTimestampInDay(y){return this.dayStart<=y&&y<this.dayEnd}},Ht=(x=>(x[x.MISSED=0]="MISSED",x[x.DONE=1]="DONE",x[x.CURRENT=2]="CURRENT",x[x.NEXT=3]="NEXT",x))(Ht||{}),ft=(D=>(D.MONDAY="Monday",D.TUESDAY="Tuesday",D.WEDNESDAY="Wednesday",D.THURSDAY="Thursday",D.FRIDAY="Friday",D.SATURDAY="Saturday",D.SUNDAY="Sunday",D))(ft||{}),$i=class{constructor(y){let d=new Date(y.getFullYear(),y.getMonth(),0).getDate();this.monthStartDayStartTimestamp=QV(new Date(y.getFullYear(),y.getMonth(),1)),this.monthEndDayEndTimestamp=QV(new Date(y.getFullYear(),y.getMonth(),d))+24*3600,this.days=[...Array(d).keys()].map(m=>new Ki(new Date(y.getFullYear(),y.getMonth(),m+1)))}isTimestampInMonth(y){return this.monthStartDayStartTimestamp<=y&&y<this.monthEndDayEndTimestamp}appendDay(y,d){if(this.isTimestampInMonth(y)){for(let m of this.days)if(m.isTimestampInDay(y)){m.flashcardsCount=d.flashcards.length;return}}}},Ki=class{constructor(y){this.flashcardsCount=0;this.day=y,this.dayStart=QV(y),this.dayEnd=this.dayStart+24*3600}isTimestampInDay(y){return this.dayStart<=y&&y<this.dayEnd}},Vn=class{constructor(y){this.yearDays=[...Array(12).keys()].map(m=>({month:m,days:[...Array(new Date(y.getFullYear(),m,0).getDate()).keys()].map(x=>QV(new Date(y.getFullYear(),m,x+1)))})).reduce((m,x)=>{let C={};for(let S of x.days)C[S]={filled:0,["FAILED"]:0,["MIDDLE"]:0,["SUCCESS"]:0};return m[x.month]=C,m},{}),this.yearStartTimestamp=Number(Object.keys(this.yearDays[0])[0]);let d=Object.keys(this.yearDays[11]);this.yearEndTimestamp=Number(d[d.length-1])+24*3600}isTimestampInYear(y){return this.yearStartTimestamp<=y&&y<=this.yearEndTimestamp}appendDay(y,d){if(this.isTimestampInYear(y))for(let[m,x]of Object.entries(this.yearDays))for(let C of Object.keys(x)){let S=Number(C);y<=S&&x[S].filled==0&&(x[S].filled=1,x[S]["FAILED"]=d.statusCount["FAILED"],x[S]["MIDDLE"]=d.statusCount["MIDDLE"],x[S]["SUCCESS"]=d.statusCount["SUCCESS"])}}};var fs=class extends FV{constructor(){super(...arguments);this.count=5;this.jsEnabled=!1}setGroupsController(d){return this.groupsController=d,this}setResultsController(d){return this.resultsController=d,this}setFlashcardsManager(d){return this.flashcardsManager=d,this}setOnQuizStart(d){return this.onQuizStart=d,this}setOnGroupSettingsIconClick(d){return this.onGroupSettingsIconClick=d,this}setQuestionsCount(d){return this.count=d,this}setJsEnabled(d){return this.jsEnabled=d,this}_start(d=!1){if(this.count==0||this.flashcardsManager.getSelectedCount()==0){new SV.Notice("At least one flashcard must be selected");return}this.onQuizStart(d,new us(this.flashcardsManager,this.count))}render(){this.flashcardsManager.setGroups(this.groupsController.getGroups(this.flashcardsManager.getFlashcards()));let d=this.container.createDiv({cls:"full-height full-width flex-center-column"}),m=d.createDiv({cls:"flex-center flex-wrap justify-self-center margin-top-medium margin-bottom-medium"}),x=m.createDiv({cls:"flex-center margin-top-small margin-bottom-small"}),C=x.createSpan({cls:"small-icon cursor-pointer red-icon justify-self-center margin-right-small"});(0,SV.setIcon)(C,"x");let S=x.createEl("h1",{cls:"normal-text-weight normal-text disable-spacing",text:"0"});(0,SV.setIcon)(x.createEl("span",{cls:"small-icon transparent-icon margin-left-small margin-right-small"}),"move-right");let D=m.createDiv({cls:"flex-center margin-top-small margin-bottom-small"}),k=D.createEl("h1",{cls:"normal-text-weight secondary-text disable-spacing",text:"0"});(0,SV.setIcon)(D.createEl("span",{cls:"small-icon transparent-icon"}),"dot");let U=D.createEl("h1",{cls:"normal-text-weight error-text disable-spacing",text:"0"});(0,SV.setIcon)(D.createEl("span",{cls:"small-icon transparent-icon"}),"dot");let q=D.createEl("h1",{cls:"normal-text-weight warning-text disable-spacing",text:"0"});(0,SV.setIcon)(D.createEl("span",{cls:"small-icon transparent-icon"}),"dot");let L=D.createEl("h1",{cls:"normal-text-weight success-text disable-spacing",text:"0"});(0,SV.setIcon)(D.createEl("span",{cls:"small-icon transparent-icon margin-left-small margin-right-small"}),"move-right");let R=m.createDiv({cls:"flex-center margin-top-small margin-bottom-small"});new hs(R).setOnCountUpdate(Z=>{this.count=Z}).render(),(0,SV.setIcon)(R.createEl("span",{cls:"small-icon transparent-icon margin-left-small margin-right-small"}),"move-right");let X=m.createDiv({cls:"flex-center margin-top-small margin-bottom-small"}),J=X.createSpan({cls:"medium-icon gray-icon cursor-pointer justify-self-center"});(0,SV.setIcon)(J,"scan-eye"),(0,SV.setIcon)(X.createEl("span",{cls:"small-icon transparent-icon margin-left-small margin-right-small"}),"move-right");let tV=m.createDiv({cls:"flex-center margin-top-small margin-bottom-small"}).createSpan({cls:"large-icon green-icon cursor-pointer justify-self-center"});(0,SV.setIcon)(tV,"play");let yV=d.createDiv({cls:"full-width flex-center margin-top-medium"}),HV=d.createDiv({cls:"full-width flex-fill margin-top-medium"}),MV=new cs(HV),lV=(Z,UV,pt,eV,wV,mt,RV)=>{let mV=yV.createEl("button",{cls:`flex-fill cursor-pointer ${pt?"margin-left-medium":""} ${eV?"margin-right-medium":""}`,text:Z});return mV.on("click","button",()=>{MV.empty(),MV.setSearchPlaceholder(Z).setActions(UV).setItems(wV).setSelectedItems(mt).setOnSelectedItemsChanged(RV).render()}),mV},rV=this.flashcardsManager.getPools().map(Z=>({text:Z,value:Z})),vV=this.flashcardsManager.getTags().map(Z=>({text:Z,value:Z})),kV=this.flashcardsManager.getFlashcards().map(Z=>({text:Z.getDefaultTitle(),value:Z.id})),pV=this.flashcardsManager.getGroups().map(Z=>({text:Z.title,value:Z.id})),XV=()=>{let Z=this.flashcardsManager.getQuizFlashcards();S.setText(Z.length.toString());let UV=0,pt=0,eV=0,wV=0;Z.forEach(mt=>{switch(this.resultsController.getCardStatus(mt.id)){case"SUCCESS":{wV++;break}case"MIDDLE":{eV++;break}case"FAILED":{pt++;break}case"EMPTY":{UV++;break}}}),k.setText(UV.toString()),U.setText(pt.toString()),q.setText(eV.toString()),L.setText(wV.toString())},ve=()=>{k.setText("0"),U.setText("0"),q.setText("0"),L.setText("0"),S.setText("0"),this.flashcardsManager.reset(),MV.empty(),MV.render()},K=[];this.jsEnabled&&K.push({icon:"settings-2",onClick:()=>this.onGroupSettingsIconClick()});let VV=lV("Groups",K,!1,!0,pV,this.flashcardsManager.selectedGroups,Z=>{this.flashcardsManager.updateSelectedGroups(Z),XV()});lV("Flashcards",[],!1,!0,kV,this.flashcardsManager.selectedFlashcards,Z=>{this.flashcardsManager.updateSelectedFlashcardsIDs(Z),XV()}),lV("Pools",[],!1,!0,rV,this.flashcardsManager.selectedPools,Z=>{this.flashcardsManager.updateSelectedPools(Z),XV()}),lV("Tags",[],!1,!1,vV,this.flashcardsManager.selectedTags,Z=>{this.flashcardsManager.updateSelectedTags(Z),XV()}),C.on("click","span",()=>{ve()}),tV.on("click","span",()=>{this._start()}),J.on("click","span",()=>{this._start(!0)}),pV.length>0&&(this.flashcardsManager.reset(),this.flashcardsManager.updateSelectedGroups(new Set([pV[0].value]))),XV(),VV.click()}};var Rl="SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//twAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAABIAABZYwAHCg4OERUYGBwfHyMmKiotMTE0ODs7P0JGRklNTVBUV1dbXl5iZWlpbHBwc3d6en6BhYWIjIyPk5aWmp2doaSoqKuvr7K2ubm9wMTEx8vLztLV1dnc3ODj5+fq7u7x9fj4/P8AAAAATGF2YzU4LjU0AAAAAAAAAAAAAAAAJAO5AAAAAAAAWWNMfKlvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7cGQAAAKBJM0FJeAAAAANIKAAARKBd3G5hoAQAAA0gwAAAJ1CFoxWjoVgmKydIKAAAwyrFY8YEMLYThKErAdAbhkNaHqOPh4zv94p733733iA8iZeRNfEB5EhoYrIl37+/pHB+cgh+D44H35d///OFDnOWUAMAAEmSFIpJtNNuWQ2oGqmIdDh0HNKXrYKimvFuWJLDsSXdh4IQLxOEuwkYUhfBbjo4Kh4kkJsHMJQE6HaOUkSU6alniTwvpkfnCDjzMSXm8dpk5gUn7n6baCBpUk47yiryRefLhopD0WMpLKWij6PpppoLNzQzN21nEkqklvzX631IU06boG9tLrN0VmJdWYo9Kq7ABp3Bl2aSyS2uSNgAuYAZ3GFdJEBDQQSebRCIEqpbhl5Nm2iJMnEipC1FfBMQB7/+3JkGAAENExX7mZgBB9jmCDAtAAMCRez+Ia0EMKSbMMO0AA6YjaHVC2Ag7jj4j10J0JQBE2fRCbCZUfRBrwHLOH9gajDYkdYSScR1hAEVBnrHkB1g+zPUYhYUKgnysEKSI+oWd/WIxb9Qun9IUY55gZaycX5w9qMeV//9g9SP5uZmX+SgxhKQbf/jeOQk/5T///4wTgT/6AI82BMho6qiIiLrv/8PxuABR9hwgOInNHG8uiDYfADeHozsolR4FAk1rUbjLJBh2DsHOPBaOQR5F50BMR7Mgm/spiKRpogZoKR+vzx/fqb/5Pug6BgzUFF8uf9Or/PGzm08/3fsQBfGrRPQW8DYF+vKiWNV9SJuUxMhLRqXzdXJxu1X/yUPs7sX2ff/6MUAif+ZtQ7nzfvEj7JWLyhmhDAMv/7cGQHgALRRteGakAAL8S7DcC0AAhw33u49QARCBhvNwrQAgNGVg1DGQw1mDlAUoJYJ+C1Q7CNHJHlc8mqOUkYkA5NcsjcTWuLhZ8hX7+QRXkkvydTWxkks5//mSZqa/uWH/cyP/5xur5z7PEf9/4AAAABAAH/twATQAAAWX/IJbAMxcIQkA/kFPf///mfoesD0JPwn5c8JoX//6ev0ACSFJpSBsQiAACSSAN///s5f3RhPjphkOM8vRmsgiw4I5Y1nl8z8zneKhvN/5nit/////8jf9iruGvI+r///BB34lIgIAYGA5AAYCgBIAAINfb8aDaQSpDupI05SHpH4T/6GyKLepDQQWipEujvQ9m3kiZGz/9k991JKKv////3//BD+JWVAWA/A/8/H/9A///gqrDq7OepHVL/+3JkCgACPiTZzj1AAEgp66/FNACLVUNwuGgAAL4YrXcC0AolePErKyMpKE+OmEr8x86Laj8eePfKDEGsC8efI/mEYnnq+cQ4sZs6n72+R376fEBn//gB4dgAACFUAAzPAACyADbAARQ0DEatf/4cocdqqQU0rJlEWoy+Y8odJZxRt////+opgXYtX6Qck39hYJf/////kwpf8iGn/JxZmAAMIP3+/27z6FIFJMHJgT2ZFOcC5sQKVgFUWSsBcFiPkEJgpn1KdHxZQgqK2D4h0opGK1fLB80N0S+vz3zhui7Vz/7/pf///9O7PUiXTJR//qf/nUWSn6/5PgAUCABAWwfAAogAAAAv+BfB/BoAuZkL8fQWoKzgv8HWSqk/6mrm6////u3zH7HHVohSMTABJwEEsMSifIcoi//7cGQIAILuX1f/PmAMLUIqPeCwAItdfUGg7iXQoIjgwBYmQPKSET1AfwRFSVM1jWakyiiiBXIBWRBYgz0fo+tjAP6Un1H/7ov/+oyGODfydZL///9SQ9q//+pIXQXKJ429bP//q//0m/oonBQA4kvnGAAAEoAV4QEH//kKbWtM1r2nIggREUxWgJQNep9YTOICYlO/9QNCI9////5UFgJESCAC6Cw16HSL+iyfipcsbStoKPYOzrzEvjEbdguuaNniITSLRVgSjQe//YGlFUz0yJP/OP//UXwugdV7Jf//50XAttf/+oZ4Q5f63////+Znv9A3DEyvyk0ib/5ZJatWslKgBgPHZuNq/Yutte9/JKXTEV/q2NrEX/ejxLq7elGdAMAAIAB4BAHyjs1LlgigdSepHSEIGUz/+3JkC4HzMF7LaDyZcCEACCAEIjgMeX0lQHaFwGiAHwAAAAAqybGmh15p2BmCmBQUaAQwLCZgMZmEgeqZuJkYpP/zwbkYLZ009tB//OaBmOaBg+QRNDudb1t//USvq//1B+QKeX9Ru/////0f/OByJr+ctYJaE+urqVr3tIpZX/alO93VN5ERb/+lHK73O/3Hm/1LAgAAAUU7yzqT5gSAFevAAjAswfExrcopI28klbojuIAsMW4uMrQ4LOwElE2pJHn/88H9FRblX6rL71+73YsAac4Ns0deyP7f/3GWbv//nBQwKIlqvydPf////U/+sxDyFZvnH/X+qj9vZ0k3nfw2ij6nonvS87/+v//+p4dQED51qVxREDxZMN7chZa028VRoIOPNx6NOWugu2YcAhxfZHICUYeJRv/7cGQUAfODX0YIPKF0IOAYAAQjAA2Zexcg8oXIfYAgAAAAACcULBqyF8wOoL9Wo8GchprZwx93ZH1r+TLUSaIYB1DIkpsytzj+pH/+sTi/Rf/X0TgnoEUZFV9Q/kt///9/UUv+ovBkcln+ZOUu84oa+I9Nav7bjf//2oShRdtCa9xx6v+p2fpIfzn/YuUAEAIm8eEDSIcARiAFyymfUQh40uHUap3ClkbtPqqsDBOY74JyAKiIVGAwIhSyYdpeNbf0jwdUOBbSJftq9f8oWSKIrYFM40mfWpJvUn//UN/1fWv3XOFIFEyNfnyW//1f/6bf1LNBHpv9Rxap7f/qr6b0VXXZq9NZnTdqqfVnvbqt+7U2joCuq3+pVQCK4AG8pcsoaH5dVoEPxGRRPDnYdjErcAQgJnniDQ//+3JkD40CcVtHMBtpcCQgGCwAAAAJEW0YQGmlwJoAHyQAAABIdUsCRM86H/UwsRR6zbv0e1be/iCgBgj9l/v//WXPX//qWC9/Y9////9f/rE+9LDMSJRFlVTzSJVMbemiu/nmqvRvap3s72cl3Ev/92RR7/cz40WN2bzdwgdT4W4EN4Tby3T0kis35Cuo2w4TriMOibGrxsil/1MM4o86eq9XrX+vxNAH9B//3//qO+3//Ohm/u3////2/9IZ26Z4RlgFQDiWoQ6QXDzKXrb620T6SjtWY/pV92jaINqLj9f/pU6J+lXgPVhlqiosKS3KlTKDHt5uaq5Z1ILRcAucZmBODdhUwkilvfUpKPoo9RR2//9XQKQAlH2X6t9fr7fl7t//5WKX85v63/1fr+r/0SQNU3k3KNnFYP/7cGQpjfJtWsUIO2ngJCAHmAAjAAkhbRRBaaeAAAA0gAAABKuUeK1sqtslums7K8q6R/+SrO/g1niOHa//z0ty2Ghk9qD9gAOC2N1FZxEOu4c7Rbwp3INDQB0hShh1PXR/1edFHcyR+r1r/pdx9AkTT/17ev/mr9f+1GjlYv/0F6/9v/V99Xt5t6ehjQIAACkYQCEzI3dp4mb5c7SBBbGe9d/eURC/yLsESqz5++lLoQHQh1jrqq1o7f9fQNn+xpv2r/+///+VHf9v3TKv5VykJAhuWNEMXVXtTBVJ0R3Azn9fvU2IpszjctvZa7mfSgfPMkSUpNZvTZ9ugFjJ0+3//0///1L/9BRe5Ytr+pXcAAGkABWu9kRpDcZahdASiKtm7y0jCRbdOGcupmIzn6Tjh4OMueOb2XX/+3JkVoDyGkHG6DhR4AAADSAAAAEH4QcfpuFQQAAANIAAAAT7Xt9wj9NNdOn/19f+nyoz93dpzzdRtDcT2tvaqB12qVeYB9WrIwG5pomu9SyUCKgNiMVujNdhoWx4YP7c1J95yr+vmhFW/002tT/vb17a3okqXoWLFqUqYfJqtnLGPY56HVVWmkxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVWAgAAAtKgF1LZV3JQg6WZBpx/Xe5cAfA2AhhetzPbTwgCspDsiW3a03/q92YgFswYFt7XIpVNJn3fk21lU/11+s4klsRS21PP73LV2pZpx41/G41UshO/lPTmt6hkE/IyvBKr1BD7eyGuOr8M0iyji8In2Vdvf13W9G2w2F3vh4OoiGn/fd53ffCVrzxNreeh9bv/7cGSgBfI0QcTJuDwQAAANIAAAAQkRBRCqBPRAAAA0gAAABHT/rJbkd37FpvTl0beyn8d58c87Gc27zvddm1mernvjrv8wDZp2mfInp/noTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUlxDn2Xpa5Z1uACyvO46z72pHxBe9Mv5/IjiJ7XgczQ6raXFMpB8Vy39iLacnXcFhp9kV+C7m9TfuEHt+Zv0ILylVSqpDxyOblwVmdyqTNzUPbvbKX+qiy0sjDImdvGMldWPupcUumdphxgsCZwhsABWkRh+WNAWrNcf5TJNX+a1Z1rWS9SZcFynVyaqrFf8kbeIAmQY4mPMIQsG1DVwPZB1CYV6YYVVUMBvENaTDyILX9WnwciRkyqSP7/+3Jk04DyOSdE4iVFMAAADSAAAAEO3YkEDCzVAAAANIAAAAQ5mW7OTn07xBmo2im0riejXt0WuUrqUWNnlIZ+2S+RZmi7qIaBikiyyNcydUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUhAAAA2qmpvfIHAvuaB6Pln/yppbzc0VJLO3q3sEpa3HLRLg6d0VdrA/6kl7blLJXOEW1sYTMXIzq6GPzh9zwIVmx3v0hLey+tHLF0jxffTZfNcV9JFw7Tf0OWpmlvaouLiFnVG+iB5TKkvqYOLhFe9RW7HvuGEfp3G26CJr8Z4YyW5hvoJcxyMU3aU4d0SJ2qhUp1OYWRS5CG/FAY93sdCDSJqVFjqlAlNMRizaLkaHqwxgThA8wRNVIYPHmKSHopTjaQt2E48f/7cGTogPNyX8EAeUHiAAANIAAAAQ8Jiwkh4QlIAAA0gAAABPvTLVFxNwSU1PZZUKSHMToK26szcsPS42JYxTxqY+lOSEEU+kgG3GMGRYaqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqgSABrsfhFI/KdBuDFC61y5W5jjW2gjahqtzvpAiIPJt0abA4Gwdd1V5IkADwyc8+IAQ299rckhsdetbWEodGdpSw6jBHm3j4gsNdPPr0RrFcrZIuOmv/ocnF+9NYu3/dQeTT3bRXZY+Jr+stnirn5eR0gRhAiMbTB8Rm4R88bSEIBglm6LmlRUI8CEx3mZqh7JEGNi2fMdZuTQgG10EEkXgxNVo+qlUUA0fM/UoLEm15m2eakCZbbqbo3IA0Sp/9EhogUHOnZTYGov/+3Jk7ofzh13BQThDMgAADSAAAAEQSX7+BGEJQAAANIAAAARuovf2QazN7r9MeiL7+ZepRs1lTfStHUm302NOyz4h8pvNdm7uWstQ1vOgPkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqKBcAQARBSUqyoGFMbLH8ioZdLY1lAUZZ/8AhMpNZQrUBJsu8Aj//+hS//Y/4THG1VeNSbqtSyh9arONxVJsmqqTMd/qxmNS8tmarCq6wMzffzVWZtV4GARMoVYQS6Y4qAoUjwZrF6ROkQl7kbq4xHIeRSQCuYH7jcBVHkuGag0SioQh44XUTSVLDI0NCMkNuaJSIqmkqsqRCEFgPB0QEaBthvNvGmUSERAqDwPDZAjUXUXOHF2HsoiERDIyULqJpFf/7cGTwAfOaYEAo2EMwAAANIAAAARBRgvqkzW2IAAA0gAAABDgfD5RGw9lEhLLJpJpKlio0NF0DbD4yv/JRkqsdAzD4vN7u25s1JTVH/VSrTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3Jk6wDy/11B6GkakgAADSAAAAERoUamBiTVyAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cmR0j/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//twZHUP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3JkdI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cGR1D/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BkdQ/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tyZHSP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";async function Lr(){let T=atob(Rl),y=new Uint8Array(T.length);for(let S=0;S<T.length;S++)y[S]=T.charCodeAt(S);let d=y.buffer,x=new Uint8Array(d).buffer;return await new AudioContext().decodeAudioData(x)}var xs=require("obsidian");var Or=require("obsidian"),tn=class{constructor(y,d,m){this.centerContainer=y,this.bottomContainer=d,this.buttonsContainer=m}},ps=class extends cV{constructor(){super(...arguments);this.previewMode=!1}setPreviewMode(d){return this.previewMode=d,this}setQuestion(d){return this.question=d,this}setQuestionsCount(d){return this.questionsCount=d,this}setCurrentQuestionIndex(d){return this.currentQuestionIndex=d,this}renderBaseQuestionLayout(){let d=this.container;d.createDiv({cls:"margin-top-small"}).createEl("h5",{cls:"secondary-text disable-spacing",text:`${this.currentQuestionIndex} / ${this.questionsCount}`});let m=d.createDiv({cls:"full-width flex-center-column padding-bottom-large padding-top-large"}),x=d.createDiv({cls:`full-width flex-space-between-column ${Or.Platform.isMobile?"margin-bottom-large":""}`}),C=x.createDiv({cls:"full-width flex-space-between flex-wrap"}),S=C.createDiv({cls:"full-width flex-space-between"});return this.previewMode?(this.previousButton=S.createEl("button",{text:"Previous",cls:"flex-fill margin-right-medium button primary-border padding-medium"}),this.nextButton=S.createEl("button",{text:"Next",cls:"flex-fill button primary-border padding-medium"})):(this.skipButton=S.createEl("button",{text:"Skip",cls:"flex-fill margin-right-medium button red-border padding-medium"}),this.answerButton=S.createEl("button",{text:"Next",cls:"flex-fill button primary-border padding-medium"})),new tn(m,x,C)}getAnswer(){return new Promise(async(d,m)=>{await this.onAnswer(d,m),this.skipButton.on("click","button",async()=>{d(null)}),this.answerButton.on("click","button",async()=>{d(await this.setAnswer())})})}getPreview(){return new Promise((d,m)=>{this.nextButton.on("click","button",()=>{d(!0)}),this.previousButton.on("click","button",()=>{d(!1)})})}};var ms=require("obsidian"),kt=class extends ps{render(){let d=this.renderBaseQuestionLayout(),m=this.question,x=m.side==="left"?m.flashcard.question.left:m.flashcard.question.right,C=m.side==="left"?m.flashcard.question.right:m.flashcard.question.left;this.previewMode?this._renderPreview(d,x,C):this._renderNormal(d,x)}async onAnswer(d,m){this.textarea.on("keydown","textarea",x=>{x.key=="Enter"&&x.shiftKey&&(x.preventDefault(),d(this.textarea.value))})}setAnswer(){return new Promise((d,m)=>{d(this.textarea.value)})}_renderNormal(d,m){this._renderText(d.centerContainer,m),this.textarea=createEl("textarea",{cls:"margin-medium padding-medium full-width medium-large-text container-style padding-top-small disable-outline always-primary-border static-height"}),d.bottomContainer.prepend(this.textarea),this.textarea.focus(),ms.Platform.isMobile||this.textarea.setAttribute("placeholder","Press Shift + Enter to submit answer")}_renderPreview(d,m,x){let C=d.centerContainer.createDiv({cls:"full-width flex-center-column static-height"});this._renderText(C,m),C.createEl("hr",{cls:"full-width margin-top-medium margin-bottom-medium"}),this._renderText(C,x)}_renderText(d,m){let x=d.createDiv({cls:"flex-center-column"});if(x.createEl("h2",{cls:"only-top-margin",text:m[0]}),m.length>1){let C=x.createEl("h4",{cls:"only-top-margin normal-text flex-center flex-wrap"});for(let S=1;S<m.length;S++)if(C.createEl("span",{text:m[S]}),S<m.length-1){let D=C.createEl("span",{cls:"small-icon gray-icon"});(0,ms.setIcon)(D,"dot")}}}};var As=class extends kt{render(){let d=this.renderBaseQuestionLayout(),m=this.question,x=m.side==="left"?m.flashcard.question.left:m.flashcard.question.right,C=m.side==="left"?m.flashcard.question.right:m.flashcard.question.left,S=d.centerContainer.createDiv({cls:"full-width flex-center-column static-height"});if(this._renderText(S,x),S.createEl("hr",{cls:"full-width margin-top-medium margin-bottom-medium"}),this.answerContainer=S.createDiv(),this.previewMode||this.answerContainer.classList.add("manual-question-hide"),this._renderText(this.answerContainer,C),!this.previewMode){let D=createDiv({cls:"full-width flex-space-between"});d.buttonsContainer.prepend(D),this.failedButton=D.createEl("button",{text:"Failed",cls:"flex-fill margin-right-medium button red-border padding-medium"}),this.failedButton.hide(),this.successButton=D.createEl("button",{text:"Success",cls:"flex-fill button green-border padding-medium"}),this.successButton.hide(),this.answerButton.setText("Show answer")}}async onAnswer(d,m){return Promise.resolve(void 0)}async setAnswer(){return new Promise((d,m)=>{this.answerContainer.classList.remove("manual-question-hide"),this.failedButton.show(),this.successButton.show(),this.skipButton.hide(),this.answerButton.hide(),this.failedButton.on("click","button",()=>{d(!1)}),this.successButton.on("click","button",()=>{d(!0)})})}};var bs=class extends FV{constructor(){super(...arguments);this.previewMode=!1;this.allowFullscreen=!1;this.soundFeedback=!1;this.vibrateFeedback=!1}setResultsController(d){return this.resultsController=d,this}setQuizArguments(d){return this.quizArguments=d,this}setOnResult(d){return this.onResult=d,this}setPreviewMode(d){return this.previewMode=d,this}setSoundFeedback(d){return this.soundFeedback=d,this}setVibrateFeedback(d){return this.vibrateFeedback=d,this}setAllowFullscreen(d){return this.allowFullscreen=d,this}render(){let d=new ds(this.resultsController,this.quizArguments);if(xs.Platform.isMobile&&this.allowFullscreen){let C=this.container.createSpan({cls:"large-icon absolute-top-right cursor-pointer"});(0,xs.setIcon)(C,"shrink"),C.on("click","span",()=>{document.exitFullscreen().then(()=>{m.classList.remove("default-background"),C.hide()})}),C.hide(),this.container.requestFullscreen().then(()=>{m.classList.add("default-background"),C.show()})}let m=this.container.createDiv({cls:"full-height flex-space-between-column"}),x=d.getQuestions();this.renderQuestions(m,x).then(()=>{let C=d.calculateResult(x);document.exitFullscreen().then(()=>{}).catch(()=>{}).finally(()=>{this.onResult(this.previewMode,C)})}).catch(()=>{})}async renderQuestions(d,m){let x=()=>{};if(this.soundFeedback){let D=new AudioContext,k=D.createGain();k.gain.value=.2,k.connect(D.destination);let U=await Lr();x=()=>{let q=D.createBufferSource();q.connect(k),q.buffer=U,q.start(0)}}let C=()=>{};this.vibrateFeedback&&(C=()=>{navigator.vibrate(100)});let S=d.createDiv({cls:"full-height full-width flex-space-between-column padding-left-medium padding-right-medium"});for(let D=0;D<m.length;D++){let k=this.renderQuestion(S,m[D],m.length,D+1);this.previewMode?(D==0?k.previousButton.hide():k.previousButton.show(),D==m.length-1?k.nextButton.setText("Finish"):k.nextButton.setText("Next"),await k.getPreview()||(D>0?D-=2:D=-1)):(m[D].setAnswer(await k.getAnswer()),this.soundFeedback&&x(),this.vibrateFeedback&&C()),S.empty()}}renderQuestion(d,m,x,C){let S;switch(m.flashcard.type){case"input":{S=new kt(d);break}case"manual":{S=new As(d);break}default:{S=new kt(d);break}}return S.setQuestion(m).setQuestionsCount(x).setCurrentQuestionIndex(C).setPreviewMode(this.previewMode),S.render(),S}};var ys=require("obsidian");var vs=class extends FV{setQuizResults(d){return this.quizResults=d,this}setResultsController(d){return this.resultsController=d,this}setOnContinue(d){return this.onContinue=d,this}render(){let d=this.container.createDiv({cls:"full-width full-height flex-space-between-column "}),m=this.quizResults.questions.map(L=>L.result).reduce((L,R)=>L+(R?1:0),0);d.createEl("h4",{cls:"normal-text disable-spacing",text:`${m} / ${this.quizResults.questions.length}`});let x=d.createDiv({cls:"flex-fill full-width margin-medium padding-left-medium padding-bottom-small padding-right-medium static-height overflow-y container-style-border"}),C=this.quizResults.questions.map(L=>({question:L,score:this.resultsController.getCardScore(L.flashcard.id)})),S=(L,R)=>L.score<R.score?-1:L.score>R.score?1:0,D=C.filter(L=>L.question.result).sort(S);C=C.filter(L=>!L.question.result).sort(S).concat(D);for(let L=0;L<C.length;L++){let R=C[L].question,G=C[L].score,X=x.createDiv({cls:`flex-space-between ${L==0?"":"margin-top-large"}`}),J=X.createDiv({cls:"flex-start"}),oV=J.createSpan({cls:`medium-icon ${R.result?"green-icon":"red-icon"} margin-right-medium`});(0,ys.setIcon)(oV,R.result?"badge-check":"badge-alert");let tV=R.side==="left"?R.flashcard.question.left:R.flashcard.question.right,yV=R.side==="left"?R.flashcard.question.right:R.flashcard.question.left;if(J.createEl("h2",{cls:"normal-text flex-start",text:tV[0]}),tV.length>1){let lV=x.createDiv({cls:"flex-start flex-wrap margin-bottom-small normal-text"});for(let rV=1;rV<tV.length;rV++)if(lV.createEl("h4",{cls:"normal-text disable-spacing",text:tV[rV]}),rV<tV.length-1){let vV=lV.createEl("span",{cls:"small-icon gray-icon"});(0,ys.setIcon)(vV,"dot")}}let HV="warning-text";G<this.resultsController.lowestCardThreshold?HV="error-text":G>this.resultsController.successCardThreshold&&(HV="success-text"),X.createEl("h4",{text:`	${Math.round(G*100)}%`,cls:HV});let MV=x.createEl("div",{cls:"flex-start flex-wrap margin-bottom-small secondary-text"});for(let lV=0;lV<yV.length;lV++)if(MV.createEl("h5",{cls:"secondary-text disable-spacing",text:yV[lV]}),lV<yV.length-1){let rV=MV.createEl("span",{cls:"small-icon transparent-icon"});(0,ys.setIcon)(rV,"dot")}R.flashcard.type=="input"&&x.createEl("h5",{cls:`disable-spacing ${R.answer?"normal-text":"warning-text"}`,text:R.answer?R.answer:"..."})}d.createDiv({cls:"full-width flex-end"}).createEl("button",{text:"Continue",cls:"flex-fill button primary-border padding-medium"}).on("click","button",()=>{this.onContinue()})}};var ws=require("obsidian");var _s=class extends cV{constructor(){super(...arguments);this.searchPlaceholder=""}setSearchPlaceholder(d){return this.searchPlaceholder=d,this}setItems(d){return this.items=d,this}setActions(d){return this.actions=d,this}empty(){this.selectListContainer&&this.selectListContainer.remove()}render(){this.empty(),this.selectListContainer=this.container.createDiv({cls:"full-height select-list-container"});let d=this.selectListContainer.createDiv({cls:"select-list-input-container margin-bottom-medium"}),m=d.createDiv({cls:"flex-center"});for(let G of this.actions){if(G.side!=0)continue;let X=m.createSpan({cls:"margin-right-medium flex-center small-icon cursor-pointer"});(0,ws.setIcon)(X,G.icon),X.on("click","span",G.onClick)}let x=d.createEl("input",{cls:"flex-fill",type:"text",placeholder:this.searchPlaceholder}),C=d.createDiv({cls:"flex-center"});for(let G of this.actions){if(G.side!=1)continue;let X=C.createSpan({cls:"margin-left-medium flex-center small-icon cursor-pointer"});(0,ws.setIcon)(X,G.icon),X.on("click","span",G.onClick)}let S=this.selectListContainer.createDiv({cls:"flex-fill static-height"}).createDiv({cls:"container-style search-list-items-container"}),D=20,k=0,U=this.items,q=()=>{for(let G of U.slice(k,k+D)){let J=S.createDiv({cls:"search-list-item cursor-pointer padding-medium",text:G.text}).createDiv({cls:"flex-center"});for(let oV of G.actions){let tV=J.createSpan({cls:"margin-left-medium icon-button "+oV.classes.join(" ")});(0,ws.setIcon)(tV,oV.icon),tV.on("click","span",oV.onClick)}}k+=D},L=()=>{S.empty(),S.scrollTo(0,0),k=0,q()};S.on("scroll","div",()=>{S.scrollTop+S.offsetHeight>S.scrollHeight*.95&&q()});let R=null;x.on("input","input",()=>{R&&clearTimeout(R),R=setTimeout(()=>{let G=x.value?x.value:"";G=G.toLocaleLowerCase().trim(),U=this.items.filter(X=>X.text.toLocaleLowerCase().includes(G)),L(),R=null},500)}),q()}};var Cs=class extends FV{setGroups(d){return this.groups=d,this}setOnBack(d){return this.onBack=d,this}setOnCreate(d){return this.onCreate=d,this}setOnUpdate(d){return this.onUpdate=d,this}setOnDelete(d){return this.onDelete=d,this}render(){let d=this.container.createDiv({cls:"full-width"});new _s(d).setSearchPlaceholder("Groups").setActions([{side:0,icon:"arrow-big-left-dash",classes:[],onClick:this.onBack},{side:1,icon:"plus",classes:[],onClick:this.onCreate}]).setItems(this.groups.map(m=>({text:m.title,actions:[{icon:"square-pen",classes:["yellow-icon"],onClick:()=>{this.onUpdate(m.id)}},{icon:"delete",classes:["red-icon"],onClick:()=>{this.onDelete(m.id)}}]}))).render()}};var en=require("obsidian"),Ss=class extends FV{constructor(){super(...arguments);this.title="";this.condition=""}setGroupsController(d){return this.groupsController=d,this}setTitle(d){return this.title=d,this}setCondition(d){return this.condition=d,this}setOnBack(d){return this.onBack=d,this}setOnCreate(d){return this.onCreate=d,this}render(){let d=this.container.createDiv({cls:"full-width"}),m=d.createDiv({cls:"full-width flex-center margin-bottom-medium"}),x=m.createSpan({cls:"margin-right-medium small-icon flex-center cursor-pointer"});(0,en.setIcon)(x,"arrow-big-left-dash");let C=m.createEl("input",{cls:"flex-fill",type:"text",value:this.title,placeholder:"Title"}),S=m.createSpan({cls:"margin-left-medium small-icon flex-center cursor-pointer"});(0,en.setIcon)(S,"check");let D=d.createEl("textarea",{cls:"padding-medium full-width medium-large-text container-style disable-outline static-height",text:this.condition,attr:{placeholder:"Condition"}});x.on("click","span",()=>{this.onBack()}),S.on("click","span",()=>{this.onCreate(C.value,D.value)})}};var Ut=class{constructor(y,d,m,x){this.jsEnabled=y,this.allowFullscreen=d,this.soundFeedback=m,this.vibrateFeedback=x}},jt=class extends cV{constructor(){super(...arguments);this.updateTitle=()=>{}}setDataController(d){return this.dataController=d,this}setResultsController(d){return this.resultsController=d,this}setGroupsController(d){return this.groupsController=d,this}setFlashcardsManager(d){return this.flashcardsManager=d,this}setQuizViewSettings(d){return this.quizViewSettings=d,this}setUpdateTitle(d){return this.updateTitle=d,this}render(){let d=this.container.createDiv({cls:"full-width full-height"}),m=new fs(d).setJsEnabled(this.quizViewSettings.jsEnabled).setResultsController(this.resultsController).setGroupsController(this.groupsController).setFlashcardsManager(this.flashcardsManager),x=new bs(d).setResultsController(this.resultsController).setAllowFullscreen(this.quizViewSettings.allowFullscreen).setSoundFeedback(this.quizViewSettings.soundFeedback).setVibrateFeedback(this.quizViewSettings.vibrateFeedback),C=new vs(d).setResultsController(this.resultsController);m.setOnQuizStart((U,q)=>{d.empty(),m.setQuestionsCount(q.questionsCount),x.setPreviewMode(U).setQuizArguments(q).render()}),x.setOnResult(async(U,q)=>{d.empty(),U?m.render():(await this.resultsController.appendQuizResult(q),C.setQuizResults(q).render())}),C.setOnContinue(()=>{d.empty(),m.render()});let S=new Cs(d),D=new Ss(d).setGroupsController(this.groupsController),k=()=>{this.updateTitle("Groups settings"),d.empty(),S.setGroups(this.groupsController.getUserGroups()).render()};this.quizViewSettings.jsEnabled&&(m.setOnGroupSettingsIconClick(k),D.setOnBack(k),S.setOnBack(()=>{this.updateTitle("Quiz"),d.empty(),m.render()}).setOnCreate(()=>{d.empty(),D.setTitle("").setCondition("").setOnCreate(async(U,q)=>{await this.groupsController.addGroup(U,q),k()}).render()}).setOnUpdate(U=>{let q=this.groupsController.getGroup(U);q&&(d.empty(),D.setTitle(q.title).setCondition(q.condition).setOnCreate(async(L,R)=>{await this.groupsController.updateGroup(q.id,L,R),k()}).render())}).setOnDelete(async U=>{await this.groupsController.removeGroup(U),k()})),this.updateTitle("Quiz"),m.render()}};var Ms=class extends Br.Modal{constructor(d,m,x){super(d);this.plugin=m,this.baseTitle="Quiz",this.flashcardsManager=new ut().setFlashcards(x)}onOpen(){let{contentEl:d}=this;this.start(d)}onClose(){let{contentEl:d}=this;d.empty()}async start(d){this.modalEl.classList.add("simple-quiz"),this.modalEl.classList.add("quiz-modal-container"),d.classList.add("full-width"),this.setTitle(this.baseTitle);let m=new Ut(this.plugin.settings.enableJS,!1,this.plugin.settings.soundFeedback,this.plugin.settings.vibrateFeedback);new jt(d).setDataController(this.plugin.dataController).setResultsController(this.plugin.resultsController).setGroupsController(this.plugin.groupsController).setFlashcardsManager(this.flashcardsManager).setQuizViewSettings(m).render()}};var tt=require("obsidian");function zr(T,y){let d=[];for(let m of y){let x=T.getAbstractFileByPath(m);x instanceof tt.TFile&&d.push(x),x instanceof tt.TFolder&&(d=[...d,...zr(T,x.children.map(C=>C.path))])}return d}var ks=class extends gt{async load(){this.app=this.plugin.app,this.pluginFolder=(0,tt.normalizePath)(this.app.vault.configDir+"/plugins/simple-quiz"),this.groupsFile=(0,tt.normalizePath)(this.pluginFolder+"/groups.json"),this.resultsFile=(0,tt.normalizePath)(this.pluginFolder+"/results.json")}async getAllData(d=null){let m=null;d&&(d=d.map(C=>C.trim()).filter(C=>C.length>0).map(C=>(0,tt.normalizePath)(C)),d.length>0&&(m=zr(this.app.vault,d))),m||(m=this.app.vault.getFiles());let x=new dt([],[]);for(let C of m)x.append(await this.plugin.parser.parseFile(await this.app.vault.read(C)));return x}async loadGroups(){return await this.loadFile(this.groupsFile)}async saveGroups(d){await this.saveFile(this.groupsFile,d)}async loadResultsObject(){return await this.loadFile(this.resultsFile)}async saveResultsObject(d){await this.saveFile(this.resultsFile,d)}async saveFile(d,m){await this.app.vault.adapter.write(d,JSON.stringify(m))}async loadFile(d){try{return JSON.parse(await this.app.vault.adapter.read(d))}catch(m){}return null}};var Ds=require("obsidian");var Nr=require("obsidian"),sn=class{constructor(y,d,m,x,C){this.icon=y,this.primaryTitle=d,this.secondaryTitle=m,this.actionsContainer=x,this.container=C}},JV=class extends cV{setOnOpen(d){return this.onOpen=d,this}getBaseContainer(d=!1,m=!1,x=!1,C=!1,S=!1,D=!1){let k=this.container.createDiv({cls:"simple-quiz"}).createDiv({cls:d?"markdown-base-block-minify":"markdown-base-block"}),U=k.createDiv({cls:m?"flex-center":"markdown-base-block-header-container"}),q=U.createDiv({cls:"markdown-base-block-header-container-title"}),L=q.createSpan({cls:"medium-icon"}),R=q.createEl("h2",{cls:"margin-left-medium",text:""}),G=q.createEl("h2",{cls:"secondary-text margin-left-medium"}),X=U.createDiv({cls:"markdown-base-block-header-actions-container"});return x&&L.remove(),C&&R.remove(),S&&G.remove(),D&&X.remove(),new sn(L,R,G,X,k)}createStartIcon(d,m){let x=d.createSpan({cls:"large-icon green-icon cursor-pointer margin-left-large"});(0,Nr.setIcon)(x,"play"),x.on("click","span",()=>{m()})}};var ye=class extends JV{constructor(){super(...arguments);this.flashcards=[];this.error=null;this.minify=!1}setFlashcards(d){return this.flashcards=d,this}setError(d){return this.error=d,this}setMinify(d){return this.minify=d,this}render(){let d=new ut().setFlashcards(this.flashcards),m=this.getBaseContainer(this.minify,this.minify,this.minify,this.minify,this.minify,!1);if(this.minify||(m.primaryTitle.setText("Flashcards"),(0,Ds.setIcon)(m.icon,"gallery-horizontal-end")),this.error){m.container.createEl("h3",{text:this.error,cls:"error-text"});return}this.minify||(this.createStartIcon(m.actionsContainer,()=>{this.onOpen()}),m.secondaryTitle.setText(d.getTotalCount().toString()));let x=(C,S,D,k)=>{let U=m.container.createDiv({cls:"card-placeholder-data"}),q=U.createSpan({cls:"medium-icon"});(0,Ds.setIcon)(q,C),U.createEl("h4",{cls:"margin-left-medium",text:S}),U.createEl("h4",{cls:"margin-left-small secondary-text",text:D}),U.createEl("h4",{cls:"margin-left-small secondary-text",text:k})};if(!this.minify){if(d.getPools().length>0){let C="["+d.getPools().slice(0,3).join(", ")+(d.getPools().length>3?", ...":"")+"]";x("group","Pools",d.getPools().length.toString(),C)}if(d.getTags().length>0){let C="["+d.getTags().slice(0,3).join(", ")+(d.getTags().length>3?", ...":"")+"]";x("tag","Tags",d.getTags().length.toString(),C)}}if(this.minify){let C=(S,D)=>{let k=m.actionsContainer.createSpan({cls:"medium-icon margin-left-medium"});(0,Ds.setIcon)(k,S),m.actionsContainer.createEl("h2",{cls:"margin-left-small margin-right-medium",text:D})};C("gallery-horizontal-end",d.getTotalCount().toString()),C("group",d.getPools().length.toString()),C("tags",d.getTags().length.toString())}}};var nn=require("obsidian");var Qr=require("obsidian"),Ts=class extends cV{setWeekStreak(d){return this.weekStreak=d,this}render(){let d=this.container.createDiv({cls:"flex-space-evenly"});for(let m of this.weekStreak.days){let x=d.createDiv({cls:"flex-center-column"}),C="streak-day-icon margin-bottom-small",S="";switch(m.status){case 0:{C+=" red-icon",S="circle";break}case 1:{C+=" green-icon",S+="circle-check-big";break}case 2:{C+=" yellow-icon",S+="circle-dot-dashed";break}case 3:{C+=" gray-icon",S="circle-dashed";break}}let D=x.createSpan({cls:C});(0,Qr.setIcon)(D,S),x.createDiv({cls:"streak-day-title",text:m.day.substring(0,3)})}}};var Ps=class{constructor(){this.minify=!1;this.hideCounters=!1}},Es=class extends JV{constructor(){super(...arguments);this.showStartButton=!1;this.sources=null;this.minify=!1;this.hideCounters=!1;this.hideCharts=!1}setResultsController(d){return this.resultsController=d,this}setDataController(d){return this.dataController=d,this}setSettings(d){return this.minify=d.minify,this.hideCounters=d.hideCounters,this}render(){if(!this.resultsController.enabled)return;let d=this.resultsController.getStatistics();if(!d)return;let m=this.getBaseContainer(this.minify,this.minify,this.minify,this.minify,this.minify,this.hideCounters);m.primaryTitle.setText("Today"),(0,nn.setIcon)(m.icon,"chart-column-big");let x=(C,S)=>{let D=m.actionsContainer.createSpan({cls:"medium-icon margin-left-medium"});(0,nn.setIcon)(D,C),m.actionsContainer.createEl("h2",{cls:"margin-left-small margin-right-medium",text:S})};this.hideCounters||(x("calendar-check-2",d.today.streak.toString()),x("gallery-horizontal-end",d.today.cardsToday.toString()),x("dices",d.today.quizzesToday.toString())),this.minify||this.createStartIcon(m.actionsContainer,()=>{this.onOpen()}),new Ts(m.container.createDiv({cls:"margin-top-large margin-bottom-large"})).setWeekStreak(d.week).render()}};var Hr=require("obsidian");var Is=class{constructor(){this.sources=null;this.hideTitle=!1}},Fs=class extends JV{setDataController(d){return this.dataController=d,this}setResultsController(d){return this.resultsController=d,this}setGroupsController(d){return this.groupsController=d,this}setParserResult(d){return this.parserResult=d,this}setMarkdownQuizViewSettings(d){return this.markdownQuizViewSettings=d,this}setQuizViewSettings(d){return this.quizViewSettings=d,this}render(){let d=new ut;d.setFlashcards(this.parserResult.flashcards);let m=this.getBaseContainer(!1,!1,this.markdownQuizViewSettings.hideTitle,this.markdownQuizViewSettings.hideTitle,this.markdownQuizViewSettings.hideTitle,this.markdownQuizViewSettings.hideTitle);this.markdownQuizViewSettings.hideTitle||(m.primaryTitle.setText("Quiz"),(0,Hr.setIcon)(m.icon,"play")),new jt(m.container).setDataController(this.dataController).setResultsController(this.resultsController).setGroupsController(this.groupsController).setFlashcardsManager(d).setQuizViewSettings(this.quizViewSettings).render()}};var Ls=class extends gt{constructor(){super(...arguments);this.defaultGroups=[];this.userGroups={}}async load(){this.resultsController=this.plugin.resultsController,this.dataController=this.plugin.dataController,await this._load()}getGroups(d){return this._updateDefaultGroups(d),[...this.defaultGroups,...this._loadFlashcardsIDs(Object.values(this.userGroups),d)]}getUserGroups(){return Object.values(this.userGroups)}getGroup(d){return this.userGroups.hasOwnProperty(d)?this.userGroups[d]:null}async addGroup(d,m){let x=new Dt(d,m);this.userGroups[x.id]=x,await this._save()}async updateGroup(d,m,x){this.userGroups.hasOwnProperty(d)&&(this.userGroups[d].title=m,this.userGroups[d].condition=x,await this._save())}async removeGroup(d){this.userGroups.hasOwnProperty(d)&&(delete this.userGroups[d],await this._save())}_updateDefaultGroups(d){if(this.resultsController.enabled){let m=[],x=[],C=[],S=[];if(d){let D=d.map(k=>k.id);m=this.resultsController.getLastFlashcardsIDs().filter(k=>D.includes(k)),D.forEach(k=>{switch(this.resultsController.getCardStatus(k)){case"FAILED":{x.push(k);break}case"MIDDLE":{C.push(k);break}case"SUCCESS":{S.push(k);break}}})}else m=this.resultsController.getLastFlashcardsIDs(),x=this.resultsController.getFlashcardsIDsByStatus("FAILED"),C=this.resultsController.getFlashcardsIDsByStatus("MIDDLE"),S=this.resultsController.getFlashcardsIDsByStatus("SUCCESS");this.defaultGroups=[new Dt("Last quiz","",m),new Dt("Failed score","",x),new Dt("Middle score","",C),new Dt("Success score","",S)]}}_loadFlashcardsIDs(d,m){let x=m.map(C=>Object.assign({score:this.resultsController.getCardScore(C.id),status:this.resultsController.getCardStatus(C.id)},C));return d.map(C=>(C.flashcardsIDs=x.filter(S=>this._calculateCondition((" "+C.condition).slice(1),S)).map(S=>S.id),C))}_calculateCondition(d,m){let x=null;do x=/(\((?:\(??[^\(]*?\)))/.exec(d),x&&(d=d.substring(0,x.index)+" "+this._calculateCondition(x[0].substring(1,x[0].length-1),m).toString()+" "+d.substring(x[0].length));while(x!=null);let C=null,S=null;do{let D,k=/(\s(or|and)\s)(?=[^"]*(?:"[^"]*"[^"]*)*$)/ig.exec(d);k?(S=k[0].trim(),D=d.substring(0,k.index).trim(),d=d.substring(k.index+k[0].length).trim()):D=d;let U,q,L=/(\s(in|>|>=|<|<=|==)\s)(?=[^"]*(?:"[^"]*"[^"]*)*$)/ig.exec(D);if(L)switch(U=Rs(D.substring(0,L.index).trim(),m),q=Rs(D.substring(L.index+L[0].length).trim(),m),L[0].trim()){case"in":{U=U.includes(q);break}case">":{U=U>q;break}case">=":{U=U>=q;break}case"<":{U=U<q;break}case"<=":{U=U<=q;break}case"==":{U=U==q;break}}else U=Rs(D,m);if(C==null)C=Boolean(U);else switch(S){case"and":{C=C&&Boolean(U);break}case"or":{C=C||Boolean(U);break}}k||(S=null)}while(S!=null);return Boolean(C)}async _save(){await this.dataController.saveGroups(this.userGroups)}async _load(){this.userGroups={};let d=await this.dataController.loadGroups();d&&(this.userGroups=d)}},Dt=class{constructor(y,d,m=[]){this.id="id:"+rs(y),this.title=y,this.condition=d,this.flashcardsIDs=m}};function Rs(T,y){return T[0]=="["&&T[T.length-1]=="]"?T.substring(1,T.length-1).split(",").map(d=>Rs(d.trim(),y)):Ir(T)?Number(T):/(true|false)/.test(T)?T=="true":(T[0]=="'"||T[0]=='"')&&(T[T.length-1]=="'"||T[T.length-1]=='"')?T.substring(1,T.length-1):y.hasOwnProperty(T)?y[T]:null}var jr=require("obsidian");var an=Ur().Chart,Os=class{constructor(){this.sources=null;this.minify=!1}},Bs=class extends JV{constructor(){super(...arguments);this.showStartButton=!1;this.sources=null;this.minify=!1}setResultsController(d){return this.resultsController=d,this}setDataController(d){return this.dataController=d,this}setSettings(d){return this.sources=d.sources,this.minify=d.minify,this}render(){if(!this.resultsController.enabled)return;let d=this.resultsController.getStatistics();if(!d)return;let m=this.getBaseContainer(this.minify,this.minify,this.minify,this.minify,this.minify,this.minify);m.primaryTitle.setText("Charts"),(0,jr.setIcon)(m.icon,"chart-area");let x=getComputedStyle(document.body),C=m.container.createDiv({cls:"margin-top-large flex-center flex-wrap"}),S=C.createDiv({cls:"margin-top-medium margin-bottom-medium width-68 height-15vh"}).createEl("canvas"),D=C.createDiv({cls:"margin-top-medium margin-bottom-medium width-28 height-15vh margin-left-4"}).createEl("canvas"),k=C.createDiv({cls:"full-width margin-top-medium margin-bottom-medium height-15vh"}).createEl("canvas");this.dataController.getAllData(this.sources).then(U=>{let q=U.flashcards.length;this._renderMonthDaysChart(S,x,d.month),this._renderCardsChart(D,x,d.countByStatus,q),this._renderYearProgressionChart(k,x,d.year,q)})}_renderMonthDaysChart(d,m,x){let C=[...Array(x.days.length).keys()].map(U=>U+1),S=C.map(U=>x.days[U-1].flashcardsCount),D=Math.min.apply(null,S),k=Math.max.apply(null,S);k=Math.round(k/5)*5+5,new an(d,{type:"line",data:{labels:C,datasets:[{label:"Cards at day",data:S,fill:!1,borderColor:m.getPropertyValue("--color-accent"),borderWidth:2,tension:.2}]},options:{maintainAspectRatio:!1,aspectRatio:4/1,plugins:{title:{display:!this.minify,text:"Repeated cards by days"},subtitle:{display:!1},legend:{display:!1},tooltip:{enabled:!1}},elements:{point:{radius:0}},scales:{y:{min:D,max:k,grid:{display:!1,drawBorder:!1},ticks:{stepSize:k-D},border:{display:!1}},x:{grid:{display:!1,drawBorder:!1},border:{display:!1}}}}})}_renderCardsChart(d,m,x,C){let S=m.getPropertyValue("--color-red"),D=m.getPropertyValue("--color-yellow"),k=m.getPropertyValue("--color-green"),U=m.getPropertyValue("--color-base-35"),q=x["FAILED"],L=x["MIDDLE"],R=x["SUCCESS"],G=C-(q+L+R);G=G<0?0:G,new an(d,{type:"doughnut",data:{labels:["Failed","Middle","Success","Empty"],datasets:[{label:"Cards at day",data:[q,L,R,G],backgroundColor:[be(S,.9),be(D,.9),be(k,.9),be(U,.9)],borderWidth:0,reverse:!0}]},options:{aspectRatio:1,plugins:{title:{display:!this.minify,text:"Total card statuses"},subtitle:{display:!1},legend:{display:!1},tooltip:{enabled:!1}},elements:{point:{radius:0}},scales:{y:{grid:{display:!1,drawBorder:!1},ticks:{display:!1},border:{display:!1}},x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1},border:{display:!1}}}}})}_renderYearProgressionChart(d,m,x,C){let S=m.getPropertyValue("--color-red"),D=m.getPropertyValue("--color-yellow"),k=m.getPropertyValue("--color-green"),U=m.getPropertyValue("--color-base-35"),q=[],L=[],R=[],G=[],X=[],J=-1;for(let[yV,HV]of Object.entries(x.yearDays))for(let[MV,lV]of Object.entries(HV)){let rV=Number(MV);q.push(rV),L.push(C);let vV=lV["FAILED"],kV=lV["MIDDLE"],pV=lV["SUCCESS"];J=Math.max(Math.max(vV,kV,pV),J),R.push(vV),G.push(kV+vV),X.push(pV+kV+vV)}J=Math.max(J,C),J=Math.round(J/5)*5+5;let oV=2,tV=.6;new an(d,{type:"line",data:{labels:q,datasets:[{label:"Total",data:L,fill:!1,borderColor:U,borderWidth:oV,tension:tV/2},{label:"Failed",data:R,fill:!0,borderColor:S,backgroundColor:S,borderWidth:oV,tension:tV},{label:"Middle",data:G,fill:!0,borderColor:D,backgroundColor:D,borderWidth:oV,tension:tV},{label:"Success",data:X,fill:!0,borderColor:k,backgroundColor:k,borderWidth:oV,tension:tV}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!this.minify,text:"Cards statuses progression in year"},subtitle:{display:!1},legend:{display:!1},tooltip:{enabled:!1}},elements:{point:{radius:0}},scales:{y:{min:0,max:J,grid:{display:!1,drawBorder:!1},ticks:{stepSize:J},border:{display:!1}},x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1},border:{display:!1}}}}})}};var zs=class extends qr.Plugin{async onload(){await this.loadSettings(),this.parser=new ls(this.app,this),this.dataController=new ks().setPlugin(this),this.resultsController=new gs().setPlugin(this),this.groupsController=new Ls().setPlugin(this),this.dataController.load().then(()=>this.resultsController.load()).then(()=>{this.groupsController.load()}),this.registerMarkdownCodeBlockProcessor(this.settings.dataJSONTag,this.getCardsBlockMarkdownProcessor(d=>this.parser.parseCardsJSON(d))),window.CodeMirror.defineMode(this.settings.dataJSONTag,d=>window.CodeMirror.getMode(d,"application/json")),this.settings.enableJS?this.registerMarkdownCodeBlockProcessor(this.settings.dataJSTag,this.getCardsBlockMarkdownProcessor(d=>this.parser.parseCardsJS(d))):this.registerMarkdownCodeBlockProcessor(this.settings.dataJSTag,(d,m,x)=>{new ye(m).setError("JS scripts disabled, enable from settings").render()}),window.CodeMirror.defineMode(this.settings.dataJSTag,d=>window.CodeMirror.getMode(d,"text/javascript")),this.registerMarkdownCodeBlockProcessor(this.settings.todayTag,(d,m,x)=>{let C={};try{C=JSON.parse(d)}catch(D){}new Es(m).setSettings(Object.assign(new Ps,C)).setDataController(this.dataController).setResultsController(this.resultsController).setOnOpen(()=>{this.openQuizModalWithAllCards()}).render()}),window.CodeMirror.defineMode(this.settings.todayTag,d=>window.CodeMirror.getMode(d,"application/json")),this.registerMarkdownCodeBlockProcessor(this.settings.chartsTag,(d,m,x)=>{let C={};try{C=JSON.parse(d)}catch(D){}new Bs(m).setSettings(Object.assign(new Os,C)).setDataController(this.dataController).setResultsController(this.resultsController).render()}),window.CodeMirror.defineMode(this.settings.chartsTag,d=>window.CodeMirror.getMode(d,"application/json")),this.registerMarkdownCodeBlockProcessor(this.settings.quizTag,async(d,m,x)=>{let C={};try{C=JSON.parse(d)}catch(k){}let S=Object.assign(new Is,C),D=new Ut(this.settings.enableJS,this.settings.allowFullscreen,this.settings.soundFeedback,this.settings.vibrateFeedback);new Fs(m).setDataController(this.dataController).setResultsController(this.resultsController).setGroupsController(this.groupsController).setParserResult(await this.dataController.getAllData(S.sources)).setMarkdownQuizViewSettings(S).setQuizViewSettings(D).render()}),window.CodeMirror.defineMode(this.settings.quizTag,d=>window.CodeMirror.getMode(d,"application/json")),this.addSettingTab(new os(this.app,this)),this.addRibbonIcon("play","Run quiz",()=>{this.openQuizModalWithAllCards()}),this.addCommand({id:"run-quiz",name:"Run quiz",callback:()=>{this.openQuizModalWithAllCards()}})}getCardsBlockMarkdownProcessor(d){return async(m,x,C)=>{if(!this.settings.showCardsPlaceholder)return;let S=new ye(x).setMinify(this.settings.minifyCardPlaceholder);new Promise(async(D,k)=>{try{D((await d(m)).flashcards)}catch(U){k(U.toString())}}).then(D=>{S.setFlashcards(D).setOnOpen(()=>{this.openQuizModal(D)})}).catch(D=>{S.setError(D)}).finally(()=>{S.render()})}}async openQuizModalWithAllCards(){let d=(await this.dataController.getAllData()).flashcards;this.openQuizModal(d)}openQuizModal(d){new Ms(this.app,this,d).open()}async loadSettings(){this.settings=Object.assign({},Er,await this.loadData())}async saveSettings(){await this.saveData(this.settings),await this.resultsController.setEnabled(this.settings.saveResults)}};
/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */

/* nosourcemap */